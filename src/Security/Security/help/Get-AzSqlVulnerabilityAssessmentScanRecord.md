---
external help file: Microsoft.Azure.PowerShell.Cmdlets.Security.dll-Help.xml
Module Name: Az.Security
online version:
schema: 2.0.0
---

# Get-AzSqlVulnerabilityAssessmentScanRecord

## SYNOPSIS
Gets SQL Vulnerability Assessment scan records.

## SYNTAX

### ResourceIdWithScanId
```
Get-AzSqlVulnerabilityAssessmentScanRecord -ScanId <String> -ResourceId <String> -WorkspaceId <String>
 -Server <String> -Database <String> [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
```

### OnPremMachinesWithScanId
```
Get-AzSqlVulnerabilityAssessmentScanRecord -ScanId <String> -WorkspaceId <String> -Server <String>
 -Database <String> -ComputerName <String> -VMUUID <String> -AgentId <String> -WorkspaceResourceId <String>
 [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
```

### ResourceIdWithLatest
```
Get-AzSqlVulnerabilityAssessmentScanRecord [-UseLatest] -ResourceId <String> -WorkspaceId <String>
 -Server <String> -Database <String> [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
```

### OnPremMachinesWithLatest
```
Get-AzSqlVulnerabilityAssessmentScanRecord [-UseLatest] -WorkspaceId <String> -Server <String>
 -Database <String> -ComputerName <String> -VMUUID <String> -AgentId <String> -WorkspaceResourceId <String>
 [-DefaultProfile <IAzureContextContainer>] [<CommonParameters>]
```

## DESCRIPTION
Gets SQL Vulnerability Assessment scan records.

## EXAMPLES

### Example 1
```powershell
PS C:\> Get-AzSqlVulnerabilityAssessmentScanRecord -ResourceId /subscriptions/f26d1f13-67d5-4ad6-9012-67ca12d2436f/resourcegroups/ahmadtesting/providers/microsoft.operationalinsights/workspaces/ahabas-workspace/onPremiseMachines/ahabas-dev01.middleeast.corp.microsoft.com_49640166-652f-4ee6-b48b-cfb840b8afe2_4c4c4544-0030-4b10-8039-b8c04f4a3332 -WorkspaceId  ba7c9d0e-a6e3-4997-b575-cf7a18a98a49 -Server AHABASDEV01SRV -Database master -ScanId 169a5f78-acff-4e05-b597-6252af7e6677 

TriggerType                    : Recurring
State                          : Failed
Server                         : AHABASDEV01SRV
Database                       : master
SqlVersion                     : 14.0.1000.169
StartTime                      : 11/18/2020 1:10:34 AM
EndTime                        : 11/18/2020 1:40:20 AM
HighSeverityFailedRulesCount   : 9
MediumSeverityFailedRulesCount : 2
LowSeverityFailedRulesCount    : 5
TotalPassedRulesCount          : 43
TotalFailedRulesCount          : 16
TotalRulesCount                : 59
IsBaselineApplied              : True
Id                             : /subscriptions/f26d1f13-67d5-4ad6-9012-67ca12d2436f/resourcegroups/ahmadtesting/provid
                                 ers/microsoft.operationalinsights/workspaces/ahabas-workspace/onpremisemachines/ahabas
                                 -dev01.middleeast.corp.microsoft.com_49640166-652f-4ee6-b48b-cfb840b8afe2_4c4c4544-003
                                 0-4b10-8039-b8c04f4a3332/sqlServers/AHABASDEV01SRV/databases/master/providers/Microsof
                                 t.Security/sqlVulnerabilityAssessments/default/scans/169a5f78-acff-4e05-b597-6252af7e6
                                 677
Name                           : 169a5f78-acff-4e05-b597-6252af7e6677
Type                           : Microsoft.Security/sqlVulnerabilityAssessments/scans
```


## PARAMETERS

### -AgentId
Agent id - on premise parameter

```yaml
Type: System.String
Parameter Sets: OnPremMachinesWithScanId, OnPremMachinesWithLatest
Aliases:

Required: True
Position: Named
Default value: None
Accept pipeline input: False
Accept wildcard characters: False
```

### -ComputerName
Computer full name - on premise parameter

```yaml
Type: System.String
Parameter Sets: OnPremMachinesWithScanId, OnPremMachinesWithLatest
Aliases:

Required: True
Position: Named
Default value: None
Accept pipeline input: False
Accept wildcard characters: False
```

### -Database
Database name

```yaml
Type: System.String
Parameter Sets: (All)
Aliases:

Required: True
Position: Named
Default value: None
Accept pipeline input: False
Accept wildcard characters: False
```

### -DefaultProfile
The credentials, account, tenant, and subscription used for communication with Azure.

```yaml
Type: Microsoft.Azure.Commands.Common.Authentication.Abstractions.Core.IAzureContextContainer
Parameter Sets: (All)
Aliases: AzContext, AzureRmContext, AzureCredential

Required: False
Position: Named
Default value: None
Accept pipeline input: False
Accept wildcard characters: False
```

### -ResourceId
ID of the security resource that you want to invoke the command on.

```yaml
Type: System.String
Parameter Sets: ResourceIdWithScanId, ResourceIdWithLatest
Aliases:

Required: True
Position: Named
Default value: None
Accept pipeline input: False
Accept wildcard characters: False
```

### -ScanId
Vulnerability Assessment scan id

```yaml
Type: System.String
Parameter Sets: ResourceIdWithScanId, OnPremMachinesWithScanId
Aliases:

Required: True
Position: Named
Default value: None
Accept pipeline input: False
Accept wildcard characters: False
```

### -Server
Server name

```yaml
Type: System.String
Parameter Sets: (All)
Aliases:

Required: True
Position: Named
Default value: None
Accept pipeline input: False
Accept wildcard characters: False
```

### -UseLatest
Use latest results for the operation

```yaml
Type: System.Management.Automation.SwitchParameter
Parameter Sets: ResourceIdWithLatest, OnPremMachinesWithLatest
Aliases:

Required: True
Position: Named
Default value: None
Accept pipeline input: False
Accept wildcard characters: False
```

### -VMUUID
VMUUID - on premise parameter

```yaml
Type: System.String
Parameter Sets: OnPremMachinesWithScanId, OnPremMachinesWithLatest
Aliases:

Required: True
Position: Named
Default value: None
Accept pipeline input: False
Accept wildcard characters: False
```

### -WorkspaceId
Workspace ID.

```yaml
Type: System.String
Parameter Sets: (All)
Aliases:

Required: True
Position: Named
Default value: None
Accept pipeline input: False
Accept wildcard characters: False
```

### -WorkspaceResourceId
Workspace resource id - on premise parameter

```yaml
Type: System.String
Parameter Sets: OnPremMachinesWithScanId, OnPremMachinesWithLatest
Aliases:

Required: True
Position: Named
Default value: None
Accept pipeline input: False
Accept wildcard characters: False
```

### CommonParameters
This cmdlet supports the common parameters: -Debug, -ErrorAction, -ErrorVariable, -InformationAction, -InformationVariable, -OutVariable, -OutBuffer, -PipelineVariable, -Verbose, -WarningAction, and -WarningVariable. For more information, see [about_CommonParameters](http://go.microsoft.com/fwlink/?LinkID=113216).

## INPUTS

### None

## OUTPUTS

### Microsoft.Azure.Commands.SecurityCenter.Models.SqlVulnerabilityAssessment.PSSqlVulnerabilityAssessmentScanRecord

## NOTES

## RELATED LINKS
