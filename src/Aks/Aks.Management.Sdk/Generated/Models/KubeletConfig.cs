// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License. See License.txt in the project root for license information.
// Code generated by Microsoft (R) AutoRest Code Generator.
// Changes may cause incorrect behavior and will be lost if the code is regenerated.

namespace Microsoft.Azure.Management.ContainerService.Models
{
    using System.Linq;

    /// <summary>
    /// See [AKS custom node
    /// configuration](https://docs.microsoft.com/azure/aks/custom-node-configuration)
    /// for more details.
    /// </summary>
    /// <remarks>
    /// See [AKS custom node
    /// configuration](https://docs.microsoft.com/azure/aks/custom-node-configuration)
    /// for more details.
    /// </remarks>
    public partial class KubeletConfig
    {
        /// <summary>
        /// Initializes a new instance of the KubeletConfig class.
        /// </summary>
        public KubeletConfig()
        {
            CustomInit();
        }

        /// <summary>
        /// Initializes a new instance of the KubeletConfig class.
        /// </summary>

        /// <param name="cpuManagerPolicy">The default is &#39;none&#39;. See [Kubernetes CPU management
        /// policies](https://kubernetes.io/docs/tasks/administer-cluster/cpu-management-policies/#cpu-management-policies)
        /// for more information. Allowed values are &#39;none&#39; and &#39;static&#39;.
        /// </param>

        /// <param name="cpuCfsQuota">The default is true.
        /// </param>

        /// <param name="cpuCfsQuotaPeriod">The default is &#39;100ms.&#39; Valid values are a sequence of decimal numbers with
        /// an optional fraction and a unit suffix. For example: &#39;300ms&#39;, &#39;2h45m&#39;.
        /// Supported units are &#39;ns&#39;, &#39;us&#39;, &#39;ms&#39;, &#39;s&#39;, &#39;m&#39;, and &#39;h&#39;.
        /// </param>

        /// <param name="imageGcHighThreshold">To disable image garbage collection, set to 100. The default is 85%
        /// </param>

        /// <param name="imageGcLowThreshold">This cannot be set higher than imageGcHighThreshold. The default is 80%
        /// </param>

        /// <param name="topologyManagerPolicy">For more information see [Kubernetes Topology
        /// Manager](https://kubernetes.io/docs/tasks/administer-cluster/topology-manager).
        /// The default is &#39;none&#39;. Allowed values are &#39;none&#39;, &#39;best-effort&#39;,
        /// &#39;restricted&#39;, and &#39;single-numa-node&#39;.
        /// </param>

        /// <param name="allowedUnsafeSysctls">Allowed list of unsafe sysctls or unsafe sysctl patterns (ending in `*`).
        /// </param>

        /// <param name="failSwapOn">If set to true it will make the Kubelet fail to start if swap is enabled on
        /// the node.
        /// </param>

        /// <param name="containerLogMaxSizeMb">The maximum size (e.g. 10Mi) of container log file before it is rotated.
        /// </param>

        /// <param name="containerLogMaxFiles">The maximum number of container log files that can be present for a
        /// container. The number must be ≥ 2.
        /// </param>

        /// <param name="podMaxPids">The maximum number of processes per pod.
        /// </param>
        public KubeletConfig(string cpuManagerPolicy = default(string), bool? cpuCfsQuota = default(bool?), string cpuCfsQuotaPeriod = default(string), int? imageGcHighThreshold = default(int?), int? imageGcLowThreshold = default(int?), string topologyManagerPolicy = default(string), System.Collections.Generic.IList<string> allowedUnsafeSysctls = default(System.Collections.Generic.IList<string>), bool? failSwapOn = default(bool?), int? containerLogMaxSizeMb = default(int?), int? containerLogMaxFiles = default(int?), int? podMaxPids = default(int?))

        {
            this.CpuManagerPolicy = cpuManagerPolicy;
            this.CpuCfsQuota = cpuCfsQuota;
            this.CpuCfsQuotaPeriod = cpuCfsQuotaPeriod;
            this.ImageGcHighThreshold = imageGcHighThreshold;
            this.ImageGcLowThreshold = imageGcLowThreshold;
            this.TopologyManagerPolicy = topologyManagerPolicy;
            this.AllowedUnsafeSysctls = allowedUnsafeSysctls;
            this.FailSwapOn = failSwapOn;
            this.ContainerLogMaxSizeMb = containerLogMaxSizeMb;
            this.ContainerLogMaxFiles = containerLogMaxFiles;
            this.PodMaxPids = podMaxPids;
            CustomInit();
        }

        /// <summary>
        /// An initialization method that performs custom operations like setting defaults
        /// </summary>
        partial void CustomInit();


        /// <summary>
        /// Gets or sets the default is &#39;none&#39;. See [Kubernetes CPU management
        /// policies](https://kubernetes.io/docs/tasks/administer-cluster/cpu-management-policies/#cpu-management-policies)
        /// for more information. Allowed values are &#39;none&#39; and &#39;static&#39;.
        /// </summary>
        [Newtonsoft.Json.JsonProperty(PropertyName = "cpuManagerPolicy")]
        public string CpuManagerPolicy {get; set; }

        /// <summary>
        /// Gets or sets the default is true.
        /// </summary>
        [Newtonsoft.Json.JsonProperty(PropertyName = "cpuCfsQuota")]
        public bool? CpuCfsQuota {get; set; }

        /// <summary>
        /// Gets or sets the default is &#39;100ms.&#39; Valid values are a sequence of decimal
        /// numbers with an optional fraction and a unit suffix. For example: &#39;300ms&#39;,
        /// &#39;2h45m&#39;. Supported units are &#39;ns&#39;, &#39;us&#39;, &#39;ms&#39;, &#39;s&#39;, &#39;m&#39;, and &#39;h&#39;.
        /// </summary>
        [Newtonsoft.Json.JsonProperty(PropertyName = "cpuCfsQuotaPeriod")]
        public string CpuCfsQuotaPeriod {get; set; }

        /// <summary>
        /// Gets or sets to disable image garbage collection, set to 100. The default
        /// is 85%
        /// </summary>
        [Newtonsoft.Json.JsonProperty(PropertyName = "imageGcHighThreshold")]
        public int? ImageGcHighThreshold {get; set; }

        /// <summary>
        /// Gets or sets this cannot be set higher than imageGcHighThreshold. The
        /// default is 80%
        /// </summary>
        [Newtonsoft.Json.JsonProperty(PropertyName = "imageGcLowThreshold")]
        public int? ImageGcLowThreshold {get; set; }

        /// <summary>
        /// Gets or sets for more information see [Kubernetes Topology
        /// Manager](https://kubernetes.io/docs/tasks/administer-cluster/topology-manager).
        /// The default is &#39;none&#39;. Allowed values are &#39;none&#39;, &#39;best-effort&#39;,
        /// &#39;restricted&#39;, and &#39;single-numa-node&#39;.
        /// </summary>
        [Newtonsoft.Json.JsonProperty(PropertyName = "topologyManagerPolicy")]
        public string TopologyManagerPolicy {get; set; }

        /// <summary>
        /// Gets or sets allowed list of unsafe sysctls or unsafe sysctl patterns
        /// (ending in `*`).
        /// </summary>
        [Newtonsoft.Json.JsonProperty(PropertyName = "allowedUnsafeSysctls")]
        public System.Collections.Generic.IList<string> AllowedUnsafeSysctls {get; set; }

        /// <summary>
        /// Gets or sets if set to true it will make the Kubelet fail to start if swap
        /// is enabled on the node.
        /// </summary>
        [Newtonsoft.Json.JsonProperty(PropertyName = "failSwapOn")]
        public bool? FailSwapOn {get; set; }

        /// <summary>
        /// Gets or sets the maximum size (e.g. 10Mi) of container log file before it
        /// is rotated.
        /// </summary>
        [Newtonsoft.Json.JsonProperty(PropertyName = "containerLogMaxSizeMB")]
        public int? ContainerLogMaxSizeMb {get; set; }

        /// <summary>
        /// Gets or sets the maximum number of container log files that can be present
        /// for a container. The number must be ≥ 2.
        /// </summary>
        [Newtonsoft.Json.JsonProperty(PropertyName = "containerLogMaxFiles")]
        public int? ContainerLogMaxFiles {get; set; }

        /// <summary>
        /// Gets or sets the maximum number of processes per pod.
        /// </summary>
        [Newtonsoft.Json.JsonProperty(PropertyName = "podMaxPids")]
        public int? PodMaxPids {get; set; }
        /// <summary>
        /// Validate the object.
        /// </summary>
        /// <exception cref="Microsoft.Rest.ValidationException">
        /// Thrown if validation fails
        /// </exception>
        public virtual void Validate()
        {




            if (this.ContainerLogMaxFiles != null)
            {
                if (this.ContainerLogMaxFiles < 2)
                {
                    throw new Microsoft.Rest.ValidationException(Microsoft.Rest.ValidationRules.InclusiveMinimum, "ContainerLogMaxFiles", 2);
                }
            }
        }
    }
}