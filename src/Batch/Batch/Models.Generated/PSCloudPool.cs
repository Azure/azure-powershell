// -----------------------------------------------------------------------------
﻿//
﻿// Copyright Microsoft Corporation
﻿// Licensed under the Apache License, Version 2.0 (the "License");
﻿// you may not use this file except in compliance with the License.
﻿// You may obtain a copy of the License at
﻿// http://www.apache.org/licenses/LICENSE-2.0
﻿// Unless required by applicable law or agreed to in writing, software
﻿// distributed under the License is distributed on an "AS IS" BASIS,
﻿// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
﻿// See the License for the specific language governing permissions and
﻿// limitations under the License.
﻿// -----------------------------------------------------------------------------
//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version:5.0.17
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

namespace Microsoft.Azure.Commands.Batch.Models
{
    using Microsoft.Azure.Batch;
    using System;
    using System.Collections;
    using System.Collections.Generic;
    using Microsoft.Azure.Management.Batch.Models;

    public partial class PSCloudPool
    {
        
        internal Microsoft.Azure.Batch.CloudPool omObject;
        
        private IList<PSApplicationPackageReference> applicationPackageReferences;
        
        private PSAutoScaleRun autoScaleRun;
        
        private PSBatchPoolIdentity identity;
        
        private IDictionary metadata;
        
        private IList<PSMountConfiguration> mountConfiguration;
        
        private PSNetworkConfiguration networkConfiguration;
        
        private IReadOnlyList<PSResizeError> resizeErrors;
        
        private PSStartTask startTask;
        
        private PSTaskSchedulingPolicy taskSchedulingPolicy;
        
        private PSUpgradePolicy upgradePolicy;
        
        private IList<PSUserAccount> userAccounts;
        
        private PSVirtualMachineConfiguration virtualMachineConfiguration;

        internal Pool mgmtObject;

        internal PSCloudPool(Pool mgmtObject)
        {
            if ((mgmtObject == null))
            {
                throw new System.ArgumentNullException("mgmtObject");
            }
            this.mgmtObject = mgmtObject;
        }

        internal PSCloudPool(Microsoft.Azure.Batch.CloudPool omObject)
        {
            if ((omObject == null))
            {
                throw new System.ArgumentNullException("omObject");
            }
            this.omObject = omObject;
        }
        
        public Microsoft.Azure.Batch.Common.AllocationState? AllocationState
        {
            get
            {
                return Utils.Utils.ToPSAllocationState(this.mgmtObject.AllocationState);
            }
        }
        
        public System.DateTime? AllocationStateTransitionTime
        {
            get
            {
                return this.mgmtObject.AllocationStateTransitionTime;
            }
        }
        
        public IList<PSApplicationPackageReference> ApplicationPackageReferences
        {
            get
            {
                if (((this.applicationPackageReferences == null) 
                            && (this.mgmtObject.ApplicationPackages != null)))
                {
                    List<PSApplicationPackageReference> list;
                    list = new List<PSApplicationPackageReference>();
                    IEnumerator<Microsoft.Azure.Management.Batch.Models.ApplicationPackageReference> enumerator;
                    enumerator = this.mgmtObject.ApplicationPackages.GetEnumerator();
                    for (
                    ; enumerator.MoveNext(); 
                    )
                    {
                        list.Add(PSApplicationPackageReference.fromMgmtApplicationPackageReference(enumerator.Current));
                    }
                    this.applicationPackageReferences = list;
                }
                return this.applicationPackageReferences;
            }
            set
            {
                if ((value == null))
                {
                    this.mgmtObject.ApplicationPackages = null;
                }
                else
                {
                    this.mgmtObject.ApplicationPackages = new List<Microsoft.Azure.Management.Batch.Models.ApplicationPackageReference>();
                    foreach (var item in value)
                    {
                        this.mgmtObject.ApplicationPackages.Add(item.toMgmtApplicationPackageReference());
                    }
                }
                this.applicationPackageReferences = value;
            }
        }
        
        public System.Boolean? AutoScaleEnabled
        {
            get
            {
                return this.mgmtObject.ScaleSettings?.AutoScale?.Formula != null;
            }
            set
            {
                //this.omObject.AutoScaleEnabled = value;
            }
        }
        
        public System.TimeSpan? AutoScaleEvaluationInterval
        {
            get
            {
                return this.mgmtObject.ScaleSettings?.AutoScale?.EvaluationInterval;
            }
            set
            {
                if (this.mgmtObject.ScaleSettings == null)
                {
                    this.mgmtObject.ScaleSettings = new ScaleSettings();
                }
                if (this.mgmtObject.ScaleSettings.AutoScale == null)
                {
                    this.mgmtObject.ScaleSettings.AutoScale = new AutoScaleSettings();
                }
                this.mgmtObject.ScaleSettings.AutoScale.EvaluationInterval = value;
            }
        }
        
        public string AutoScaleFormula
        {
            get
            {
                return this.mgmtObject.ScaleSettings?.AutoScale?.Formula;
            }
            set
            {
                if (this.mgmtObject.ScaleSettings == null)
                {
                    this.mgmtObject.ScaleSettings = new ScaleSettings();
                }
                if (this.mgmtObject.ScaleSettings.AutoScale == null)
                {
                    this.mgmtObject.ScaleSettings.AutoScale = new AutoScaleSettings();
                }
                this.mgmtObject.ScaleSettings.AutoScale.Formula = value;
            }
        }
        
        public PSAutoScaleRun AutoScaleRun
        {
            get
            {
                if (((this.autoScaleRun == null)
                            && (this.mgmtObject.AutoScaleRun != null)))
                {
                    this.autoScaleRun = PSAutoScaleRun.fromMgmtAutoScaleRun(this.mgmtObject.AutoScaleRun);
                }
                return this.autoScaleRun;
            }
        }
        
        public System.DateTime? CreationTime
        {
            get
            {
                return this.mgmtObject.CreationTime;
            }
        }
        
        public System.Int32? CurrentDedicatedComputeNodes
        {
            get
            {
                return this.mgmtObject.CurrentDedicatedNodes;
            }
        }
        
        public System.Int32? CurrentLowPriorityComputeNodes
        {
            get
            {
                return this.mgmtObject.CurrentLowPriorityNodes;
            }
        }
        
        public string DisplayName
        {
            get
            {
                return this.mgmtObject.DisplayName;
            }
            set
            {
                this.mgmtObject.DisplayName = value;
            }
        }
        
        public string ETag
        {
            get
            {
                return this.mgmtObject.Etag;
            }
        }
        
        public string Id
        {
            get
            {
                return this.mgmtObject.Id;
            }
        }
        
        public PSBatchPoolIdentity Identity
        {
            get
            {
                if (((this.identity == null) 
                            && (this.mgmtObject.Identity != null)))
                {
                    this.identity = new PSBatchPoolIdentity(this.mgmtObject.Identity);
                }
                return this.identity;
            }
        }
        
        public System.Boolean? InterComputeNodeCommunicationEnabled
        {
            get
            {
                if (this.mgmtObject.InterNodeCommunication == null)
                {
                    return this.mgmtObject.InterNodeCommunication == InterNodeCommunicationState.Enabled;
                }
                return false;
            }
            set
            {
                if ((value != null) && (value == true))
                {
                    this.mgmtObject.InterNodeCommunication = InterNodeCommunicationState.Enabled;
                }
                else
                {
                    this.mgmtObject.InterNodeCommunication = InterNodeCommunicationState.Disabled;
                }

            }
        }
        
        public System.DateTime? LastModified
        {
            get
            {
                return this.mgmtObject.LastModified;
            }
        }
        
        public IDictionary Metadata
        {
            get
            {
                if (((this.metadata == null) 
                            && (this.mgmtObject.Metadata != null)))
                {
                    Dictionary<string, string> dict;
                    dict = new Dictionary<string, string>();
                    IEnumerator<Management.Batch.Models.MetadataItem> enumerator;
                    enumerator = this.mgmtObject.Metadata.GetEnumerator();
                    for (
                    ; enumerator.MoveNext(); 
                    )
                    {
                        dict.Add(enumerator.Current.Name, enumerator.Current.Value);
                    }
                    this.metadata = dict;
                }
                return this.metadata;
            }
            set
            {
                if ((value == null))
                {
                    this.mgmtObject.Metadata = null;
                }
                else
                {
                    this.mgmtObject.Metadata = new List<Management.Batch.Models.MetadataItem>();
                }
                this.metadata = value;
            }
        }
        
        public IList<PSMountConfiguration> MountConfiguration
        {
            get
            {
                if (((this.mountConfiguration == null) 
                            && (this.mgmtObject.MountConfiguration != null)))
                {
                    List<PSMountConfiguration> list;
                    list = new List<PSMountConfiguration>();
                    IEnumerator<Management.Batch.Models.MountConfiguration> enumerator;
                    enumerator = this.mgmtObject.MountConfiguration.GetEnumerator();
                    for (
                    ; enumerator.MoveNext(); 
                    )
                    {
                        list.Add(PSMountConfiguration.fromMgmtMountConfiguration(enumerator.Current));
                    }
                    this.mountConfiguration = list;
                }
                return this.mountConfiguration;
            }
            set
            {
                if ((value == null))
                {
                    this.mgmtObject.MountConfiguration = null;
                }
                else
                {
                    this.mgmtObject.MountConfiguration = new List<Management.Batch.Models.MountConfiguration>();
                }
                this.mountConfiguration = value;
            }
        }
        
        public PSNetworkConfiguration NetworkConfiguration
        {
            get
            {
                if (((this.networkConfiguration == null) 
                            && (this.mgmtObject.NetworkConfiguration != null)))
                {
                    this.networkConfiguration = PSNetworkConfiguration.fromMgmtNetworkConfiguration(this.mgmtObject.NetworkConfiguration);
                }
                return this.networkConfiguration;
            }
            set
            {
                if ((value == null))
                {
                    this.mgmtObject.NetworkConfiguration = null;
                }
                else
                {
                    this.mgmtObject.NetworkConfiguration = value.toMgmtNetworkConfiguration();
                }
                this.networkConfiguration = value;
            }
        }
        
        public IReadOnlyList<PSResizeError> ResizeErrors
        {
            get
            {
                if (((this.resizeErrors == null) 
                            && (this.mgmtObject.ResizeOperationStatus.Errors != null)))
                {
                    List<PSResizeError> list;
                    list = new List<PSResizeError>();
                    IEnumerator<Management.Batch.Models.ResizeError> enumerator;
                    enumerator = this.mgmtObject.ResizeOperationStatus.Errors.GetEnumerator();
                    for (
                    ; enumerator.MoveNext(); 
                    )
                    {
                        list.Add(new PSResizeError(enumerator.Current));
                    }
                    this.resizeErrors = list;
                }
                return this.resizeErrors;
            }
        }
        
        public System.TimeSpan? ResizeTimeout
        {
            get
            {
                return this.mgmtObject.ScaleSettings?.FixedScale?.ResizeTimeout;
            }
            set
            {
                if (this.mgmtObject.ScaleSettings == null)
                {
                    this.mgmtObject.ScaleSettings = new ScaleSettings();
                }
                if (this.mgmtObject.ScaleSettings.FixedScale == null)
                {
                    this.mgmtObject.ScaleSettings.FixedScale = new FixedScaleSettings();
                }
                this.mgmtObject.ScaleSettings.FixedScale.ResizeTimeout = value;
            }
        }
        
        public PSStartTask StartTask
        {
            get
            {
                if (((this.startTask == null) 
                            && (this.mgmtObject.StartTask != null)))
                {
                    this.startTask = PSStartTask.fromMgmtStartTask(this.mgmtObject.StartTask);
                }
                return this.startTask;
            }
            set
            {
                if ((value == null))
                {
                    this.mgmtObject.StartTask = null;
                }
                else
                {
                    this.mgmtObject.StartTask = value.toMgmtStartTask();
                }
                this.startTask = value;
            }
        }
        
        public Microsoft.Azure.Batch.Common.PoolState? State
        {
            get
            {
                return Utils.Utils.toPoolState(this.mgmtObject.ProvisioningState);
            }
        }
        
        public System.DateTime? StateTransitionTime
        {
            get
            {
                return this.mgmtObject.AllocationStateTransitionTime;
            }
        }
        
        public System.Int32? TargetDedicatedComputeNodes
        {
            get
            {
                return this.mgmtObject.ScaleSettings?.FixedScale?.TargetDedicatedNodes;
            }
            set
            {
                if (this.mgmtObject.ScaleSettings == null)
                {
                    this.mgmtObject.ScaleSettings = new ScaleSettings();
                }
                if (this.mgmtObject.ScaleSettings.FixedScale == null)
                {
                    this.mgmtObject.ScaleSettings.FixedScale = new FixedScaleSettings();
                }
                this.mgmtObject.ScaleSettings.FixedScale.TargetDedicatedNodes = value;
            }
        }
        
        public System.Int32? TargetLowPriorityComputeNodes
        {
            get
            {
                return this.mgmtObject.ScaleSettings?.FixedScale?.TargetLowPriorityNodes;
            }
            set
            {
                if (this.mgmtObject.ScaleSettings == null)
                {
                    this.mgmtObject.ScaleSettings = new ScaleSettings();
                }
                if (this.mgmtObject.ScaleSettings.FixedScale == null)
                {
                    this.mgmtObject.ScaleSettings.FixedScale = new FixedScaleSettings();
                }
                this.mgmtObject.ScaleSettings.FixedScale.TargetLowPriorityNodes = value;
            }
        }
        
        public PSTaskSchedulingPolicy TaskSchedulingPolicy
        {
            get
            {
                if (((this.taskSchedulingPolicy == null) 
                            && (this.mgmtObject.TaskSchedulingPolicy != null)))
                {
                    this.taskSchedulingPolicy = PSTaskSchedulingPolicy.fromMgmtTaskSchedulingPolicy(this.mgmtObject.TaskSchedulingPolicy);
                }
                return this.taskSchedulingPolicy;
            }
            set
            {
                if ((value == null))
                {
                    this.mgmtObject.TaskSchedulingPolicy = null;
                }
                else
                {
                    this.mgmtObject.TaskSchedulingPolicy = value.toMgmtTaskSchedulingPolicy();
                }
                this.taskSchedulingPolicy = value;
            }
        }
        
        public System.Int32? TaskSlotsPerNode
        {
            get
            {
                return this.mgmtObject.TaskSlotsPerNode;
            }
            set
            {
                this.mgmtObject.TaskSlotsPerNode = value;
            }
        }
        
        public PSUpgradePolicy UpgradePolicy
        {
            get
            {
                if (((this.upgradePolicy == null) 
                            && (this.mgmtObject.UpgradePolicy != null)))
                {
                    this.upgradePolicy = PSUpgradePolicy.fromMgmtUpgradePolicy(this.mgmtObject.UpgradePolicy);
                }
                return this.upgradePolicy;
            }
            set
            {
                if ((value == null))
                {
                    this.mgmtObject.UpgradePolicy = null;
                }
                else
                {
                    this.mgmtObject.UpgradePolicy = value.toMgmtUpgradePolicy();
                }
                this.upgradePolicy = value;
            }
        }
        
        public IList<PSUserAccount> UserAccounts
        {
            get
            {
                if (((this.userAccounts == null) 
                            && (this.mgmtObject.UserAccounts != null)))
                {
                    List<PSUserAccount> list;
                    list = new List<PSUserAccount>();
                    IEnumerator<Management.Batch.Models.UserAccount> enumerator;
                    enumerator = this.mgmtObject.UserAccounts.GetEnumerator();
                    for (
                    ; enumerator.MoveNext(); 
                    )
                    {
                        list.Add( PSUserAccount.fromMgmtUserAccount(enumerator.Current));
                    }
                    this.userAccounts = list;
                }
                return this.userAccounts;
            }
            set
            {
                if ((value == null))
                {
                    this.mgmtObject.UserAccounts = null;
                }
                else
                {
                    this.mgmtObject.UserAccounts = new List<Management.Batch.Models.UserAccount>();
                    foreach (var item in value)
                    {
                        this.mgmtObject.UserAccounts.Add(item.toMgmtUserAccount());
                    }
                }
                this.userAccounts = value;
            }
        }
        
        public PSVirtualMachineConfiguration VirtualMachineConfiguration
        {
            get
            {
                if (((this.virtualMachineConfiguration == null) && (this.mgmtObject.DeploymentConfiguration != null)
                            && (this.mgmtObject.DeploymentConfiguration.VirtualMachineConfiguration != null)))
                {
                    this.virtualMachineConfiguration = PSVirtualMachineConfiguration.fromMgmtPSVirtualMachineConfiguration(this.mgmtObject.DeploymentConfiguration.VirtualMachineConfiguration);
                }
                return this.virtualMachineConfiguration;
            }
            set
            {
                if ((value == null))
                {
                    if (this.mgmtObject.DeploymentConfiguration == null)
                    {
                        this.mgmtObject.DeploymentConfiguration = new Management.Batch.Models.DeploymentConfiguration();
                    }
                    this.mgmtObject.DeploymentConfiguration.VirtualMachineConfiguration = null;
                }
                else
                {
                    if (this.mgmtObject.DeploymentConfiguration == null)
                    {
                        this.mgmtObject.DeploymentConfiguration = new Management.Batch.Models.DeploymentConfiguration();
                    }
                    this.mgmtObject.DeploymentConfiguration.VirtualMachineConfiguration = value.toMgmtVirtualMachineConfiguration();
                }
                this.virtualMachineConfiguration = value;
            }
        }
        
        public string VirtualMachineSize
        {
            get
            {
                return this.mgmtObject.VMSize;
            }
            set
            {
                this.mgmtObject.VMSize = value;
            }
        }
    }
}
