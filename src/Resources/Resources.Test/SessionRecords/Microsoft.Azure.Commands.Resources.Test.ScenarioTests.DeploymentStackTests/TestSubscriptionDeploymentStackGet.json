{
  "Entries": [
    {
      "RequestUri": "/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps6461?api-version=2021-05-01-preview",
      "EncodedRequestUri": "L3N1YnNjcmlwdGlvbnMvYTFiZmE2MzUtZjJiZi00MmYxLTg2YjUtODQ4YzY3NGZjMzIxL3Byb3ZpZGVycy9NaWNyb3NvZnQuUmVzb3VyY2VzL2RlcGxveW1lbnRTdGFja3MvcHM2NDYxP2FwaS12ZXJzaW9uPTIwMjEtMDUtMDEtcHJldmlldw==",
      "RequestMethod": "GET",
      "RequestBody": "",
      "RequestHeaders": {
        "x-ms-client-request-id": [
          "5a573bb6-7ce5-49d0-9e93-4f0c59a718fa"
        ],
        "Accept-Language": [
          "en-US"
        ],
        "User-Agent": [
          "FxVersion/4.6.30411.01",
          "OSName/Windows",
          "OSVersion/Microsoft.Windows.10.0.22000.",
          "Microsoft.Azure.Management.ResourceManager.DeploymentStacksClient/3.13.2.0"
        ]
      },
      "ResponseHeaders": {
        "Cache-Control": [
          "no-cache"
        ],
        "Pragma": [
          "no-cache"
        ],
        "x-ms-failure-cause": [
          "gateway"
        ],
        "x-ms-request-id": [
          "52ce49ab-67db-4e63-b8a7-03d78ebb1257"
        ],
        "x-ms-correlation-request-id": [
          "52ce49ab-67db-4e63-b8a7-03d78ebb1257"
        ],
        "x-ms-routing-request-id": [
          "EASTUS2:20220425T184132Z:52ce49ab-67db-4e63-b8a7-03d78ebb1257"
        ],
        "Strict-Transport-Security": [
          "max-age=31536000; includeSubDomains"
        ],
        "X-Content-Type-Options": [
          "nosniff"
        ],
        "Date": [
          "Mon, 25 Apr 2022 18:41:32 GMT"
        ],
        "Content-Type": [
          "application/json; charset=utf-8"
        ],
        "Expires": [
          "-1"
        ],
        "Content-Length": [
          "154"
        ],
        "Retry-After": [
          "0"
        ]
      },
      "ResponseBody": "{\r\n  \"error\": {\r\n    \"code\": \"ResourceNotFound\",\r\n    \"message\": \"The resource 'ps6461' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix\"\r\n  }\r\n}",
      "StatusCode": 404
    },
    {
      "RequestUri": "/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps6461?api-version=2021-05-01-preview",
      "EncodedRequestUri": "L3N1YnNjcmlwdGlvbnMvYTFiZmE2MzUtZjJiZi00MmYxLTg2YjUtODQ4YzY3NGZjMzIxL3Byb3ZpZGVycy9NaWNyb3NvZnQuUmVzb3VyY2VzL2RlcGxveW1lbnRTdGFja3MvcHM2NDYxP2FwaS12ZXJzaW9uPTIwMjEtMDUtMDEtcHJldmlldw==",
      "RequestMethod": "GET",
      "RequestBody": "",
      "RequestHeaders": {
        "x-ms-client-request-id": [
          "5a573bb6-7ce5-49d0-9e93-4f0c59a718fa"
        ],
        "Accept-Language": [
          "en-US"
        ],
        "User-Agent": [
          "FxVersion/4.6.30411.01",
          "OSName/Windows",
          "OSVersion/Microsoft.Windows.10.0.22000.",
          "Microsoft.Azure.Management.ResourceManager.DeploymentStacksClient/3.13.2.0"
        ]
      },
      "ResponseHeaders": {
        "Cache-Control": [
          "no-cache"
        ],
        "Pragma": [
          "no-cache"
        ],
        "x-ms-request-id": [
          "1956e372-5303-4516-b4bf-78a18516e9bb"
        ],
        "Server": [
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-ratelimit-remaining-subscription-reads": [
          "11998"
        ],
        "x-ms-correlation-request-id": [
          "0e253651-5582-49e2-960a-9345b70e6de3"
        ],
        "x-ms-routing-request-id": [
          "EASTUS2:20220425T184141Z:0e253651-5582-49e2-960a-9345b70e6de3"
        ],
        "Strict-Transport-Security": [
          "max-age=31536000; includeSubDomains"
        ],
        "X-Content-Type-Options": [
          "nosniff"
        ],
        "Date": [
          "Mon, 25 Apr 2022 18:41:41 GMT"
        ],
        "Content-Length": [
          "3784"
        ],
        "Content-Type": [
          "application/json; charset=utf-8"
        ],
        "Expires": [
          "-1"
        ],
        "Retry-After": [
          "0"
        ]
      },
      "ResponseBody": "{\r\n  \"location\": \"westus2\",\r\n  \"properties\": {\r\n    \"updateBehavior\": \"detachResources\",\r\n    \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps6461-2022-04-25-18-41-35-25f36\",\r\n    \"parameters\": {\r\n      \"storageAccountName\": {\r\n        \"value\": \"armbuilddemo18123\"\r\n      }\r\n    },\r\n    \"template\": {\r\n      \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n      \"contentVersion\": \"1.0.0.0\",\r\n      \"parameters\": {\r\n        \"storageAccountName\": {\r\n          \"type\": \"string\",\r\n          \"defaultValue\": \"armbuilddemo18122\"\r\n        },\r\n        \"nestedDeploymentRG\": {\r\n          \"type\": \"string\",\r\n          \"defaultValue\": \"ps_test_subscription_deployment\"\r\n        },\r\n        \"policyLocation\": {\r\n          \"type\": \"string\",\r\n          \"defaultValue\": \"northeurope\"\r\n        }\r\n      },\r\n      \"variables\": {},\r\n      \"resources\": [\r\n        {\r\n          \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n          \"name\": \"policy2\",\r\n          \"apiVersion\": \"2016-12-01\",\r\n          \"properties\": {\r\n            \"policyType\": \"Custom\",\r\n            \"parameters\": {},\r\n            \"policyRule\": {\r\n              \"if\": {\r\n                \"field\": \"location\",\r\n                \"equals\": \"[parameters('policyLocation')]\"\r\n              },\r\n              \"then\": {\r\n                \"effect\": \"deny\"\r\n              }\r\n            }\r\n          }\r\n        },\r\n        {\r\n          \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n          \"name\": \"location-lock\",\r\n          \"apiVersion\": \"2016-12-01\",\r\n          \"dependsOn\": [\r\n            \"policy2\"\r\n          ],\r\n          \"properties\": {\r\n            \"scope\": \"[subscription().id]\",\r\n            \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n          }\r\n        },\r\n        {\r\n          \"type\": \"Microsoft.Resources/resourceGroups\",\r\n          \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n          \"location\": \"West US\",\r\n          \"apiVersion\": \"2019-05-01\",\r\n          \"properties\": {}\r\n        },\r\n        {\r\n          \"type\": \"Microsoft.Resources/deployments\",\r\n          \"name\": \"rg-nested\",\r\n          \"apiVersion\": \"2017-05-10\",\r\n          \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n          \"dependsOn\": [\r\n            \"[parameters('nestedDeploymentRG')]\"\r\n          ],\r\n          \"properties\": {\r\n            \"template\": {\r\n              \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n              \"contentVersion\": \"1.0.0.0\",\r\n              \"parameters\": {},\r\n              \"variables\": {},\r\n              \"resources\": [\r\n                {\r\n                  \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                  \"name\": \"[parameters('storageAccountName')]\",\r\n                  \"apiVersion\": \"2015-06-15\",\r\n                  \"location\": \"East US\",\r\n                  \"properties\": {\r\n                    \"accountType\": \"Standard_LRS\"\r\n                  }\r\n                }\r\n              ]\r\n            },\r\n            \"mode\": \"Incremental\"\r\n          }\r\n        }\r\n      ]\r\n    },\r\n    \"managedResources\": [],\r\n    \"provisioningState\": \"deploying\"\r\n  },\r\n  \"systemData\": {\r\n    \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n    \"createdByType\": \"Application\",\r\n    \"createdAt\": \"2022-04-25T18:41:32.3821421Z\",\r\n    \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n    \"lastModifiedByType\": \"Application\",\r\n    \"lastModifiedAt\": \"2022-04-25T18:41:32.3821421Z\"\r\n  },\r\n  \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps6461\",\r\n  \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n  \"name\": \"ps6461\"\r\n}",
      "StatusCode": 200
    },
    {
      "RequestUri": "/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps6461?api-version=2021-05-01-preview",
      "EncodedRequestUri": "L3N1YnNjcmlwdGlvbnMvYTFiZmE2MzUtZjJiZi00MmYxLTg2YjUtODQ4YzY3NGZjMzIxL3Byb3ZpZGVycy9NaWNyb3NvZnQuUmVzb3VyY2VzL2RlcGxveW1lbnRTdGFja3MvcHM2NDYxP2FwaS12ZXJzaW9uPTIwMjEtMDUtMDEtcHJldmlldw==",
      "RequestMethod": "GET",
      "RequestBody": "",
      "RequestHeaders": {
        "x-ms-client-request-id": [
          "5a573bb6-7ce5-49d0-9e93-4f0c59a718fa"
        ],
        "Accept-Language": [
          "en-US"
        ],
        "User-Agent": [
          "FxVersion/4.6.30411.01",
          "OSName/Windows",
          "OSVersion/Microsoft.Windows.10.0.22000.",
          "Microsoft.Azure.Management.ResourceManager.DeploymentStacksClient/3.13.2.0"
        ]
      },
      "ResponseHeaders": {
        "Cache-Control": [
          "no-cache"
        ],
        "Pragma": [
          "no-cache"
        ],
        "x-ms-request-id": [
          "b758b4e6-4765-46ee-8f3e-34b5e46c0d36"
        ],
        "Server": [
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-ratelimit-remaining-subscription-reads": [
          "11997"
        ],
        "x-ms-correlation-request-id": [
          "c72fccf9-d655-4b5a-934d-5fda0c84b625"
        ],
        "x-ms-routing-request-id": [
          "EASTUS2:20220425T184147Z:c72fccf9-d655-4b5a-934d-5fda0c84b625"
        ],
        "Strict-Transport-Security": [
          "max-age=31536000; includeSubDomains"
        ],
        "X-Content-Type-Options": [
          "nosniff"
        ],
        "Date": [
          "Mon, 25 Apr 2022 18:41:47 GMT"
        ],
        "Content-Length": [
          "3784"
        ],
        "Content-Type": [
          "application/json; charset=utf-8"
        ],
        "Expires": [
          "-1"
        ],
        "Retry-After": [
          "0"
        ]
      },
      "ResponseBody": "{\r\n  \"location\": \"westus2\",\r\n  \"properties\": {\r\n    \"updateBehavior\": \"detachResources\",\r\n    \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps6461-2022-04-25-18-41-35-25f36\",\r\n    \"parameters\": {\r\n      \"storageAccountName\": {\r\n        \"value\": \"armbuilddemo18123\"\r\n      }\r\n    },\r\n    \"template\": {\r\n      \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n      \"contentVersion\": \"1.0.0.0\",\r\n      \"parameters\": {\r\n        \"storageAccountName\": {\r\n          \"type\": \"string\",\r\n          \"defaultValue\": \"armbuilddemo18122\"\r\n        },\r\n        \"nestedDeploymentRG\": {\r\n          \"type\": \"string\",\r\n          \"defaultValue\": \"ps_test_subscription_deployment\"\r\n        },\r\n        \"policyLocation\": {\r\n          \"type\": \"string\",\r\n          \"defaultValue\": \"northeurope\"\r\n        }\r\n      },\r\n      \"variables\": {},\r\n      \"resources\": [\r\n        {\r\n          \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n          \"name\": \"policy2\",\r\n          \"apiVersion\": \"2016-12-01\",\r\n          \"properties\": {\r\n            \"policyType\": \"Custom\",\r\n            \"parameters\": {},\r\n            \"policyRule\": {\r\n              \"if\": {\r\n                \"field\": \"location\",\r\n                \"equals\": \"[parameters('policyLocation')]\"\r\n              },\r\n              \"then\": {\r\n                \"effect\": \"deny\"\r\n              }\r\n            }\r\n          }\r\n        },\r\n        {\r\n          \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n          \"name\": \"location-lock\",\r\n          \"apiVersion\": \"2016-12-01\",\r\n          \"dependsOn\": [\r\n            \"policy2\"\r\n          ],\r\n          \"properties\": {\r\n            \"scope\": \"[subscription().id]\",\r\n            \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n          }\r\n        },\r\n        {\r\n          \"type\": \"Microsoft.Resources/resourceGroups\",\r\n          \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n          \"location\": \"West US\",\r\n          \"apiVersion\": \"2019-05-01\",\r\n          \"properties\": {}\r\n        },\r\n        {\r\n          \"type\": \"Microsoft.Resources/deployments\",\r\n          \"name\": \"rg-nested\",\r\n          \"apiVersion\": \"2017-05-10\",\r\n          \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n          \"dependsOn\": [\r\n            \"[parameters('nestedDeploymentRG')]\"\r\n          ],\r\n          \"properties\": {\r\n            \"template\": {\r\n              \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n              \"contentVersion\": \"1.0.0.0\",\r\n              \"parameters\": {},\r\n              \"variables\": {},\r\n              \"resources\": [\r\n                {\r\n                  \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                  \"name\": \"[parameters('storageAccountName')]\",\r\n                  \"apiVersion\": \"2015-06-15\",\r\n                  \"location\": \"East US\",\r\n                  \"properties\": {\r\n                    \"accountType\": \"Standard_LRS\"\r\n                  }\r\n                }\r\n              ]\r\n            },\r\n            \"mode\": \"Incremental\"\r\n          }\r\n        }\r\n      ]\r\n    },\r\n    \"managedResources\": [],\r\n    \"provisioningState\": \"deploying\"\r\n  },\r\n  \"systemData\": {\r\n    \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n    \"createdByType\": \"Application\",\r\n    \"createdAt\": \"2022-04-25T18:41:32.3821421Z\",\r\n    \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n    \"lastModifiedByType\": \"Application\",\r\n    \"lastModifiedAt\": \"2022-04-25T18:41:32.3821421Z\"\r\n  },\r\n  \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps6461\",\r\n  \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n  \"name\": \"ps6461\"\r\n}",
      "StatusCode": 200
    },
    {
      "RequestUri": "/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps6461?api-version=2021-05-01-preview",
      "EncodedRequestUri": "L3N1YnNjcmlwdGlvbnMvYTFiZmE2MzUtZjJiZi00MmYxLTg2YjUtODQ4YzY3NGZjMzIxL3Byb3ZpZGVycy9NaWNyb3NvZnQuUmVzb3VyY2VzL2RlcGxveW1lbnRTdGFja3MvcHM2NDYxP2FwaS12ZXJzaW9uPTIwMjEtMDUtMDEtcHJldmlldw==",
      "RequestMethod": "GET",
      "RequestBody": "",
      "RequestHeaders": {
        "x-ms-client-request-id": [
          "5a573bb6-7ce5-49d0-9e93-4f0c59a718fa"
        ],
        "Accept-Language": [
          "en-US"
        ],
        "User-Agent": [
          "FxVersion/4.6.30411.01",
          "OSName/Windows",
          "OSVersion/Microsoft.Windows.10.0.22000.",
          "Microsoft.Azure.Management.ResourceManager.DeploymentStacksClient/3.13.2.0"
        ]
      },
      "ResponseHeaders": {
        "Cache-Control": [
          "no-cache"
        ],
        "Pragma": [
          "no-cache"
        ],
        "x-ms-request-id": [
          "a32b0048-35bc-4138-bee4-04d0713733cf"
        ],
        "Server": [
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-ratelimit-remaining-subscription-reads": [
          "11996"
        ],
        "x-ms-correlation-request-id": [
          "0f88ad67-020f-4455-8f19-f93e77c1137d"
        ],
        "x-ms-routing-request-id": [
          "EASTUS2:20220425T184153Z:0f88ad67-020f-4455-8f19-f93e77c1137d"
        ],
        "Strict-Transport-Security": [
          "max-age=31536000; includeSubDomains"
        ],
        "X-Content-Type-Options": [
          "nosniff"
        ],
        "Date": [
          "Mon, 25 Apr 2022 18:41:53 GMT"
        ],
        "Content-Length": [
          "3784"
        ],
        "Content-Type": [
          "application/json; charset=utf-8"
        ],
        "Expires": [
          "-1"
        ],
        "Retry-After": [
          "0"
        ]
      },
      "ResponseBody": "{\r\n  \"location\": \"westus2\",\r\n  \"properties\": {\r\n    \"updateBehavior\": \"detachResources\",\r\n    \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps6461-2022-04-25-18-41-35-25f36\",\r\n    \"parameters\": {\r\n      \"storageAccountName\": {\r\n        \"value\": \"armbuilddemo18123\"\r\n      }\r\n    },\r\n    \"template\": {\r\n      \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n      \"contentVersion\": \"1.0.0.0\",\r\n      \"parameters\": {\r\n        \"storageAccountName\": {\r\n          \"type\": \"string\",\r\n          \"defaultValue\": \"armbuilddemo18122\"\r\n        },\r\n        \"nestedDeploymentRG\": {\r\n          \"type\": \"string\",\r\n          \"defaultValue\": \"ps_test_subscription_deployment\"\r\n        },\r\n        \"policyLocation\": {\r\n          \"type\": \"string\",\r\n          \"defaultValue\": \"northeurope\"\r\n        }\r\n      },\r\n      \"variables\": {},\r\n      \"resources\": [\r\n        {\r\n          \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n          \"name\": \"policy2\",\r\n          \"apiVersion\": \"2016-12-01\",\r\n          \"properties\": {\r\n            \"policyType\": \"Custom\",\r\n            \"parameters\": {},\r\n            \"policyRule\": {\r\n              \"if\": {\r\n                \"field\": \"location\",\r\n                \"equals\": \"[parameters('policyLocation')]\"\r\n              },\r\n              \"then\": {\r\n                \"effect\": \"deny\"\r\n              }\r\n            }\r\n          }\r\n        },\r\n        {\r\n          \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n          \"name\": \"location-lock\",\r\n          \"apiVersion\": \"2016-12-01\",\r\n          \"dependsOn\": [\r\n            \"policy2\"\r\n          ],\r\n          \"properties\": {\r\n            \"scope\": \"[subscription().id]\",\r\n            \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n          }\r\n        },\r\n        {\r\n          \"type\": \"Microsoft.Resources/resourceGroups\",\r\n          \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n          \"location\": \"West US\",\r\n          \"apiVersion\": \"2019-05-01\",\r\n          \"properties\": {}\r\n        },\r\n        {\r\n          \"type\": \"Microsoft.Resources/deployments\",\r\n          \"name\": \"rg-nested\",\r\n          \"apiVersion\": \"2017-05-10\",\r\n          \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n          \"dependsOn\": [\r\n            \"[parameters('nestedDeploymentRG')]\"\r\n          ],\r\n          \"properties\": {\r\n            \"template\": {\r\n              \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n              \"contentVersion\": \"1.0.0.0\",\r\n              \"parameters\": {},\r\n              \"variables\": {},\r\n              \"resources\": [\r\n                {\r\n                  \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                  \"name\": \"[parameters('storageAccountName')]\",\r\n                  \"apiVersion\": \"2015-06-15\",\r\n                  \"location\": \"East US\",\r\n                  \"properties\": {\r\n                    \"accountType\": \"Standard_LRS\"\r\n                  }\r\n                }\r\n              ]\r\n            },\r\n            \"mode\": \"Incremental\"\r\n          }\r\n        }\r\n      ]\r\n    },\r\n    \"managedResources\": [],\r\n    \"provisioningState\": \"deploying\"\r\n  },\r\n  \"systemData\": {\r\n    \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n    \"createdByType\": \"Application\",\r\n    \"createdAt\": \"2022-04-25T18:41:32.3821421Z\",\r\n    \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n    \"lastModifiedByType\": \"Application\",\r\n    \"lastModifiedAt\": \"2022-04-25T18:41:32.3821421Z\"\r\n  },\r\n  \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps6461\",\r\n  \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n  \"name\": \"ps6461\"\r\n}",
      "StatusCode": 200
    },
    {
      "RequestUri": "/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps6461?api-version=2021-05-01-preview",
      "EncodedRequestUri": "L3N1YnNjcmlwdGlvbnMvYTFiZmE2MzUtZjJiZi00MmYxLTg2YjUtODQ4YzY3NGZjMzIxL3Byb3ZpZGVycy9NaWNyb3NvZnQuUmVzb3VyY2VzL2RlcGxveW1lbnRTdGFja3MvcHM2NDYxP2FwaS12ZXJzaW9uPTIwMjEtMDUtMDEtcHJldmlldw==",
      "RequestMethod": "GET",
      "RequestBody": "",
      "RequestHeaders": {
        "x-ms-client-request-id": [
          "5a573bb6-7ce5-49d0-9e93-4f0c59a718fa"
        ],
        "Accept-Language": [
          "en-US"
        ],
        "User-Agent": [
          "FxVersion/4.6.30411.01",
          "OSName/Windows",
          "OSVersion/Microsoft.Windows.10.0.22000.",
          "Microsoft.Azure.Management.ResourceManager.DeploymentStacksClient/3.13.2.0"
        ]
      },
      "ResponseHeaders": {
        "Cache-Control": [
          "no-cache"
        ],
        "Pragma": [
          "no-cache"
        ],
        "x-ms-request-id": [
          "39791397-f382-4f9a-898c-197f2cec6204"
        ],
        "Server": [
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-ratelimit-remaining-subscription-reads": [
          "11995"
        ],
        "x-ms-correlation-request-id": [
          "39385970-5028-48d6-a10b-dfa3ca10a74d"
        ],
        "x-ms-routing-request-id": [
          "EASTUS2:20220425T184159Z:39385970-5028-48d6-a10b-dfa3ca10a74d"
        ],
        "Strict-Transport-Security": [
          "max-age=31536000; includeSubDomains"
        ],
        "X-Content-Type-Options": [
          "nosniff"
        ],
        "Date": [
          "Mon, 25 Apr 2022 18:41:58 GMT"
        ],
        "Content-Length": [
          "3784"
        ],
        "Content-Type": [
          "application/json; charset=utf-8"
        ],
        "Expires": [
          "-1"
        ],
        "Retry-After": [
          "0"
        ]
      },
      "ResponseBody": "{\r\n  \"location\": \"westus2\",\r\n  \"properties\": {\r\n    \"updateBehavior\": \"detachResources\",\r\n    \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps6461-2022-04-25-18-41-35-25f36\",\r\n    \"parameters\": {\r\n      \"storageAccountName\": {\r\n        \"value\": \"armbuilddemo18123\"\r\n      }\r\n    },\r\n    \"template\": {\r\n      \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n      \"contentVersion\": \"1.0.0.0\",\r\n      \"parameters\": {\r\n        \"storageAccountName\": {\r\n          \"type\": \"string\",\r\n          \"defaultValue\": \"armbuilddemo18122\"\r\n        },\r\n        \"nestedDeploymentRG\": {\r\n          \"type\": \"string\",\r\n          \"defaultValue\": \"ps_test_subscription_deployment\"\r\n        },\r\n        \"policyLocation\": {\r\n          \"type\": \"string\",\r\n          \"defaultValue\": \"northeurope\"\r\n        }\r\n      },\r\n      \"variables\": {},\r\n      \"resources\": [\r\n        {\r\n          \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n          \"name\": \"policy2\",\r\n          \"apiVersion\": \"2016-12-01\",\r\n          \"properties\": {\r\n            \"policyType\": \"Custom\",\r\n            \"parameters\": {},\r\n            \"policyRule\": {\r\n              \"if\": {\r\n                \"field\": \"location\",\r\n                \"equals\": \"[parameters('policyLocation')]\"\r\n              },\r\n              \"then\": {\r\n                \"effect\": \"deny\"\r\n              }\r\n            }\r\n          }\r\n        },\r\n        {\r\n          \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n          \"name\": \"location-lock\",\r\n          \"apiVersion\": \"2016-12-01\",\r\n          \"dependsOn\": [\r\n            \"policy2\"\r\n          ],\r\n          \"properties\": {\r\n            \"scope\": \"[subscription().id]\",\r\n            \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n          }\r\n        },\r\n        {\r\n          \"type\": \"Microsoft.Resources/resourceGroups\",\r\n          \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n          \"location\": \"West US\",\r\n          \"apiVersion\": \"2019-05-01\",\r\n          \"properties\": {}\r\n        },\r\n        {\r\n          \"type\": \"Microsoft.Resources/deployments\",\r\n          \"name\": \"rg-nested\",\r\n          \"apiVersion\": \"2017-05-10\",\r\n          \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n          \"dependsOn\": [\r\n            \"[parameters('nestedDeploymentRG')]\"\r\n          ],\r\n          \"properties\": {\r\n            \"template\": {\r\n              \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n              \"contentVersion\": \"1.0.0.0\",\r\n              \"parameters\": {},\r\n              \"variables\": {},\r\n              \"resources\": [\r\n                {\r\n                  \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                  \"name\": \"[parameters('storageAccountName')]\",\r\n                  \"apiVersion\": \"2015-06-15\",\r\n                  \"location\": \"East US\",\r\n                  \"properties\": {\r\n                    \"accountType\": \"Standard_LRS\"\r\n                  }\r\n                }\r\n              ]\r\n            },\r\n            \"mode\": \"Incremental\"\r\n          }\r\n        }\r\n      ]\r\n    },\r\n    \"managedResources\": [],\r\n    \"provisioningState\": \"deploying\"\r\n  },\r\n  \"systemData\": {\r\n    \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n    \"createdByType\": \"Application\",\r\n    \"createdAt\": \"2022-04-25T18:41:32.3821421Z\",\r\n    \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n    \"lastModifiedByType\": \"Application\",\r\n    \"lastModifiedAt\": \"2022-04-25T18:41:32.3821421Z\"\r\n  },\r\n  \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps6461\",\r\n  \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n  \"name\": \"ps6461\"\r\n}",
      "StatusCode": 200
    },
    {
      "RequestUri": "/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps6461?api-version=2021-05-01-preview",
      "EncodedRequestUri": "L3N1YnNjcmlwdGlvbnMvYTFiZmE2MzUtZjJiZi00MmYxLTg2YjUtODQ4YzY3NGZjMzIxL3Byb3ZpZGVycy9NaWNyb3NvZnQuUmVzb3VyY2VzL2RlcGxveW1lbnRTdGFja3MvcHM2NDYxP2FwaS12ZXJzaW9uPTIwMjEtMDUtMDEtcHJldmlldw==",
      "RequestMethod": "GET",
      "RequestBody": "",
      "RequestHeaders": {
        "x-ms-client-request-id": [
          "5a573bb6-7ce5-49d0-9e93-4f0c59a718fa"
        ],
        "Accept-Language": [
          "en-US"
        ],
        "User-Agent": [
          "FxVersion/4.6.30411.01",
          "OSName/Windows",
          "OSVersion/Microsoft.Windows.10.0.22000.",
          "Microsoft.Azure.Management.ResourceManager.DeploymentStacksClient/3.13.2.0"
        ]
      },
      "ResponseHeaders": {
        "Cache-Control": [
          "no-cache"
        ],
        "Pragma": [
          "no-cache"
        ],
        "x-ms-request-id": [
          "1d539377-9f9b-4bb7-a4f9-0e1d9c0a167d"
        ],
        "Server": [
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-ratelimit-remaining-subscription-reads": [
          "11994"
        ],
        "x-ms-correlation-request-id": [
          "89743f7a-6ecb-4a1d-8bfc-8953f03b6832"
        ],
        "x-ms-routing-request-id": [
          "EASTUS2:20220425T184205Z:89743f7a-6ecb-4a1d-8bfc-8953f03b6832"
        ],
        "Strict-Transport-Security": [
          "max-age=31536000; includeSubDomains"
        ],
        "X-Content-Type-Options": [
          "nosniff"
        ],
        "Date": [
          "Mon, 25 Apr 2022 18:42:04 GMT"
        ],
        "Content-Length": [
          "4539"
        ],
        "Content-Type": [
          "application/json; charset=utf-8"
        ],
        "Expires": [
          "-1"
        ],
        "Retry-After": [
          "0"
        ]
      },
      "ResponseBody": "{\r\n  \"location\": \"westus2\",\r\n  \"properties\": {\r\n    \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps6461/snapshots/2022-04-25-18-41-35-25f36\",\r\n    \"updateBehavior\": \"detachResources\",\r\n    \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps6461-2022-04-25-18-41-35-25f36\",\r\n    \"parameters\": {\r\n      \"storageAccountName\": {\r\n        \"value\": \"armbuilddemo18123\"\r\n      }\r\n    },\r\n    \"template\": {\r\n      \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n      \"contentVersion\": \"1.0.0.0\",\r\n      \"parameters\": {\r\n        \"storageAccountName\": {\r\n          \"type\": \"string\",\r\n          \"defaultValue\": \"armbuilddemo18122\"\r\n        },\r\n        \"nestedDeploymentRG\": {\r\n          \"type\": \"string\",\r\n          \"defaultValue\": \"ps_test_subscription_deployment\"\r\n        },\r\n        \"policyLocation\": {\r\n          \"type\": \"string\",\r\n          \"defaultValue\": \"northeurope\"\r\n        }\r\n      },\r\n      \"variables\": {},\r\n      \"resources\": [\r\n        {\r\n          \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n          \"name\": \"policy2\",\r\n          \"apiVersion\": \"2016-12-01\",\r\n          \"properties\": {\r\n            \"policyType\": \"Custom\",\r\n            \"parameters\": {},\r\n            \"policyRule\": {\r\n              \"if\": {\r\n                \"field\": \"location\",\r\n                \"equals\": \"[parameters('policyLocation')]\"\r\n              },\r\n              \"then\": {\r\n                \"effect\": \"deny\"\r\n              }\r\n            }\r\n          }\r\n        },\r\n        {\r\n          \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n          \"name\": \"location-lock\",\r\n          \"apiVersion\": \"2016-12-01\",\r\n          \"dependsOn\": [\r\n            \"policy2\"\r\n          ],\r\n          \"properties\": {\r\n            \"scope\": \"[subscription().id]\",\r\n            \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n          }\r\n        },\r\n        {\r\n          \"type\": \"Microsoft.Resources/resourceGroups\",\r\n          \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n          \"location\": \"West US\",\r\n          \"apiVersion\": \"2019-05-01\",\r\n          \"properties\": {}\r\n        },\r\n        {\r\n          \"type\": \"Microsoft.Resources/deployments\",\r\n          \"name\": \"rg-nested\",\r\n          \"apiVersion\": \"2017-05-10\",\r\n          \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n          \"dependsOn\": [\r\n            \"[parameters('nestedDeploymentRG')]\"\r\n          ],\r\n          \"properties\": {\r\n            \"template\": {\r\n              \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n              \"contentVersion\": \"1.0.0.0\",\r\n              \"parameters\": {},\r\n              \"variables\": {},\r\n              \"resources\": [\r\n                {\r\n                  \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                  \"name\": \"[parameters('storageAccountName')]\",\r\n                  \"apiVersion\": \"2015-06-15\",\r\n                  \"location\": \"East US\",\r\n                  \"properties\": {\r\n                    \"accountType\": \"Standard_LRS\"\r\n                  }\r\n                }\r\n              ]\r\n            },\r\n            \"mode\": \"Incremental\"\r\n          }\r\n        }\r\n      ]\r\n    },\r\n    \"managedResources\": [\r\n      {\r\n        \"lockMode\": \"none\",\r\n        \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n      },\r\n      {\r\n        \"lockMode\": \"none\",\r\n        \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n      },\r\n      {\r\n        \"lockMode\": \"none\",\r\n        \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n      }\r\n    ],\r\n    \"provisioningState\": \"succeeded\"\r\n  },\r\n  \"systemData\": {\r\n    \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n    \"createdByType\": \"Application\",\r\n    \"createdAt\": \"2022-04-25T18:41:32.3821421Z\",\r\n    \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n    \"lastModifiedByType\": \"Application\",\r\n    \"lastModifiedAt\": \"2022-04-25T18:41:32.3821421Z\"\r\n  },\r\n  \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps6461\",\r\n  \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n  \"name\": \"ps6461\"\r\n}",
      "StatusCode": 200
    },
    {
      "RequestUri": "/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps6461?api-version=2021-05-01-preview",
      "EncodedRequestUri": "L3N1YnNjcmlwdGlvbnMvYTFiZmE2MzUtZjJiZi00MmYxLTg2YjUtODQ4YzY3NGZjMzIxL3Byb3ZpZGVycy9NaWNyb3NvZnQuUmVzb3VyY2VzL2RlcGxveW1lbnRTdGFja3MvcHM2NDYxP2FwaS12ZXJzaW9uPTIwMjEtMDUtMDEtcHJldmlldw==",
      "RequestMethod": "GET",
      "RequestBody": "",
      "RequestHeaders": {
        "x-ms-client-request-id": [
          "f8251e76-1f84-42f3-a060-4dc5a269fe98"
        ],
        "Accept-Language": [
          "en-US"
        ],
        "User-Agent": [
          "FxVersion/4.6.30411.01",
          "OSName/Windows",
          "OSVersion/Microsoft.Windows.10.0.22000.",
          "Microsoft.Azure.Management.ResourceManager.DeploymentStacksClient/3.13.2.0"
        ]
      },
      "ResponseHeaders": {
        "Cache-Control": [
          "no-cache"
        ],
        "Pragma": [
          "no-cache"
        ],
        "x-ms-request-id": [
          "f4dc288c-84a6-4502-8f7c-9071d3947c30"
        ],
        "Server": [
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-ratelimit-remaining-subscription-reads": [
          "11999"
        ],
        "x-ms-correlation-request-id": [
          "3fe559da-887b-41aa-8c2d-39e3a3b85e2c"
        ],
        "x-ms-routing-request-id": [
          "EASTUS2:20220425T184207Z:3fe559da-887b-41aa-8c2d-39e3a3b85e2c"
        ],
        "Strict-Transport-Security": [
          "max-age=31536000; includeSubDomains"
        ],
        "X-Content-Type-Options": [
          "nosniff"
        ],
        "Date": [
          "Mon, 25 Apr 2022 18:42:06 GMT"
        ],
        "Content-Length": [
          "4539"
        ],
        "Content-Type": [
          "application/json; charset=utf-8"
        ],
        "Expires": [
          "-1"
        ],
        "Retry-After": [
          "0"
        ]
      },
      "ResponseBody": "{\r\n  \"location\": \"westus2\",\r\n  \"properties\": {\r\n    \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps6461/snapshots/2022-04-25-18-41-35-25f36\",\r\n    \"updateBehavior\": \"detachResources\",\r\n    \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps6461-2022-04-25-18-41-35-25f36\",\r\n    \"parameters\": {\r\n      \"storageAccountName\": {\r\n        \"value\": \"armbuilddemo18123\"\r\n      }\r\n    },\r\n    \"template\": {\r\n      \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n      \"contentVersion\": \"1.0.0.0\",\r\n      \"parameters\": {\r\n        \"storageAccountName\": {\r\n          \"type\": \"string\",\r\n          \"defaultValue\": \"armbuilddemo18122\"\r\n        },\r\n        \"nestedDeploymentRG\": {\r\n          \"type\": \"string\",\r\n          \"defaultValue\": \"ps_test_subscription_deployment\"\r\n        },\r\n        \"policyLocation\": {\r\n          \"type\": \"string\",\r\n          \"defaultValue\": \"northeurope\"\r\n        }\r\n      },\r\n      \"variables\": {},\r\n      \"resources\": [\r\n        {\r\n          \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n          \"name\": \"policy2\",\r\n          \"apiVersion\": \"2016-12-01\",\r\n          \"properties\": {\r\n            \"policyType\": \"Custom\",\r\n            \"parameters\": {},\r\n            \"policyRule\": {\r\n              \"if\": {\r\n                \"field\": \"location\",\r\n                \"equals\": \"[parameters('policyLocation')]\"\r\n              },\r\n              \"then\": {\r\n                \"effect\": \"deny\"\r\n              }\r\n            }\r\n          }\r\n        },\r\n        {\r\n          \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n          \"name\": \"location-lock\",\r\n          \"apiVersion\": \"2016-12-01\",\r\n          \"dependsOn\": [\r\n            \"policy2\"\r\n          ],\r\n          \"properties\": {\r\n            \"scope\": \"[subscription().id]\",\r\n            \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n          }\r\n        },\r\n        {\r\n          \"type\": \"Microsoft.Resources/resourceGroups\",\r\n          \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n          \"location\": \"West US\",\r\n          \"apiVersion\": \"2019-05-01\",\r\n          \"properties\": {}\r\n        },\r\n        {\r\n          \"type\": \"Microsoft.Resources/deployments\",\r\n          \"name\": \"rg-nested\",\r\n          \"apiVersion\": \"2017-05-10\",\r\n          \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n          \"dependsOn\": [\r\n            \"[parameters('nestedDeploymentRG')]\"\r\n          ],\r\n          \"properties\": {\r\n            \"template\": {\r\n              \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n              \"contentVersion\": \"1.0.0.0\",\r\n              \"parameters\": {},\r\n              \"variables\": {},\r\n              \"resources\": [\r\n                {\r\n                  \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                  \"name\": \"[parameters('storageAccountName')]\",\r\n                  \"apiVersion\": \"2015-06-15\",\r\n                  \"location\": \"East US\",\r\n                  \"properties\": {\r\n                    \"accountType\": \"Standard_LRS\"\r\n                  }\r\n                }\r\n              ]\r\n            },\r\n            \"mode\": \"Incremental\"\r\n          }\r\n        }\r\n      ]\r\n    },\r\n    \"managedResources\": [\r\n      {\r\n        \"lockMode\": \"none\",\r\n        \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n      },\r\n      {\r\n        \"lockMode\": \"none\",\r\n        \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n      },\r\n      {\r\n        \"lockMode\": \"none\",\r\n        \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n      }\r\n    ],\r\n    \"provisioningState\": \"succeeded\"\r\n  },\r\n  \"systemData\": {\r\n    \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n    \"createdByType\": \"Application\",\r\n    \"createdAt\": \"2022-04-25T18:41:32.3821421Z\",\r\n    \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n    \"lastModifiedByType\": \"Application\",\r\n    \"lastModifiedAt\": \"2022-04-25T18:41:32.3821421Z\"\r\n  },\r\n  \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps6461\",\r\n  \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n  \"name\": \"ps6461\"\r\n}",
      "StatusCode": 200
    },
    {
      "RequestUri": "/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps6461?api-version=2021-05-01-preview",
      "EncodedRequestUri": "L3N1YnNjcmlwdGlvbnMvYTFiZmE2MzUtZjJiZi00MmYxLTg2YjUtODQ4YzY3NGZjMzIxL3Byb3ZpZGVycy9NaWNyb3NvZnQuUmVzb3VyY2VzL2RlcGxveW1lbnRTdGFja3MvcHM2NDYxP2FwaS12ZXJzaW9uPTIwMjEtMDUtMDEtcHJldmlldw==",
      "RequestMethod": "GET",
      "RequestBody": "",
      "RequestHeaders": {
        "x-ms-client-request-id": [
          "6e0a5bde-29e4-40e9-ba4b-88abd5b83c48"
        ],
        "Accept-Language": [
          "en-US"
        ],
        "User-Agent": [
          "FxVersion/4.6.30411.01",
          "OSName/Windows",
          "OSVersion/Microsoft.Windows.10.0.22000.",
          "Microsoft.Azure.Management.ResourceManager.DeploymentStacksClient/3.13.2.0"
        ]
      },
      "ResponseHeaders": {
        "Cache-Control": [
          "no-cache"
        ],
        "Pragma": [
          "no-cache"
        ],
        "x-ms-request-id": [
          "cbf9e347-a54c-4d62-8e58-4c5047e9ca24"
        ],
        "Server": [
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-ratelimit-remaining-subscription-reads": [
          "11999"
        ],
        "x-ms-correlation-request-id": [
          "6e0b3e8f-bff4-4b68-98eb-a2f95a047f15"
        ],
        "x-ms-routing-request-id": [
          "EASTUS2:20220425T184208Z:6e0b3e8f-bff4-4b68-98eb-a2f95a047f15"
        ],
        "Strict-Transport-Security": [
          "max-age=31536000; includeSubDomains"
        ],
        "X-Content-Type-Options": [
          "nosniff"
        ],
        "Date": [
          "Mon, 25 Apr 2022 18:42:08 GMT"
        ],
        "Content-Length": [
          "4539"
        ],
        "Content-Type": [
          "application/json; charset=utf-8"
        ],
        "Expires": [
          "-1"
        ],
        "Retry-After": [
          "0"
        ]
      },
      "ResponseBody": "{\r\n  \"location\": \"westus2\",\r\n  \"properties\": {\r\n    \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps6461/snapshots/2022-04-25-18-41-35-25f36\",\r\n    \"updateBehavior\": \"detachResources\",\r\n    \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps6461-2022-04-25-18-41-35-25f36\",\r\n    \"parameters\": {\r\n      \"storageAccountName\": {\r\n        \"value\": \"armbuilddemo18123\"\r\n      }\r\n    },\r\n    \"template\": {\r\n      \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n      \"contentVersion\": \"1.0.0.0\",\r\n      \"parameters\": {\r\n        \"storageAccountName\": {\r\n          \"type\": \"string\",\r\n          \"defaultValue\": \"armbuilddemo18122\"\r\n        },\r\n        \"nestedDeploymentRG\": {\r\n          \"type\": \"string\",\r\n          \"defaultValue\": \"ps_test_subscription_deployment\"\r\n        },\r\n        \"policyLocation\": {\r\n          \"type\": \"string\",\r\n          \"defaultValue\": \"northeurope\"\r\n        }\r\n      },\r\n      \"variables\": {},\r\n      \"resources\": [\r\n        {\r\n          \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n          \"name\": \"policy2\",\r\n          \"apiVersion\": \"2016-12-01\",\r\n          \"properties\": {\r\n            \"policyType\": \"Custom\",\r\n            \"parameters\": {},\r\n            \"policyRule\": {\r\n              \"if\": {\r\n                \"field\": \"location\",\r\n                \"equals\": \"[parameters('policyLocation')]\"\r\n              },\r\n              \"then\": {\r\n                \"effect\": \"deny\"\r\n              }\r\n            }\r\n          }\r\n        },\r\n        {\r\n          \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n          \"name\": \"location-lock\",\r\n          \"apiVersion\": \"2016-12-01\",\r\n          \"dependsOn\": [\r\n            \"policy2\"\r\n          ],\r\n          \"properties\": {\r\n            \"scope\": \"[subscription().id]\",\r\n            \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n          }\r\n        },\r\n        {\r\n          \"type\": \"Microsoft.Resources/resourceGroups\",\r\n          \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n          \"location\": \"West US\",\r\n          \"apiVersion\": \"2019-05-01\",\r\n          \"properties\": {}\r\n        },\r\n        {\r\n          \"type\": \"Microsoft.Resources/deployments\",\r\n          \"name\": \"rg-nested\",\r\n          \"apiVersion\": \"2017-05-10\",\r\n          \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n          \"dependsOn\": [\r\n            \"[parameters('nestedDeploymentRG')]\"\r\n          ],\r\n          \"properties\": {\r\n            \"template\": {\r\n              \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n              \"contentVersion\": \"1.0.0.0\",\r\n              \"parameters\": {},\r\n              \"variables\": {},\r\n              \"resources\": [\r\n                {\r\n                  \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                  \"name\": \"[parameters('storageAccountName')]\",\r\n                  \"apiVersion\": \"2015-06-15\",\r\n                  \"location\": \"East US\",\r\n                  \"properties\": {\r\n                    \"accountType\": \"Standard_LRS\"\r\n                  }\r\n                }\r\n              ]\r\n            },\r\n            \"mode\": \"Incremental\"\r\n          }\r\n        }\r\n      ]\r\n    },\r\n    \"managedResources\": [\r\n      {\r\n        \"lockMode\": \"none\",\r\n        \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n      },\r\n      {\r\n        \"lockMode\": \"none\",\r\n        \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n      },\r\n      {\r\n        \"lockMode\": \"none\",\r\n        \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n      }\r\n    ],\r\n    \"provisioningState\": \"succeeded\"\r\n  },\r\n  \"systemData\": {\r\n    \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n    \"createdByType\": \"Application\",\r\n    \"createdAt\": \"2022-04-25T18:41:32.3821421Z\",\r\n    \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n    \"lastModifiedByType\": \"Application\",\r\n    \"lastModifiedAt\": \"2022-04-25T18:41:32.3821421Z\"\r\n  },\r\n  \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps6461\",\r\n  \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n  \"name\": \"ps6461\"\r\n}",
      "StatusCode": 200
    },
    {
      "RequestUri": "/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps6461?api-version=2021-05-01-preview",
      "EncodedRequestUri": "L3N1YnNjcmlwdGlvbnMvYTFiZmE2MzUtZjJiZi00MmYxLTg2YjUtODQ4YzY3NGZjMzIxL3Byb3ZpZGVycy9NaWNyb3NvZnQuUmVzb3VyY2VzL2RlcGxveW1lbnRTdGFja3MvcHM2NDYxP2FwaS12ZXJzaW9uPTIwMjEtMDUtMDEtcHJldmlldw==",
      "RequestMethod": "PUT",
      "RequestBody": "{\r\n  \"location\": \"West US 2\",\r\n  \"properties\": {\r\n    \"template\": {\r\n      \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n      \"contentVersion\": \"1.0.0.0\",\r\n      \"parameters\": {\r\n        \"storageAccountName\": {\r\n          \"type\": \"string\",\r\n          \"defaultValue\": \"armbuilddemo18122\"\r\n        },\r\n        \"nestedDeploymentRG\": {\r\n          \"type\": \"string\",\r\n          \"defaultValue\": \"ps_test_subscription_deployment\"\r\n        },\r\n        \"policyLocation\": {\r\n          \"type\": \"string\",\r\n          \"defaultValue\": \"northeurope\"\r\n        }\r\n      },\r\n      \"variables\": {},\r\n      \"resources\": [\r\n        {\r\n          \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n          \"name\": \"policy2\",\r\n          \"apiVersion\": \"2016-12-01\",\r\n          \"properties\": {\r\n            \"policyType\": \"Custom\",\r\n            \"parameters\": {},\r\n            \"policyRule\": {\r\n              \"if\": {\r\n                \"field\": \"location\",\r\n                \"equals\": \"[parameters('policyLocation')]\"\r\n              },\r\n              \"then\": {\r\n                \"effect\": \"deny\"\r\n              }\r\n            }\r\n          }\r\n        },\r\n        {\r\n          \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n          \"name\": \"location-lock\",\r\n          \"apiVersion\": \"2016-12-01\",\r\n          \"dependsOn\": [\r\n            \"policy2\"\r\n          ],\r\n          \"properties\": {\r\n            \"scope\": \"[subscription().id]\",\r\n            \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n          }\r\n        },\r\n        {\r\n          \"type\": \"Microsoft.Resources/resourceGroups\",\r\n          \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n          \"location\": \"West US\",\r\n          \"apiVersion\": \"2019-05-01\",\r\n          \"properties\": {}\r\n        },\r\n        {\r\n          \"type\": \"Microsoft.Resources/deployments\",\r\n          \"name\": \"rg-nested\",\r\n          \"apiVersion\": \"2017-05-10\",\r\n          \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n          \"dependsOn\": [\r\n            \"[parameters('nestedDeploymentRG')]\"\r\n          ],\r\n          \"properties\": {\r\n            \"template\": {\r\n              \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n              \"contentVersion\": \"1.0.0.0\",\r\n              \"parameters\": {},\r\n              \"variables\": {},\r\n              \"resources\": [\r\n                {\r\n                  \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                  \"name\": \"[parameters('storageAccountName')]\",\r\n                  \"apiVersion\": \"2015-06-15\",\r\n                  \"location\": \"East US\",\r\n                  \"properties\": {\r\n                    \"accountType\": \"Standard_LRS\"\r\n                  }\r\n                }\r\n              ]\r\n            },\r\n            \"mode\": \"Incremental\"\r\n          }\r\n        }\r\n      ]\r\n    },\r\n    \"parameters\": {\r\n      \"storageAccountName\": {\r\n        \"value\": \"armbuilddemo18123\"\r\n      }\r\n    },\r\n    \"updateBehavior\": \"detachResources\"\r\n  }\r\n}",
      "RequestHeaders": {
        "x-ms-client-request-id": [
          "5a573bb6-7ce5-49d0-9e93-4f0c59a718fa"
        ],
        "Accept-Language": [
          "en-US"
        ],
        "User-Agent": [
          "FxVersion/4.6.30411.01",
          "OSName/Windows",
          "OSVersion/Microsoft.Windows.10.0.22000.",
          "Microsoft.Azure.Management.ResourceManager.DeploymentStacksClient/3.13.2.0"
        ],
        "Content-Type": [
          "application/json; charset=utf-8"
        ],
        "Content-Length": [
          "3048"
        ]
      },
      "ResponseHeaders": {
        "Cache-Control": [
          "no-cache"
        ],
        "Pragma": [
          "no-cache"
        ],
        "Retry-After": [
          "0"
        ],
        "Azure-AsyncOperation": [
          "https://management.azure.com/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/locations/westus2/deploymentStackOperationStatus/c34df01d-e4ee-4360-95ba-93bb7e3baa60?api-version=2021-05-01-preview"
        ],
        "x-ms-request-id": [
          "b88a024b-7895-43df-82e2-ee8d0cad04fb"
        ],
        "Server": [
          "Microsoft-HTTPAPI/2.0"
        ],
        "x-ms-ratelimit-remaining-subscription-writes": [
          "1199"
        ],
        "x-ms-correlation-request-id": [
          "9282699d-649e-416e-818f-c53c430b93ee"
        ],
        "x-ms-routing-request-id": [
          "EASTUS2:20220425T184135Z:9282699d-649e-416e-818f-c53c430b93ee"
        ],
        "Strict-Transport-Security": [
          "max-age=31536000; includeSubDomains"
        ],
        "X-Content-Type-Options": [
          "nosniff"
        ],
        "Date": [
          "Mon, 25 Apr 2022 18:41:35 GMT"
        ],
        "Content-Length": [
          "3636"
        ],
        "Content-Type": [
          "application/json; charset=utf-8"
        ],
        "Expires": [
          "-1"
        ]
      },
      "ResponseBody": "{\r\n  \"location\": \"westus2\",\r\n  \"properties\": {\r\n    \"updateBehavior\": \"detachResources\",\r\n    \"parameters\": {\r\n      \"storageAccountName\": {\r\n        \"value\": \"armbuilddemo18123\"\r\n      }\r\n    },\r\n    \"template\": {\r\n      \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n      \"contentVersion\": \"1.0.0.0\",\r\n      \"parameters\": {\r\n        \"storageAccountName\": {\r\n          \"type\": \"string\",\r\n          \"defaultValue\": \"armbuilddemo18122\"\r\n        },\r\n        \"nestedDeploymentRG\": {\r\n          \"type\": \"string\",\r\n          \"defaultValue\": \"ps_test_subscription_deployment\"\r\n        },\r\n        \"policyLocation\": {\r\n          \"type\": \"string\",\r\n          \"defaultValue\": \"northeurope\"\r\n        }\r\n      },\r\n      \"variables\": {},\r\n      \"resources\": [\r\n        {\r\n          \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n          \"name\": \"policy2\",\r\n          \"apiVersion\": \"2016-12-01\",\r\n          \"properties\": {\r\n            \"policyType\": \"Custom\",\r\n            \"parameters\": {},\r\n            \"policyRule\": {\r\n              \"if\": {\r\n                \"field\": \"location\",\r\n                \"equals\": \"[parameters('policyLocation')]\"\r\n              },\r\n              \"then\": {\r\n                \"effect\": \"deny\"\r\n              }\r\n            }\r\n          }\r\n        },\r\n        {\r\n          \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n          \"name\": \"location-lock\",\r\n          \"apiVersion\": \"2016-12-01\",\r\n          \"dependsOn\": [\r\n            \"policy2\"\r\n          ],\r\n          \"properties\": {\r\n            \"scope\": \"[subscription().id]\",\r\n            \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n          }\r\n        },\r\n        {\r\n          \"type\": \"Microsoft.Resources/resourceGroups\",\r\n          \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n          \"location\": \"West US\",\r\n          \"apiVersion\": \"2019-05-01\",\r\n          \"properties\": {}\r\n        },\r\n        {\r\n          \"type\": \"Microsoft.Resources/deployments\",\r\n          \"name\": \"rg-nested\",\r\n          \"apiVersion\": \"2017-05-10\",\r\n          \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n          \"dependsOn\": [\r\n            \"[parameters('nestedDeploymentRG')]\"\r\n          ],\r\n          \"properties\": {\r\n            \"template\": {\r\n              \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n              \"contentVersion\": \"1.0.0.0\",\r\n              \"parameters\": {},\r\n              \"variables\": {},\r\n              \"resources\": [\r\n                {\r\n                  \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                  \"name\": \"[parameters('storageAccountName')]\",\r\n                  \"apiVersion\": \"2015-06-15\",\r\n                  \"location\": \"East US\",\r\n                  \"properties\": {\r\n                    \"accountType\": \"Standard_LRS\"\r\n                  }\r\n                }\r\n              ]\r\n            },\r\n            \"mode\": \"Incremental\"\r\n          }\r\n        }\r\n      ]\r\n    },\r\n    \"managedResources\": [],\r\n    \"provisioningState\": \"initializing\"\r\n  },\r\n  \"systemData\": {\r\n    \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n    \"createdByType\": \"Application\",\r\n    \"createdAt\": \"2022-04-25T18:41:32.3821421Z\",\r\n    \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n    \"lastModifiedByType\": \"Application\",\r\n    \"lastModifiedAt\": \"2022-04-25T18:41:32.3821421Z\"\r\n  },\r\n  \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps6461\",\r\n  \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n  \"name\": \"ps6461\"\r\n}",
      "StatusCode": 201
    },
    {
      "RequestUri": "/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks?api-version=2021-05-01-preview",
      "EncodedRequestUri": "L3N1YnNjcmlwdGlvbnMvYTFiZmE2MzUtZjJiZi00MmYxLTg2YjUtODQ4YzY3NGZjMzIxL3Byb3ZpZGVycy9NaWNyb3NvZnQuUmVzb3VyY2VzL2RlcGxveW1lbnRTdGFja3M/YXBpLXZlcnNpb249MjAyMS0wNS0wMS1wcmV2aWV3",
      "RequestMethod": "GET",
      "RequestBody": "",
      "RequestHeaders": {
        "x-ms-client-request-id": [
          "a6f6296f-f47c-4a87-9bd2-ac9f4f5cc121"
        ],
        "Accept-Language": [
          "en-US"
        ],
        "User-Agent": [
          "FxVersion/4.6.30411.01",
          "OSName/Windows",
          "OSVersion/Microsoft.Windows.10.0.22000.",
          "Microsoft.Azure.Management.ResourceManager.DeploymentStacksClient/3.13.2.0"
        ]
      },
      "ResponseHeaders": {
        "Cache-Control": [
          "no-cache"
        ],
        "Pragma": [
          "no-cache"
        ],
        "x-ms-original-request-ids": [
          "7609ca0c-44db-479a-98cc-28d0d6edc8f3",
          "21b3a127-8023-42d2-b9c7-2a6a98911875",
          "89a811e7-3d40-4be3-91a2-e97178fd654b"
        ],
        "x-ms-ratelimit-remaining-subscription-reads": [
          "11999"
        ],
        "x-ms-request-id": [
          "2ae9ec8d-4952-4bb6-b8e5-eda43a2236ed"
        ],
        "x-ms-correlation-request-id": [
          "2ae9ec8d-4952-4bb6-b8e5-eda43a2236ed"
        ],
        "x-ms-routing-request-id": [
          "EASTUS2:20220425T184212Z:2ae9ec8d-4952-4bb6-b8e5-eda43a2236ed"
        ],
        "Strict-Transport-Security": [
          "max-age=31536000; includeSubDomains"
        ],
        "X-Content-Type-Options": [
          "nosniff"
        ],
        "Date": [
          "Mon, 25 Apr 2022 18:42:12 GMT"
        ],
        "Content-Type": [
          "application/json; charset=utf-8"
        ],
        "Expires": [
          "-1"
        ],
        "Content-Length": [
          "245164"
        ],
        "Retry-After": [
          "0"
        ]
      },
      "ResponseBody": "{\r\n  \"value\": [\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps9412/snapshots/2021-08-05-21-43-40-ab2eb\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps9412-2021-08-05-21-43-40-ab2eb\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-05T21:43:40.3548862Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-05T21:43:40.3548862Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps9412\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps9412\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps7734/snapshots/2021-08-05-20-47-45-561b8\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps7734-2021-08-05-20-47-45-561b8\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-05T20:47:44.614607Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-05T20:47:44.614607Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps7734\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps7734\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps7678-2021-08-05-21-31-07-b56e1\",\r\n        \"parameters\": {\r\n          \"siteLocation\": {\r\n            \"value\": \"East US\"\r\n          },\r\n          \"hostingPlanName\": {\r\n            \"value\": \"xDeploymentTestHost26668\"\r\n          },\r\n          \"sku\": {\r\n            \"value\": \"Basic\"\r\n          },\r\n          \"workerSize\": {\r\n            \"value\": 0\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"http://schema.management.azure.com/schemas/2014-04-01-preview/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"hostingPlanName\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"siteLocation\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"sku\": {\r\n              \"type\": \"string\",\r\n              \"allowedValues\": [\r\n                \"Free\",\r\n                \"Shared\",\r\n                \"Basic\",\r\n                \"Standard\"\r\n              ],\r\n              \"defaultValue\": \"Free\"\r\n            },\r\n            \"workerSize\": {\r\n              \"type\": \"int\",\r\n              \"allowedValues\": [\r\n                0,\r\n                1,\r\n                2\r\n              ],\r\n              \"defaultValue\": 0\r\n            }\r\n          },\r\n          \"resources\": [\r\n            {\r\n              \"apiVersion\": \"2014-04-01\",\r\n              \"name\": \"[parameters('hostingPlanName')]\",\r\n              \"type\": \"Microsoft.Web/serverfarms\",\r\n              \"location\": \"[parameters('siteLocation')]\",\r\n              \"properties\": {\r\n                \"name\": \"[parameters('hostingPlanName')]\",\r\n                \"sku\": \"[parameters('sku')]\",\r\n                \"workerSize\": \"[parameters('workerSize')]\",\r\n                \"numberOfWorkers\": 1\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"StackDeployResourcesFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"DeploymentFailed\",\r\n                  \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\",\r\n                  \"details\": [\r\n                    {\r\n                      \"code\": \"ResourceNotFound\",\r\n                      \"message\": \"The Resource 'Microsoft.Web/serverFarms/xDeploymentTestHost26668' under resource group '<null>' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix\"\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-05T21:31:07.1678095Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-05T21:31:07.1678095Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps7678\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps7678\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps8650-2021-08-05-21-31-55-06541\",\r\n        \"parameters\": {\r\n          \"siteLocation\": {\r\n            \"value\": \"East US\"\r\n          },\r\n          \"sku\": {\r\n            \"value\": \"Basic\"\r\n          },\r\n          \"hostingPlanName\": {\r\n            \"value\": \"xDeploymentTestHost26668\"\r\n          },\r\n          \"workerSize\": {\r\n            \"value\": 0\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"http://schema.management.azure.com/schemas/2014-04-01-preview/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"hostingPlanName\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"siteLocation\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"sku\": {\r\n              \"type\": \"string\",\r\n              \"allowedValues\": [\r\n                \"Free\",\r\n                \"Shared\",\r\n                \"Basic\",\r\n                \"Standard\"\r\n              ],\r\n              \"defaultValue\": \"Free\"\r\n            },\r\n            \"workerSize\": {\r\n              \"type\": \"int\",\r\n              \"allowedValues\": [\r\n                0,\r\n                1,\r\n                2\r\n              ],\r\n              \"defaultValue\": 0\r\n            }\r\n          },\r\n          \"resources\": [\r\n            {\r\n              \"apiVersion\": \"2014-04-01\",\r\n              \"name\": \"[parameters('hostingPlanName')]\",\r\n              \"type\": \"Microsoft.Web/serverfarms\",\r\n              \"location\": \"[parameters('siteLocation')]\",\r\n              \"properties\": {\r\n                \"name\": \"[parameters('hostingPlanName')]\",\r\n                \"sku\": \"[parameters('sku')]\",\r\n                \"workerSize\": \"[parameters('workerSize')]\",\r\n                \"numberOfWorkers\": 1\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"StackDeployResourcesFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"DeploymentFailed\",\r\n                  \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\",\r\n                  \"details\": [\r\n                    {\r\n                      \"code\": \"ResourceNotFound\",\r\n                      \"message\": \"The Resource 'Microsoft.Web/serverFarms/xDeploymentTestHost26668' under resource group '<null>' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix\"\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-05T21:31:55.5907376Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-05T21:31:55.5907376Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps8650\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps8650\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps2660/snapshots/2021-08-05-21-33-21-2a758\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps2660-2021-08-05-21-33-21-2a758\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-05T21:33:21.2647083Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-05T21:33:21.2647083Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps2660\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps2660\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps117-2021-08-05-21-33-39-54b95\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"StackDeployResourcesFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"DeploymentFailed\",\r\n                  \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\",\r\n                  \"details\": [\r\n                    {\r\n                      \"code\": \"DeploymentActive\",\r\n                      \"message\": \"Unable to edit or replace deployment 'rg-nested': previous deployment from '8/5/2021 9:33:30 PM' is still active (expiration time is '8/12/2021 9:33:24 PM'). Please see https://aka.ms/arm-deploy for usage details.\"\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-05T21:33:38.9942748Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-05T21:33:38.9942748Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps117\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps117\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/teststack36/snapshots/2021-08-05-21-35-58-a85a6\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/teststack36-2021-08-05-21-35-58-a85a6\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"gopremra@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-08-05T21:35:58.4542015Z\",\r\n        \"lastModifiedBy\": \"gopremra@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-08-05T21:35:58.4542015Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/teststack36\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"teststack36\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps2841/snapshots/2021-08-05-21-38-53-9edd2\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps2841-2021-08-05-21-38-53-9edd2\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-05T21:38:53.2752718Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-05T21:38:53.2752718Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps2841\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps2841\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps5377/snapshots/2021-08-05-21-41-06-1ae62\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps5377-2021-08-05-21-41-06-1ae62\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-05T21:41:06.394859Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-05T21:41:06.394859Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps5377\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps5377\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps1611/snapshots/2021-08-05-21-44-02-3e9d9\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps1611-2021-08-05-21-44-02-3e9d9\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-05T21:44:01.8765993Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-05T21:44:01.8765993Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps1611\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps1611\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps2258/snapshots/2021-08-05-21-45-03-07494\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps2258-2021-08-05-21-45-03-07494\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-05T21:45:02.637839Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-05T21:45:02.637839Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps2258\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps2258\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"parameters\": {},\r\n        \"templateLink\": {\r\n          \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps897/providers/Microsoft.Resources/templateSpecs/ps3176/versions/v1\"\r\n        },\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"StackDeployResourcesFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"InvalidTemplateSpec\",\r\n                  \"message\": \"Unable to retrieve the template content from the resource ID '/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps897/providers/Microsoft.Resources/templateSpecs/ps3176/versions/v1'. Please see https://aka.ms/arm-deploy for usage details. Diagnostic information: timestamp '20210806T182846Z', tracking Id '67f3929b-9b87-4db1-bd3a-cd4c2b5fb92d', request correlation Id 'c153a3f3-aa18-46de-b79d-61000f79777d'.\",\r\n                  \"details\": [],\r\n                  \"additionalInfo\": []\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-06T18:28:45.0078765Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-06T18:28:45.0078765Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps7458\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps7458\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps4097/snapshots/2021-08-06-18-38-35-2fd49\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps4097-2021-08-06-18-38-35-2fd49\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-06T18:38:34.7122081Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-06T18:38:34.7122081Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps4097\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps4097\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps7033/snapshots/2021-08-06-18-39-11-eb9eb\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps7033-2021-08-06-18-39-11-eb9eb\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-06T18:39:11.0116016Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-06T18:39:11.0116016Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps7033\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps7033\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps9009/snapshots/2021-08-06-20-43-40-a4717\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps9009-2021-08-06-20-43-40-a4717\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-06T20:43:39.7636026Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-06T20:43:39.7636026Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps9009\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps9009\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"parameters\": {},\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"StackDeployResourcesFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"InvalidTemplate\",\r\n                  \"message\": \"Deployment template validation failed: 'The value for the template parameter 'foo' at line '8' and column '16' is not provided. Please see https://aka.ms/resource-manager-parameter-files for usage details.'.\",\r\n                  \"details\": [],\r\n                  \"additionalInfo\": [\r\n                    {\r\n                      \"type\": \"TemplateViolation\",\r\n                      \"info\": {\r\n                        \"lineNumber\": 8,\r\n                        \"linePosition\": 16,\r\n                        \"path\": \"properties.template.parameters.foo\"\r\n                      }\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-06T20:54:09.0951289Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-06T20:54:09.0951289Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps33\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps33\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"parameters\": {},\r\n        \"templateLink\": {\r\n          \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps3785/providers/Microsoft.Resources/templateSpecs/ps726/versions/v1\"\r\n        },\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"StackDeployResourcesFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"InvalidTemplateSpec\",\r\n                  \"message\": \"Unable to retrieve the template content from the resource ID '/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps3785/providers/Microsoft.Resources/templateSpecs/ps726/versions/v1'. Please see https://aka.ms/arm-deploy for usage details. Diagnostic information: timestamp '20210809T165838Z', tracking Id 'a2c9239b-a7ef-4e80-8574-337dcb75130c', request correlation Id 'f3280879-aff0-4e1e-818b-a319ca25793d'.\",\r\n                  \"details\": [],\r\n                  \"additionalInfo\": []\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-09T16:58:37.3693411Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-09T16:58:37.3693411Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps8838\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps8838\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps7646-2021-08-09-18-35-38-d3af1\",\r\n        \"parameters\": {\r\n          \"hostingPlanName\": {\r\n            \"value\": \"xDeploymentTestHost26668\"\r\n          },\r\n          \"siteLocation\": {\r\n            \"value\": \"East US\"\r\n          },\r\n          \"sku\": {\r\n            \"value\": \"Basic\"\r\n          },\r\n          \"workerSize\": {\r\n            \"value\": 0\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"http://schema.management.azure.com/schemas/2014-04-01-preview/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"hostingPlanName\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"siteLocation\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"sku\": {\r\n              \"type\": \"string\",\r\n              \"allowedValues\": [\r\n                \"Free\",\r\n                \"Shared\",\r\n                \"Basic\",\r\n                \"Standard\"\r\n              ],\r\n              \"defaultValue\": \"Free\"\r\n            },\r\n            \"workerSize\": {\r\n              \"type\": \"int\",\r\n              \"allowedValues\": [\r\n                0,\r\n                1,\r\n                2\r\n              ],\r\n              \"defaultValue\": 0\r\n            }\r\n          },\r\n          \"resources\": [\r\n            {\r\n              \"apiVersion\": \"2014-04-01\",\r\n              \"name\": \"[parameters('hostingPlanName')]\",\r\n              \"type\": \"Microsoft.Web/serverfarms\",\r\n              \"location\": \"[parameters('siteLocation')]\",\r\n              \"properties\": {\r\n                \"name\": \"[parameters('hostingPlanName')]\",\r\n                \"sku\": \"[parameters('sku')]\",\r\n                \"workerSize\": \"[parameters('workerSize')]\",\r\n                \"numberOfWorkers\": 1\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"StackDeployResourcesFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"DeploymentFailed\",\r\n                  \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\",\r\n                  \"details\": [\r\n                    {\r\n                      \"code\": \"ResourceNotFound\",\r\n                      \"message\": \"The Resource 'Microsoft.Web/serverFarms/xDeploymentTestHost26668' under resource group '<null>' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix\"\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-09T18:35:38.466307Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-09T18:35:38.466307Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps7646\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps7646\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"parameters\": {},\r\n        \"template\": {\r\n          \"$schema\": \"http://schema.management.azure.com/schemas/2014-04-01-preview/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"hostingPlanName\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"siteLocation\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"sku\": {\r\n              \"type\": \"string\",\r\n              \"allowedValues\": [\r\n                \"Free\",\r\n                \"Shared\",\r\n                \"Basic\",\r\n                \"Standard\"\r\n              ],\r\n              \"defaultValue\": \"Free\"\r\n            },\r\n            \"workerSize\": {\r\n              \"type\": \"int\",\r\n              \"allowedValues\": [\r\n                0,\r\n                1,\r\n                2\r\n              ],\r\n              \"defaultValue\": 0\r\n            }\r\n          },\r\n          \"resources\": [\r\n            {\r\n              \"apiVersion\": \"2014-04-01\",\r\n              \"name\": \"[parameters('hostingPlanName')]\",\r\n              \"type\": \"Microsoft.Web/serverfarms\",\r\n              \"location\": \"[parameters('siteLocation')]\",\r\n              \"properties\": {\r\n                \"name\": \"[parameters('hostingPlanName')]\",\r\n                \"sku\": \"[parameters('sku')]\",\r\n                \"workerSize\": \"[parameters('workerSize')]\",\r\n                \"numberOfWorkers\": 1\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"StackDeployResourcesFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"InvalidTemplate\",\r\n                  \"message\": \"Deployment template validation failed: 'The value for the template parameter 'hostingPlanName' at line '8' and column '28' is not provided. Please see https://aka.ms/resource-manager-parameter-files for usage details.'.\",\r\n                  \"details\": [],\r\n                  \"additionalInfo\": [\r\n                    {\r\n                      \"type\": \"TemplateViolation\",\r\n                      \"info\": {\r\n                        \"lineNumber\": 8,\r\n                        \"linePosition\": 28,\r\n                        \"path\": \"properties.template.parameters.hostingPlanName\"\r\n                      }\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"gopremra@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-08-09T18:53:13.9520002Z\",\r\n        \"lastModifiedBy\": \"gopremra@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-08-09T18:53:52.7679913Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/gptest\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"gptest\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps121-2021-08-10-16-47-05-37ded\",\r\n        \"parameters\": {\r\n          \"siteLocation\": {\r\n            \"value\": \"East US\"\r\n          },\r\n          \"sku\": {\r\n            \"value\": \"Basic\"\r\n          },\r\n          \"workerSize\": {\r\n            \"value\": 0\r\n          },\r\n          \"hostingPlanName\": {\r\n            \"value\": \"xDeploymentTestHost26668\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"http://schema.management.azure.com/schemas/2014-04-01-preview/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"hostingPlanName\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"siteLocation\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"sku\": {\r\n              \"type\": \"string\",\r\n              \"allowedValues\": [\r\n                \"Free\",\r\n                \"Shared\",\r\n                \"Basic\",\r\n                \"Standard\"\r\n              ],\r\n              \"defaultValue\": \"Free\"\r\n            },\r\n            \"workerSize\": {\r\n              \"type\": \"int\",\r\n              \"allowedValues\": [\r\n                0,\r\n                1,\r\n                2\r\n              ],\r\n              \"defaultValue\": 0\r\n            }\r\n          },\r\n          \"resources\": [\r\n            {\r\n              \"apiVersion\": \"2014-04-01\",\r\n              \"name\": \"[parameters('hostingPlanName')]\",\r\n              \"type\": \"Microsoft.Web/serverfarms\",\r\n              \"location\": \"[parameters('siteLocation')]\",\r\n              \"properties\": {\r\n                \"name\": \"[parameters('hostingPlanName')]\",\r\n                \"sku\": \"[parameters('sku')]\",\r\n                \"workerSize\": \"[parameters('workerSize')]\",\r\n                \"numberOfWorkers\": 1\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"StackDeployResourcesFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"DeploymentFailed\",\r\n                  \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\",\r\n                  \"details\": [\r\n                    {\r\n                      \"code\": \"ResourceNotFound\",\r\n                      \"message\": \"The Resource 'Microsoft.Web/serverFarms/xDeploymentTestHost26668' under resource group '<null>' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix\"\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-10T16:47:05.6328647Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-10T16:47:05.6328647Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps121\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps121\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps1324-2021-08-10-16-57-42-dea35\",\r\n        \"parameters\": {\r\n          \"sku\": {\r\n            \"value\": \"Basic\"\r\n          },\r\n          \"workerSize\": {\r\n            \"value\": 0\r\n          },\r\n          \"siteLocation\": {\r\n            \"value\": \"East US\"\r\n          },\r\n          \"hostingPlanName\": {\r\n            \"value\": \"xDeploymentTestHost26668\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"http://schema.management.azure.com/schemas/2014-04-01-preview/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"hostingPlanName\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"siteLocation\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"sku\": {\r\n              \"type\": \"string\",\r\n              \"allowedValues\": [\r\n                \"Free\",\r\n                \"Shared\",\r\n                \"Basic\",\r\n                \"Standard\"\r\n              ],\r\n              \"defaultValue\": \"Free\"\r\n            },\r\n            \"workerSize\": {\r\n              \"type\": \"int\",\r\n              \"allowedValues\": [\r\n                0,\r\n                1,\r\n                2\r\n              ],\r\n              \"defaultValue\": 0\r\n            }\r\n          },\r\n          \"resources\": [\r\n            {\r\n              \"apiVersion\": \"2014-04-01\",\r\n              \"name\": \"[parameters('hostingPlanName')]\",\r\n              \"type\": \"Microsoft.Web/serverfarms\",\r\n              \"location\": \"[parameters('siteLocation')]\",\r\n              \"properties\": {\r\n                \"name\": \"[parameters('hostingPlanName')]\",\r\n                \"sku\": \"[parameters('sku')]\",\r\n                \"workerSize\": \"[parameters('workerSize')]\",\r\n                \"numberOfWorkers\": 1\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"StackDeployResourcesFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"DeploymentFailed\",\r\n                  \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\",\r\n                  \"details\": [\r\n                    {\r\n                      \"code\": \"ResourceNotFound\",\r\n                      \"message\": \"The Resource 'Microsoft.Web/serverFarms/xDeploymentTestHost26668' under resource group '<null>' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix\"\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-10T16:57:42.1779526Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-10T16:57:42.1779526Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps1324\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps1324\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps8618-2021-08-10-16-59-27-c12a8\",\r\n        \"parameters\": {\r\n          \"hostingPlanName\": {\r\n            \"value\": \"xDeploymentTestHost26668\"\r\n          },\r\n          \"sku\": {\r\n            \"value\": \"Basic\"\r\n          },\r\n          \"workerSize\": {\r\n            \"value\": 0\r\n          },\r\n          \"siteLocation\": {\r\n            \"value\": \"East US\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"http://schema.management.azure.com/schemas/2014-04-01-preview/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"hostingPlanName\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"siteLocation\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"sku\": {\r\n              \"type\": \"string\",\r\n              \"allowedValues\": [\r\n                \"Free\",\r\n                \"Shared\",\r\n                \"Basic\",\r\n                \"Standard\"\r\n              ],\r\n              \"defaultValue\": \"Free\"\r\n            },\r\n            \"workerSize\": {\r\n              \"type\": \"int\",\r\n              \"allowedValues\": [\r\n                0,\r\n                1,\r\n                2\r\n              ],\r\n              \"defaultValue\": 0\r\n            }\r\n          },\r\n          \"resources\": [\r\n            {\r\n              \"apiVersion\": \"2014-04-01\",\r\n              \"name\": \"[parameters('hostingPlanName')]\",\r\n              \"type\": \"Microsoft.Web/serverfarms\",\r\n              \"location\": \"[parameters('siteLocation')]\",\r\n              \"properties\": {\r\n                \"name\": \"[parameters('hostingPlanName')]\",\r\n                \"sku\": \"[parameters('sku')]\",\r\n                \"workerSize\": \"[parameters('workerSize')]\",\r\n                \"numberOfWorkers\": 1\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"StackDeployResourcesFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"DeploymentFailed\",\r\n                  \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\",\r\n                  \"details\": [\r\n                    {\r\n                      \"code\": \"ResourceNotFound\",\r\n                      \"message\": \"The Resource 'Microsoft.Web/serverFarms/xDeploymentTestHost26668' under resource group '<null>' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix\"\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-10T16:59:26.6868348Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-10T16:59:26.6868348Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps8618\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps8618\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps2140-2021-08-10-17-00-45-199b9\",\r\n        \"parameters\": {\r\n          \"hostingPlanName\": {\r\n            \"value\": \"xDeploymentTestHost26668\"\r\n          },\r\n          \"siteLocation\": {\r\n            \"value\": \"East US\"\r\n          },\r\n          \"workerSize\": {\r\n            \"value\": 0\r\n          },\r\n          \"sku\": {\r\n            \"value\": \"Basic\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"http://schema.management.azure.com/schemas/2014-04-01-preview/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"hostingPlanName\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"siteLocation\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"sku\": {\r\n              \"type\": \"string\",\r\n              \"allowedValues\": [\r\n                \"Free\",\r\n                \"Shared\",\r\n                \"Basic\",\r\n                \"Standard\"\r\n              ],\r\n              \"defaultValue\": \"Free\"\r\n            },\r\n            \"workerSize\": {\r\n              \"type\": \"int\",\r\n              \"allowedValues\": [\r\n                0,\r\n                1,\r\n                2\r\n              ],\r\n              \"defaultValue\": 0\r\n            }\r\n          },\r\n          \"resources\": [\r\n            {\r\n              \"apiVersion\": \"2014-04-01\",\r\n              \"name\": \"[parameters('hostingPlanName')]\",\r\n              \"type\": \"Microsoft.Web/serverfarms\",\r\n              \"location\": \"[parameters('siteLocation')]\",\r\n              \"properties\": {\r\n                \"name\": \"[parameters('hostingPlanName')]\",\r\n                \"sku\": \"[parameters('sku')]\",\r\n                \"workerSize\": \"[parameters('workerSize')]\",\r\n                \"numberOfWorkers\": 1\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"StackDeployResourcesFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"DeploymentFailed\",\r\n                  \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\",\r\n                  \"details\": [\r\n                    {\r\n                      \"code\": \"ResourceNotFound\",\r\n                      \"message\": \"The Resource 'Microsoft.Web/serverFarms/xDeploymentTestHost26668' under resource group '<null>' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix\"\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-10T17:00:44.9396928Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-10T17:00:44.9396928Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps2140\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps2140\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps1282-2021-08-10-17-02-05-1aa22\",\r\n        \"parameters\": {\r\n          \"siteLocation\": {\r\n            \"value\": \"East US\"\r\n          },\r\n          \"workerSize\": {\r\n            \"value\": 0\r\n          },\r\n          \"hostingPlanName\": {\r\n            \"value\": \"xDeploymentTestHost26668\"\r\n          },\r\n          \"sku\": {\r\n            \"value\": \"Basic\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"http://schema.management.azure.com/schemas/2014-04-01-preview/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"hostingPlanName\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"siteLocation\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"sku\": {\r\n              \"type\": \"string\",\r\n              \"allowedValues\": [\r\n                \"Free\",\r\n                \"Shared\",\r\n                \"Basic\",\r\n                \"Standard\"\r\n              ],\r\n              \"defaultValue\": \"Free\"\r\n            },\r\n            \"workerSize\": {\r\n              \"type\": \"int\",\r\n              \"allowedValues\": [\r\n                0,\r\n                1,\r\n                2\r\n              ],\r\n              \"defaultValue\": 0\r\n            }\r\n          },\r\n          \"resources\": [\r\n            {\r\n              \"apiVersion\": \"2014-04-01\",\r\n              \"name\": \"[parameters('hostingPlanName')]\",\r\n              \"type\": \"Microsoft.Web/serverfarms\",\r\n              \"location\": \"[parameters('siteLocation')]\",\r\n              \"properties\": {\r\n                \"name\": \"[parameters('hostingPlanName')]\",\r\n                \"sku\": \"[parameters('sku')]\",\r\n                \"workerSize\": \"[parameters('workerSize')]\",\r\n                \"numberOfWorkers\": 1\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"StackDeployResourcesFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"DeploymentFailed\",\r\n                  \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\",\r\n                  \"details\": [\r\n                    {\r\n                      \"code\": \"ResourceNotFound\",\r\n                      \"message\": \"The Resource 'Microsoft.Web/serverFarms/xDeploymentTestHost26668' under resource group '<null>' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix\"\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-10T17:02:05.0078009Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-10T17:02:05.0078009Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps1282\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps1282\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps6421-2021-08-10-17-12-00-08994\",\r\n        \"parameters\": {\r\n          \"hostingPlanName\": {\r\n            \"value\": \"xDeploymentTestHost26668\"\r\n          },\r\n          \"workerSize\": {\r\n            \"value\": 0\r\n          },\r\n          \"siteLocation\": {\r\n            \"value\": \"East US\"\r\n          },\r\n          \"sku\": {\r\n            \"value\": \"Basic\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"http://schema.management.azure.com/schemas/2014-04-01-preview/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"hostingPlanName\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"siteLocation\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"sku\": {\r\n              \"type\": \"string\",\r\n              \"allowedValues\": [\r\n                \"Free\",\r\n                \"Shared\",\r\n                \"Basic\",\r\n                \"Standard\"\r\n              ],\r\n              \"defaultValue\": \"Free\"\r\n            },\r\n            \"workerSize\": {\r\n              \"type\": \"int\",\r\n              \"allowedValues\": [\r\n                0,\r\n                1,\r\n                2\r\n              ],\r\n              \"defaultValue\": 0\r\n            }\r\n          },\r\n          \"resources\": [\r\n            {\r\n              \"apiVersion\": \"2014-04-01\",\r\n              \"name\": \"[parameters('hostingPlanName')]\",\r\n              \"type\": \"Microsoft.Web/serverfarms\",\r\n              \"location\": \"[parameters('siteLocation')]\",\r\n              \"properties\": {\r\n                \"name\": \"[parameters('hostingPlanName')]\",\r\n                \"sku\": \"[parameters('sku')]\",\r\n                \"workerSize\": \"[parameters('workerSize')]\",\r\n                \"numberOfWorkers\": 1\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"StackDeployResourcesFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"DeploymentFailed\",\r\n                  \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\",\r\n                  \"details\": [\r\n                    {\r\n                      \"code\": \"ResourceNotFound\",\r\n                      \"message\": \"The Resource 'Microsoft.Web/serverFarms/xDeploymentTestHost26668' under resource group '<null>' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix\"\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-10T17:11:53.6589803Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-10T17:12:00.2334862Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps6421\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps6421\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps703-2021-08-10-17-14-35-27adf\",\r\n        \"parameters\": {\r\n          \"hostingPlanName\": {\r\n            \"value\": \"xDeploymentTestHost26668\"\r\n          },\r\n          \"siteLocation\": {\r\n            \"value\": \"East US\"\r\n          },\r\n          \"sku\": {\r\n            \"value\": \"Basic\"\r\n          },\r\n          \"workerSize\": {\r\n            \"value\": 0\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"http://schema.management.azure.com/schemas/2014-04-01-preview/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"hostingPlanName\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"siteLocation\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"sku\": {\r\n              \"type\": \"string\",\r\n              \"allowedValues\": [\r\n                \"Free\",\r\n                \"Shared\",\r\n                \"Basic\",\r\n                \"Standard\"\r\n              ],\r\n              \"defaultValue\": \"Free\"\r\n            },\r\n            \"workerSize\": {\r\n              \"type\": \"int\",\r\n              \"allowedValues\": [\r\n                0,\r\n                1,\r\n                2\r\n              ],\r\n              \"defaultValue\": 0\r\n            }\r\n          },\r\n          \"resources\": [\r\n            {\r\n              \"apiVersion\": \"2014-04-01\",\r\n              \"name\": \"[parameters('hostingPlanName')]\",\r\n              \"type\": \"Microsoft.Web/serverfarms\",\r\n              \"location\": \"[parameters('siteLocation')]\",\r\n              \"properties\": {\r\n                \"name\": \"[parameters('hostingPlanName')]\",\r\n                \"sku\": \"[parameters('sku')]\",\r\n                \"workerSize\": \"[parameters('workerSize')]\",\r\n                \"numberOfWorkers\": 1\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"StackDeployResourcesFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"DeploymentFailed\",\r\n                  \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\",\r\n                  \"details\": [\r\n                    {\r\n                      \"code\": \"ResourceNotFound\",\r\n                      \"message\": \"The Resource 'Microsoft.Web/serverFarms/xDeploymentTestHost26668' under resource group '<null>' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix\"\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-10T17:14:28.0893418Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-10T17:14:34.7758618Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps703\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps703\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps3590-2021-08-10-17-16-31-728bc\",\r\n        \"parameters\": {\r\n          \"workerSize\": {\r\n            \"value\": 0\r\n          },\r\n          \"sku\": {\r\n            \"value\": \"Basic\"\r\n          },\r\n          \"hostingPlanName\": {\r\n            \"value\": \"xDeploymentTestHost26668\"\r\n          },\r\n          \"siteLocation\": {\r\n            \"value\": \"East US\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"http://schema.management.azure.com/schemas/2014-04-01-preview/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"hostingPlanName\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"siteLocation\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"sku\": {\r\n              \"type\": \"string\",\r\n              \"allowedValues\": [\r\n                \"Free\",\r\n                \"Shared\",\r\n                \"Basic\",\r\n                \"Standard\"\r\n              ],\r\n              \"defaultValue\": \"Free\"\r\n            },\r\n            \"workerSize\": {\r\n              \"type\": \"int\",\r\n              \"allowedValues\": [\r\n                0,\r\n                1,\r\n                2\r\n              ],\r\n              \"defaultValue\": 0\r\n            }\r\n          },\r\n          \"resources\": [\r\n            {\r\n              \"apiVersion\": \"2014-04-01\",\r\n              \"name\": \"[parameters('hostingPlanName')]\",\r\n              \"type\": \"Microsoft.Web/serverfarms\",\r\n              \"location\": \"[parameters('siteLocation')]\",\r\n              \"properties\": {\r\n                \"name\": \"[parameters('hostingPlanName')]\",\r\n                \"sku\": \"[parameters('sku')]\",\r\n                \"workerSize\": \"[parameters('workerSize')]\",\r\n                \"numberOfWorkers\": 1\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"StackDeployResourcesFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"DeploymentFailed\",\r\n                  \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\",\r\n                  \"details\": [\r\n                    {\r\n                      \"code\": \"ResourceNotFound\",\r\n                      \"message\": \"The Resource 'Microsoft.Web/serverFarms/xDeploymentTestHost26668' under resource group '<null>' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix\"\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-10T17:16:23.3649618Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-10T17:16:30.8702865Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps3590\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps3590\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps6180-2021-08-10-17-17-43-35565\",\r\n        \"parameters\": {\r\n          \"workerSize\": {\r\n            \"value\": 0\r\n          },\r\n          \"sku\": {\r\n            \"value\": \"Basic\"\r\n          },\r\n          \"siteLocation\": {\r\n            \"value\": \"East US\"\r\n          },\r\n          \"hostingPlanName\": {\r\n            \"value\": \"xDeploymentTestHost26668\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"http://schema.management.azure.com/schemas/2014-04-01-preview/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"hostingPlanName\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"siteLocation\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"sku\": {\r\n              \"type\": \"string\",\r\n              \"allowedValues\": [\r\n                \"Free\",\r\n                \"Shared\",\r\n                \"Basic\",\r\n                \"Standard\"\r\n              ],\r\n              \"defaultValue\": \"Free\"\r\n            },\r\n            \"workerSize\": {\r\n              \"type\": \"int\",\r\n              \"allowedValues\": [\r\n                0,\r\n                1,\r\n                2\r\n              ],\r\n              \"defaultValue\": 0\r\n            }\r\n          },\r\n          \"resources\": [\r\n            {\r\n              \"apiVersion\": \"2014-04-01\",\r\n              \"name\": \"[parameters('hostingPlanName')]\",\r\n              \"type\": \"Microsoft.Web/serverfarms\",\r\n              \"location\": \"[parameters('siteLocation')]\",\r\n              \"properties\": {\r\n                \"name\": \"[parameters('hostingPlanName')]\",\r\n                \"sku\": \"[parameters('sku')]\",\r\n                \"workerSize\": \"[parameters('workerSize')]\",\r\n                \"numberOfWorkers\": 1\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"StackDeployResourcesFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"DeploymentFailed\",\r\n                  \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\",\r\n                  \"details\": [\r\n                    {\r\n                      \"code\": \"ResourceNotFound\",\r\n                      \"message\": \"The Resource 'Microsoft.Web/serverFarms/xDeploymentTestHost26668' under resource group '<null>' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix\"\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-10T17:17:35.1627228Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-10T17:17:42.8833909Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps6180\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps6180\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps8891-2021-08-10-18-28-59-7f074\",\r\n        \"parameters\": {\r\n          \"siteLocation\": {\r\n            \"value\": \"East US\"\r\n          },\r\n          \"workerSize\": {\r\n            \"value\": 0\r\n          },\r\n          \"sku\": {\r\n            \"value\": \"Basic\"\r\n          },\r\n          \"hostingPlanName\": {\r\n            \"value\": \"xDeploymentTestHost26668\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"http://schema.management.azure.com/schemas/2014-04-01-preview/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"hostingPlanName\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"siteLocation\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"sku\": {\r\n              \"type\": \"string\",\r\n              \"allowedValues\": [\r\n                \"Free\",\r\n                \"Shared\",\r\n                \"Basic\",\r\n                \"Standard\"\r\n              ],\r\n              \"defaultValue\": \"Free\"\r\n            },\r\n            \"workerSize\": {\r\n              \"type\": \"int\",\r\n              \"allowedValues\": [\r\n                0,\r\n                1,\r\n                2\r\n              ],\r\n              \"defaultValue\": 0\r\n            }\r\n          },\r\n          \"resources\": [\r\n            {\r\n              \"apiVersion\": \"2014-04-01\",\r\n              \"name\": \"[parameters('hostingPlanName')]\",\r\n              \"type\": \"Microsoft.Web/serverfarms\",\r\n              \"location\": \"[parameters('siteLocation')]\",\r\n              \"properties\": {\r\n                \"name\": \"[parameters('hostingPlanName')]\",\r\n                \"sku\": \"[parameters('sku')]\",\r\n                \"workerSize\": \"[parameters('workerSize')]\",\r\n                \"numberOfWorkers\": 1\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"StackDeployResourcesFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"DeploymentFailed\",\r\n                  \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\",\r\n                  \"details\": [\r\n                    {\r\n                      \"code\": \"ResourceNotFound\",\r\n                      \"message\": \"The Resource 'Microsoft.Web/serverFarms/xDeploymentTestHost26668' under resource group '<null>' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix\"\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-10T18:28:50.6716248Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-10T18:28:59.0248036Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps8891\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps8891\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps9502-2021-08-10-18-30-51-f4363\",\r\n        \"parameters\": {\r\n          \"sku\": {\r\n            \"value\": \"Basic\"\r\n          },\r\n          \"workerSize\": {\r\n            \"value\": 0\r\n          },\r\n          \"hostingPlanName\": {\r\n            \"value\": \"xDeploymentTestHost26668\"\r\n          },\r\n          \"siteLocation\": {\r\n            \"value\": \"East US\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"http://schema.management.azure.com/schemas/2014-04-01-preview/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"hostingPlanName\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"siteLocation\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"sku\": {\r\n              \"type\": \"string\",\r\n              \"allowedValues\": [\r\n                \"Free\",\r\n                \"Shared\",\r\n                \"Basic\",\r\n                \"Standard\"\r\n              ],\r\n              \"defaultValue\": \"Free\"\r\n            },\r\n            \"workerSize\": {\r\n              \"type\": \"int\",\r\n              \"allowedValues\": [\r\n                0,\r\n                1,\r\n                2\r\n              ],\r\n              \"defaultValue\": 0\r\n            }\r\n          },\r\n          \"resources\": [\r\n            {\r\n              \"apiVersion\": \"2014-04-01\",\r\n              \"name\": \"[parameters('hostingPlanName')]\",\r\n              \"type\": \"Microsoft.Web/serverfarms\",\r\n              \"location\": \"[parameters('siteLocation')]\",\r\n              \"properties\": {\r\n                \"name\": \"[parameters('hostingPlanName')]\",\r\n                \"sku\": \"[parameters('sku')]\",\r\n                \"workerSize\": \"[parameters('workerSize')]\",\r\n                \"numberOfWorkers\": 1\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"StackDeployResourcesFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"DeploymentFailed\",\r\n                  \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\",\r\n                  \"details\": [\r\n                    {\r\n                      \"code\": \"ResourceNotFound\",\r\n                      \"message\": \"The Resource 'Microsoft.Web/serverFarms/xDeploymentTestHost26668' under resource group '<null>' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix\"\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-10T18:30:44.0823926Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-10T18:30:51.1062103Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps9502\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps9502\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps8518-2021-08-10-18-31-36-738b3\",\r\n        \"parameters\": {\r\n          \"sku\": {\r\n            \"value\": \"Basic\"\r\n          },\r\n          \"hostingPlanName\": {\r\n            \"value\": \"xDeploymentTestHost26668\"\r\n          },\r\n          \"workerSize\": {\r\n            \"value\": 0\r\n          },\r\n          \"siteLocation\": {\r\n            \"value\": \"East US\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"http://schema.management.azure.com/schemas/2014-04-01-preview/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"hostingPlanName\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"siteLocation\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"sku\": {\r\n              \"type\": \"string\",\r\n              \"allowedValues\": [\r\n                \"Free\",\r\n                \"Shared\",\r\n                \"Basic\",\r\n                \"Standard\"\r\n              ],\r\n              \"defaultValue\": \"Free\"\r\n            },\r\n            \"workerSize\": {\r\n              \"type\": \"int\",\r\n              \"allowedValues\": [\r\n                0,\r\n                1,\r\n                2\r\n              ],\r\n              \"defaultValue\": 0\r\n            }\r\n          },\r\n          \"resources\": [\r\n            {\r\n              \"apiVersion\": \"2014-04-01\",\r\n              \"name\": \"[parameters('hostingPlanName')]\",\r\n              \"type\": \"Microsoft.Web/serverfarms\",\r\n              \"location\": \"[parameters('siteLocation')]\",\r\n              \"properties\": {\r\n                \"name\": \"[parameters('hostingPlanName')]\",\r\n                \"sku\": \"[parameters('sku')]\",\r\n                \"workerSize\": \"[parameters('workerSize')]\",\r\n                \"numberOfWorkers\": 1\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"StackDeployResourcesFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"DeploymentFailed\",\r\n                  \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\",\r\n                  \"details\": [\r\n                    {\r\n                      \"code\": \"ResourceNotFound\",\r\n                      \"message\": \"The Resource 'Microsoft.Web/serverFarms/xDeploymentTestHost26668' under resource group '<null>' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix\"\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-10T18:31:30.1061333Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-10T18:31:35.7474604Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps8518\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps8518\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps9760-2021-08-10-18-34-10-99678\",\r\n        \"parameters\": {\r\n          \"workerSize\": {\r\n            \"value\": 0\r\n          },\r\n          \"sku\": {\r\n            \"value\": \"Basic\"\r\n          },\r\n          \"hostingPlanName\": {\r\n            \"value\": \"xDeploymentTestHost26668\"\r\n          },\r\n          \"siteLocation\": {\r\n            \"value\": \"East US\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"http://schema.management.azure.com/schemas/2014-04-01-preview/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"hostingPlanName\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"siteLocation\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"sku\": {\r\n              \"type\": \"string\",\r\n              \"allowedValues\": [\r\n                \"Free\",\r\n                \"Shared\",\r\n                \"Basic\",\r\n                \"Standard\"\r\n              ],\r\n              \"defaultValue\": \"Free\"\r\n            },\r\n            \"workerSize\": {\r\n              \"type\": \"int\",\r\n              \"allowedValues\": [\r\n                0,\r\n                1,\r\n                2\r\n              ],\r\n              \"defaultValue\": 0\r\n            }\r\n          },\r\n          \"resources\": [\r\n            {\r\n              \"apiVersion\": \"2014-04-01\",\r\n              \"name\": \"[parameters('hostingPlanName')]\",\r\n              \"type\": \"Microsoft.Web/serverfarms\",\r\n              \"location\": \"[parameters('siteLocation')]\",\r\n              \"properties\": {\r\n                \"name\": \"[parameters('hostingPlanName')]\",\r\n                \"sku\": \"[parameters('sku')]\",\r\n                \"workerSize\": \"[parameters('workerSize')]\",\r\n                \"numberOfWorkers\": 1\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"StackDeployResourcesFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"DeploymentFailed\",\r\n                  \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\",\r\n                  \"details\": [\r\n                    {\r\n                      \"code\": \"ResourceNotFound\",\r\n                      \"message\": \"The Resource 'Microsoft.Web/serverFarms/xDeploymentTestHost26668' under resource group '<null>' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix\"\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-10T18:34:03.3505028Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-10T18:34:09.6543048Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps9760\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps9760\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps1403-2021-08-10-18-36-34-0a2b3\",\r\n        \"parameters\": {\r\n          \"sku\": {\r\n            \"value\": \"Basic\"\r\n          },\r\n          \"siteLocation\": {\r\n            \"value\": \"East US\"\r\n          },\r\n          \"hostingPlanName\": {\r\n            \"value\": \"xDeploymentTestHost26668\"\r\n          },\r\n          \"workerSize\": {\r\n            \"value\": 0\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"http://schema.management.azure.com/schemas/2014-04-01-preview/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"hostingPlanName\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"siteLocation\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"sku\": {\r\n              \"type\": \"string\",\r\n              \"allowedValues\": [\r\n                \"Free\",\r\n                \"Shared\",\r\n                \"Basic\",\r\n                \"Standard\"\r\n              ],\r\n              \"defaultValue\": \"Free\"\r\n            },\r\n            \"workerSize\": {\r\n              \"type\": \"int\",\r\n              \"allowedValues\": [\r\n                0,\r\n                1,\r\n                2\r\n              ],\r\n              \"defaultValue\": 0\r\n            }\r\n          },\r\n          \"resources\": [\r\n            {\r\n              \"apiVersion\": \"2014-04-01\",\r\n              \"name\": \"[parameters('hostingPlanName')]\",\r\n              \"type\": \"Microsoft.Web/serverfarms\",\r\n              \"location\": \"[parameters('siteLocation')]\",\r\n              \"properties\": {\r\n                \"name\": \"[parameters('hostingPlanName')]\",\r\n                \"sku\": \"[parameters('sku')]\",\r\n                \"workerSize\": \"[parameters('workerSize')]\",\r\n                \"numberOfWorkers\": 1\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"StackDeployResourcesFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"DeploymentFailed\",\r\n                  \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\",\r\n                  \"details\": [\r\n                    {\r\n                      \"code\": \"ResourceNotFound\",\r\n                      \"message\": \"The Resource 'Microsoft.Web/serverFarms/xDeploymentTestHost26668' under resource group '<null>' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix\"\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-10T18:36:33.8674243Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-10T18:36:33.8674243Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps1403\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps1403\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps2288-2021-08-10-18-37-50-af53e\",\r\n        \"parameters\": {\r\n          \"sku\": {\r\n            \"value\": \"Basic\"\r\n          },\r\n          \"hostingPlanName\": {\r\n            \"value\": \"xDeploymentTestHost26668\"\r\n          },\r\n          \"siteLocation\": {\r\n            \"value\": \"East US\"\r\n          },\r\n          \"workerSize\": {\r\n            \"value\": 0\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"http://schema.management.azure.com/schemas/2014-04-01-preview/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"hostingPlanName\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"siteLocation\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"sku\": {\r\n              \"type\": \"string\",\r\n              \"allowedValues\": [\r\n                \"Free\",\r\n                \"Shared\",\r\n                \"Basic\",\r\n                \"Standard\"\r\n              ],\r\n              \"defaultValue\": \"Free\"\r\n            },\r\n            \"workerSize\": {\r\n              \"type\": \"int\",\r\n              \"allowedValues\": [\r\n                0,\r\n                1,\r\n                2\r\n              ],\r\n              \"defaultValue\": 0\r\n            }\r\n          },\r\n          \"resources\": [\r\n            {\r\n              \"apiVersion\": \"2014-04-01\",\r\n              \"name\": \"[parameters('hostingPlanName')]\",\r\n              \"type\": \"Microsoft.Web/serverfarms\",\r\n              \"location\": \"[parameters('siteLocation')]\",\r\n              \"properties\": {\r\n                \"name\": \"[parameters('hostingPlanName')]\",\r\n                \"sku\": \"[parameters('sku')]\",\r\n                \"workerSize\": \"[parameters('workerSize')]\",\r\n                \"numberOfWorkers\": 1\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"StackDeployResourcesFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"DeploymentFailed\",\r\n                  \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\",\r\n                  \"details\": [\r\n                    {\r\n                      \"code\": \"ResourceNotFound\",\r\n                      \"message\": \"The Resource 'Microsoft.Web/serverFarms/xDeploymentTestHost26668' under resource group '<null>' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix\"\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-10T18:37:43.399231Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-10T18:37:50.5717694Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps2288\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps2288\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps2697-2021-08-10-18-38-58-4de61\",\r\n        \"parameters\": {\r\n          \"sku\": {\r\n            \"value\": \"Basic\"\r\n          },\r\n          \"workerSize\": {\r\n            \"value\": 0\r\n          },\r\n          \"siteLocation\": {\r\n            \"value\": \"East US\"\r\n          },\r\n          \"hostingPlanName\": {\r\n            \"value\": \"xDeploymentTestHost26668\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"http://schema.management.azure.com/schemas/2014-04-01-preview/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"hostingPlanName\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"siteLocation\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"sku\": {\r\n              \"type\": \"string\",\r\n              \"allowedValues\": [\r\n                \"Free\",\r\n                \"Shared\",\r\n                \"Basic\",\r\n                \"Standard\"\r\n              ],\r\n              \"defaultValue\": \"Free\"\r\n            },\r\n            \"workerSize\": {\r\n              \"type\": \"int\",\r\n              \"allowedValues\": [\r\n                0,\r\n                1,\r\n                2\r\n              ],\r\n              \"defaultValue\": 0\r\n            }\r\n          },\r\n          \"resources\": [\r\n            {\r\n              \"apiVersion\": \"2014-04-01\",\r\n              \"name\": \"[parameters('hostingPlanName')]\",\r\n              \"type\": \"Microsoft.Web/serverfarms\",\r\n              \"location\": \"[parameters('siteLocation')]\",\r\n              \"properties\": {\r\n                \"name\": \"[parameters('hostingPlanName')]\",\r\n                \"sku\": \"[parameters('sku')]\",\r\n                \"workerSize\": \"[parameters('workerSize')]\",\r\n                \"numberOfWorkers\": 1\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"StackDeployResourcesFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"DeploymentFailed\",\r\n                  \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\",\r\n                  \"details\": [\r\n                    {\r\n                      \"code\": \"ResourceNotFound\",\r\n                      \"message\": \"The Resource 'Microsoft.Web/serverFarms/xDeploymentTestHost26668' under resource group '<null>' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix\"\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-10T18:38:50.923982Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-10T18:38:57.9216075Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps2697\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps2697\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps6279-2021-08-10-18-41-01-8894f\",\r\n        \"parameters\": {\r\n          \"hostingPlanName\": {\r\n            \"value\": \"xDeploymentTestHost26668\"\r\n          },\r\n          \"workerSize\": {\r\n            \"value\": 0\r\n          },\r\n          \"sku\": {\r\n            \"value\": \"Basic\"\r\n          },\r\n          \"siteLocation\": {\r\n            \"value\": \"East US\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"http://schema.management.azure.com/schemas/2014-04-01-preview/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"hostingPlanName\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"siteLocation\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"sku\": {\r\n              \"type\": \"string\",\r\n              \"allowedValues\": [\r\n                \"Free\",\r\n                \"Shared\",\r\n                \"Basic\",\r\n                \"Standard\"\r\n              ],\r\n              \"defaultValue\": \"Free\"\r\n            },\r\n            \"workerSize\": {\r\n              \"type\": \"int\",\r\n              \"allowedValues\": [\r\n                0,\r\n                1,\r\n                2\r\n              ],\r\n              \"defaultValue\": 0\r\n            }\r\n          },\r\n          \"resources\": [\r\n            {\r\n              \"apiVersion\": \"2014-04-01\",\r\n              \"name\": \"[parameters('hostingPlanName')]\",\r\n              \"type\": \"Microsoft.Web/serverfarms\",\r\n              \"location\": \"[parameters('siteLocation')]\",\r\n              \"properties\": {\r\n                \"name\": \"[parameters('hostingPlanName')]\",\r\n                \"sku\": \"[parameters('sku')]\",\r\n                \"workerSize\": \"[parameters('workerSize')]\",\r\n                \"numberOfWorkers\": 1\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"StackDeployResourcesFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"DeploymentFailed\",\r\n                  \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\",\r\n                  \"details\": [\r\n                    {\r\n                      \"code\": \"ResourceNotFound\",\r\n                      \"message\": \"The Resource 'Microsoft.Web/serverFarms/xDeploymentTestHost26668' under resource group '<null>' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix\"\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-10T18:40:54.4081654Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-10T18:41:01.5600887Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps6279\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps6279\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"parameters\": {},\r\n        \"template\": {\r\n          \"$schema\": \"http://schema.management.azure.com/schemas/2014-04-01-preview/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"hostingPlanName\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"siteLocation\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"sku\": {\r\n              \"type\": \"string\",\r\n              \"allowedValues\": [\r\n                \"Free\",\r\n                \"Shared\",\r\n                \"Basic\",\r\n                \"Standard\"\r\n              ],\r\n              \"defaultValue\": \"Free\"\r\n            },\r\n            \"workerSize\": {\r\n              \"type\": \"int\",\r\n              \"allowedValues\": [\r\n                0,\r\n                1,\r\n                2\r\n              ],\r\n              \"defaultValue\": 0\r\n            }\r\n          },\r\n          \"resources\": [\r\n            {\r\n              \"apiVersion\": \"2014-04-01\",\r\n              \"name\": \"[parameters('hostingPlanName')]\",\r\n              \"type\": \"Microsoft.Web/serverfarms\",\r\n              \"location\": \"[parameters('siteLocation')]\",\r\n              \"properties\": {\r\n                \"name\": \"[parameters('hostingPlanName')]\",\r\n                \"sku\": \"[parameters('sku')]\",\r\n                \"workerSize\": \"[parameters('workerSize')]\",\r\n                \"numberOfWorkers\": 1\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"StackDeployResourcesFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"InvalidTemplate\",\r\n                  \"message\": \"Deployment template validation failed: 'The value for the template parameter 'hostingPlanName' at line '8' and column '28' is not provided. Please see https://aka.ms/resource-manager-parameter-files for usage details.'.\",\r\n                  \"details\": [],\r\n                  \"additionalInfo\": [\r\n                    {\r\n                      \"type\": \"TemplateViolation\",\r\n                      \"info\": {\r\n                        \"lineNumber\": 8,\r\n                        \"linePosition\": 28,\r\n                        \"path\": \"properties.template.parameters.hostingPlanName\"\r\n                      }\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-10T18:43:33.8584658Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-10T18:43:35.3251073Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps629\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps629\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"parameters\": {},\r\n        \"template\": {\r\n          \"$schema\": \"http://schema.management.azure.com/schemas/2014-04-01-preview/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"hostingPlanName\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"siteLocation\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"sku\": {\r\n              \"type\": \"string\",\r\n              \"allowedValues\": [\r\n                \"Free\",\r\n                \"Shared\",\r\n                \"Basic\",\r\n                \"Standard\"\r\n              ],\r\n              \"defaultValue\": \"Free\"\r\n            },\r\n            \"workerSize\": {\r\n              \"type\": \"int\",\r\n              \"allowedValues\": [\r\n                0,\r\n                1,\r\n                2\r\n              ],\r\n              \"defaultValue\": 0\r\n            }\r\n          },\r\n          \"resources\": [\r\n            {\r\n              \"apiVersion\": \"2014-04-01\",\r\n              \"name\": \"[parameters('hostingPlanName')]\",\r\n              \"type\": \"Microsoft.Web/serverfarms\",\r\n              \"location\": \"[parameters('siteLocation')]\",\r\n              \"properties\": {\r\n                \"name\": \"[parameters('hostingPlanName')]\",\r\n                \"sku\": \"[parameters('sku')]\",\r\n                \"workerSize\": \"[parameters('workerSize')]\",\r\n                \"numberOfWorkers\": 1\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"StackDeployResourcesFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"InvalidTemplate\",\r\n                  \"message\": \"Deployment template validation failed: 'The value for the template parameter 'hostingPlanName' at line '8' and column '28' is not provided. Please see https://aka.ms/resource-manager-parameter-files for usage details.'.\",\r\n                  \"details\": [],\r\n                  \"additionalInfo\": [\r\n                    {\r\n                      \"type\": \"TemplateViolation\",\r\n                      \"info\": {\r\n                        \"lineNumber\": 8,\r\n                        \"linePosition\": 28,\r\n                        \"path\": \"properties.template.parameters.hostingPlanName\"\r\n                      }\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-10T18:44:38.3773944Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-10T18:44:41.4949636Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps799\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps799\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps7392-2021-08-10-18-48-19-f0472\",\r\n        \"parameters\": {\r\n          \"workerSize\": {\r\n            \"value\": 0\r\n          },\r\n          \"siteLocation\": {\r\n            \"value\": \"East US\"\r\n          },\r\n          \"sku\": {\r\n            \"value\": \"Basic\"\r\n          },\r\n          \"hostingPlanName\": {\r\n            \"value\": \"xDeploymentTestHost26668\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"http://schema.management.azure.com/schemas/2014-04-01-preview/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"hostingPlanName\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"siteLocation\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"sku\": {\r\n              \"type\": \"string\",\r\n              \"allowedValues\": [\r\n                \"Free\",\r\n                \"Shared\",\r\n                \"Basic\",\r\n                \"Standard\"\r\n              ],\r\n              \"defaultValue\": \"Free\"\r\n            },\r\n            \"workerSize\": {\r\n              \"type\": \"int\",\r\n              \"allowedValues\": [\r\n                0,\r\n                1,\r\n                2\r\n              ],\r\n              \"defaultValue\": 0\r\n            }\r\n          },\r\n          \"resources\": [\r\n            {\r\n              \"apiVersion\": \"2014-04-01\",\r\n              \"name\": \"[parameters('hostingPlanName')]\",\r\n              \"type\": \"Microsoft.Web/serverfarms\",\r\n              \"location\": \"[parameters('siteLocation')]\",\r\n              \"properties\": {\r\n                \"name\": \"[parameters('hostingPlanName')]\",\r\n                \"sku\": \"[parameters('sku')]\",\r\n                \"workerSize\": \"[parameters('workerSize')]\",\r\n                \"numberOfWorkers\": 1\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"StackDeployResourcesFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"DeploymentFailed\",\r\n                  \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\",\r\n                  \"details\": [\r\n                    {\r\n                      \"code\": \"ResourceNotFound\",\r\n                      \"message\": \"The Resource 'Microsoft.Web/serverFarms/xDeploymentTestHost26668' under resource group '<null>' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix\"\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-10T18:48:10.458921Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-10T18:48:18.8177323Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps7392\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps7392\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps2459-2021-08-10-18-53-27-92f31\",\r\n        \"parameters\": {\r\n          \"siteLocation\": {\r\n            \"value\": \"East US\"\r\n          },\r\n          \"sku\": {\r\n            \"value\": \"Basic\"\r\n          },\r\n          \"hostingPlanName\": {\r\n            \"value\": \"xDeploymentTestHost26668\"\r\n          },\r\n          \"workerSize\": {\r\n            \"value\": 0\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"http://schema.management.azure.com/schemas/2014-04-01-preview/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"hostingPlanName\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"siteLocation\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"sku\": {\r\n              \"type\": \"string\",\r\n              \"allowedValues\": [\r\n                \"Free\",\r\n                \"Shared\",\r\n                \"Basic\",\r\n                \"Standard\"\r\n              ],\r\n              \"defaultValue\": \"Free\"\r\n            },\r\n            \"workerSize\": {\r\n              \"type\": \"int\",\r\n              \"allowedValues\": [\r\n                0,\r\n                1,\r\n                2\r\n              ],\r\n              \"defaultValue\": 0\r\n            }\r\n          },\r\n          \"resources\": [\r\n            {\r\n              \"apiVersion\": \"2014-04-01\",\r\n              \"name\": \"[parameters('hostingPlanName')]\",\r\n              \"type\": \"Microsoft.Web/serverfarms\",\r\n              \"location\": \"[parameters('siteLocation')]\",\r\n              \"properties\": {\r\n                \"name\": \"[parameters('hostingPlanName')]\",\r\n                \"sku\": \"[parameters('sku')]\",\r\n                \"workerSize\": \"[parameters('workerSize')]\",\r\n                \"numberOfWorkers\": 1\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"StackDeployResourcesFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"DeploymentFailed\",\r\n                  \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\",\r\n                  \"details\": [\r\n                    {\r\n                      \"code\": \"ResourceNotFound\",\r\n                      \"message\": \"The Resource 'Microsoft.Web/serverFarms/xDeploymentTestHost26668' under resource group '<null>' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix\"\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-10T18:53:18.9832367Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-10T18:53:27.059363Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps2459\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps2459\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps1201-2021-08-10-18-54-50-031ef\",\r\n        \"parameters\": {\r\n          \"sku\": {\r\n            \"value\": \"Basic\"\r\n          },\r\n          \"hostingPlanName\": {\r\n            \"value\": \"xDeploymentTestHost26668\"\r\n          },\r\n          \"siteLocation\": {\r\n            \"value\": \"East US\"\r\n          },\r\n          \"workerSize\": {\r\n            \"value\": 0\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"http://schema.management.azure.com/schemas/2014-04-01-preview/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"hostingPlanName\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"siteLocation\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"sku\": {\r\n              \"type\": \"string\",\r\n              \"allowedValues\": [\r\n                \"Free\",\r\n                \"Shared\",\r\n                \"Basic\",\r\n                \"Standard\"\r\n              ],\r\n              \"defaultValue\": \"Free\"\r\n            },\r\n            \"workerSize\": {\r\n              \"type\": \"int\",\r\n              \"allowedValues\": [\r\n                0,\r\n                1,\r\n                2\r\n              ],\r\n              \"defaultValue\": 0\r\n            }\r\n          },\r\n          \"resources\": [\r\n            {\r\n              \"apiVersion\": \"2014-04-01\",\r\n              \"name\": \"[parameters('hostingPlanName')]\",\r\n              \"type\": \"Microsoft.Web/serverfarms\",\r\n              \"location\": \"[parameters('siteLocation')]\",\r\n              \"properties\": {\r\n                \"name\": \"[parameters('hostingPlanName')]\",\r\n                \"sku\": \"[parameters('sku')]\",\r\n                \"workerSize\": \"[parameters('workerSize')]\",\r\n                \"numberOfWorkers\": 1\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"StackDeployResourcesFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"DeploymentFailed\",\r\n                  \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\",\r\n                  \"details\": [\r\n                    {\r\n                      \"code\": \"ResourceNotFound\",\r\n                      \"message\": \"The Resource 'Microsoft.Web/serverFarms/xDeploymentTestHost26668' under resource group '<null>' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix\"\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-10T18:54:44.5974816Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-10T18:54:50.7524237Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps1201\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps1201\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps8309-2021-08-10-18-56-21-a0e2c\",\r\n        \"parameters\": {\r\n          \"workerSize\": {\r\n            \"value\": 0\r\n          },\r\n          \"sku\": {\r\n            \"value\": \"Basic\"\r\n          },\r\n          \"siteLocation\": {\r\n            \"value\": \"East US\"\r\n          },\r\n          \"hostingPlanName\": {\r\n            \"value\": \"xDeploymentTestHost26668\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"http://schema.management.azure.com/schemas/2014-04-01-preview/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"hostingPlanName\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"siteLocation\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"sku\": {\r\n              \"type\": \"string\",\r\n              \"allowedValues\": [\r\n                \"Free\",\r\n                \"Shared\",\r\n                \"Basic\",\r\n                \"Standard\"\r\n              ],\r\n              \"defaultValue\": \"Free\"\r\n            },\r\n            \"workerSize\": {\r\n              \"type\": \"int\",\r\n              \"allowedValues\": [\r\n                0,\r\n                1,\r\n                2\r\n              ],\r\n              \"defaultValue\": 0\r\n            }\r\n          },\r\n          \"resources\": [\r\n            {\r\n              \"apiVersion\": \"2014-04-01\",\r\n              \"name\": \"[parameters('hostingPlanName')]\",\r\n              \"type\": \"Microsoft.Web/serverfarms\",\r\n              \"location\": \"[parameters('siteLocation')]\",\r\n              \"properties\": {\r\n                \"name\": \"[parameters('hostingPlanName')]\",\r\n                \"sku\": \"[parameters('sku')]\",\r\n                \"workerSize\": \"[parameters('workerSize')]\",\r\n                \"numberOfWorkers\": 1\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"StackDeployResourcesFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"DeploymentFailed\",\r\n                  \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\",\r\n                  \"details\": [\r\n                    {\r\n                      \"code\": \"ResourceNotFound\",\r\n                      \"message\": \"The Resource 'Microsoft.Web/serverFarms/xDeploymentTestHost26668' under resource group '<null>' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix\"\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-10T18:56:11.6164653Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-10T18:56:20.8349942Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps8309\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps8309\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps5471-2021-08-10-18-57-34-0cfea\",\r\n        \"parameters\": {\r\n          \"sku\": {\r\n            \"value\": \"Basic\"\r\n          },\r\n          \"siteLocation\": {\r\n            \"value\": \"East US\"\r\n          },\r\n          \"workerSize\": {\r\n            \"value\": 0\r\n          },\r\n          \"hostingPlanName\": {\r\n            \"value\": \"xDeploymentTestHost26668\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"http://schema.management.azure.com/schemas/2014-04-01-preview/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"hostingPlanName\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"siteLocation\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"sku\": {\r\n              \"type\": \"string\",\r\n              \"allowedValues\": [\r\n                \"Free\",\r\n                \"Shared\",\r\n                \"Basic\",\r\n                \"Standard\"\r\n              ],\r\n              \"defaultValue\": \"Free\"\r\n            },\r\n            \"workerSize\": {\r\n              \"type\": \"int\",\r\n              \"allowedValues\": [\r\n                0,\r\n                1,\r\n                2\r\n              ],\r\n              \"defaultValue\": 0\r\n            }\r\n          },\r\n          \"resources\": [\r\n            {\r\n              \"apiVersion\": \"2014-04-01\",\r\n              \"name\": \"[parameters('hostingPlanName')]\",\r\n              \"type\": \"Microsoft.Web/serverfarms\",\r\n              \"location\": \"[parameters('siteLocation')]\",\r\n              \"properties\": {\r\n                \"name\": \"[parameters('hostingPlanName')]\",\r\n                \"sku\": \"[parameters('sku')]\",\r\n                \"workerSize\": \"[parameters('workerSize')]\",\r\n                \"numberOfWorkers\": 1\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"StackDeployResourcesFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"DeploymentFailed\",\r\n                  \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\",\r\n                  \"details\": [\r\n                    {\r\n                      \"code\": \"ResourceNotFound\",\r\n                      \"message\": \"The Resource 'Microsoft.Web/serverFarms/xDeploymentTestHost26668' under resource group '<null>' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix\"\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-10T18:57:28.1311482Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-10T18:57:34.1873988Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps5471\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps5471\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps3858-2021-08-10-18-59-14-c7bf4\",\r\n        \"parameters\": {\r\n          \"siteLocation\": {\r\n            \"value\": \"East US\"\r\n          },\r\n          \"sku\": {\r\n            \"value\": \"Basic\"\r\n          },\r\n          \"workerSize\": {\r\n            \"value\": 0\r\n          },\r\n          \"hostingPlanName\": {\r\n            \"value\": \"xDeploymentTestHost26668\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"http://schema.management.azure.com/schemas/2014-04-01-preview/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"hostingPlanName\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"siteLocation\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"sku\": {\r\n              \"type\": \"string\",\r\n              \"allowedValues\": [\r\n                \"Free\",\r\n                \"Shared\",\r\n                \"Basic\",\r\n                \"Standard\"\r\n              ],\r\n              \"defaultValue\": \"Free\"\r\n            },\r\n            \"workerSize\": {\r\n              \"type\": \"int\",\r\n              \"allowedValues\": [\r\n                0,\r\n                1,\r\n                2\r\n              ],\r\n              \"defaultValue\": 0\r\n            }\r\n          },\r\n          \"resources\": [\r\n            {\r\n              \"apiVersion\": \"2014-04-01\",\r\n              \"name\": \"[parameters('hostingPlanName')]\",\r\n              \"type\": \"Microsoft.Web/serverfarms\",\r\n              \"location\": \"[parameters('siteLocation')]\",\r\n              \"properties\": {\r\n                \"name\": \"[parameters('hostingPlanName')]\",\r\n                \"sku\": \"[parameters('sku')]\",\r\n                \"workerSize\": \"[parameters('workerSize')]\",\r\n                \"numberOfWorkers\": 1\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"StackDeployResourcesFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"DeploymentFailed\",\r\n                  \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\",\r\n                  \"details\": [\r\n                    {\r\n                      \"code\": \"ResourceNotFound\",\r\n                      \"message\": \"The Resource 'Microsoft.Web/serverFarms/xDeploymentTestHost26668' under resource group '<null>' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix\"\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-10T18:59:07.7415257Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-10T18:59:14.2388574Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps3858\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps3858\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps9883-2021-08-10-19-02-49-94a13\",\r\n        \"parameters\": {\r\n          \"hostingPlanName\": {\r\n            \"value\": \"xDeploymentTestHost26668\"\r\n          },\r\n          \"siteLocation\": {\r\n            \"value\": \"East US\"\r\n          },\r\n          \"sku\": {\r\n            \"value\": \"Basic\"\r\n          },\r\n          \"workerSize\": {\r\n            \"value\": 0\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"http://schema.management.azure.com/schemas/2014-04-01-preview/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"hostingPlanName\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"siteLocation\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"sku\": {\r\n              \"type\": \"string\",\r\n              \"allowedValues\": [\r\n                \"Free\",\r\n                \"Shared\",\r\n                \"Basic\",\r\n                \"Standard\"\r\n              ],\r\n              \"defaultValue\": \"Free\"\r\n            },\r\n            \"workerSize\": {\r\n              \"type\": \"int\",\r\n              \"allowedValues\": [\r\n                0,\r\n                1,\r\n                2\r\n              ],\r\n              \"defaultValue\": 0\r\n            }\r\n          },\r\n          \"resources\": [\r\n            {\r\n              \"apiVersion\": \"2014-04-01\",\r\n              \"name\": \"[parameters('hostingPlanName')]\",\r\n              \"type\": \"Microsoft.Web/serverfarms\",\r\n              \"location\": \"[parameters('siteLocation')]\",\r\n              \"properties\": {\r\n                \"name\": \"[parameters('hostingPlanName')]\",\r\n                \"sku\": \"[parameters('sku')]\",\r\n                \"workerSize\": \"[parameters('workerSize')]\",\r\n                \"numberOfWorkers\": 1\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"StackDeployResourcesFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"DeploymentFailed\",\r\n                  \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\",\r\n                  \"details\": [\r\n                    {\r\n                      \"code\": \"ResourceNotFound\",\r\n                      \"message\": \"The Resource 'Microsoft.Web/serverFarms/xDeploymentTestHost26668' under resource group '<null>' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix\"\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-10T19:02:38.5171855Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-10T19:02:48.9963785Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps9883\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps9883\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps8553-2021-08-10-19-07-51-cab34\",\r\n        \"parameters\": {\r\n          \"workerSize\": {\r\n            \"value\": 0\r\n          },\r\n          \"sku\": {\r\n            \"value\": \"Basic\"\r\n          },\r\n          \"hostingPlanName\": {\r\n            \"value\": \"xDeploymentTestHost26668\"\r\n          },\r\n          \"siteLocation\": {\r\n            \"value\": \"East US\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"http://schema.management.azure.com/schemas/2014-04-01-preview/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"hostingPlanName\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"siteLocation\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"sku\": {\r\n              \"type\": \"string\",\r\n              \"allowedValues\": [\r\n                \"Free\",\r\n                \"Shared\",\r\n                \"Basic\",\r\n                \"Standard\"\r\n              ],\r\n              \"defaultValue\": \"Free\"\r\n            },\r\n            \"workerSize\": {\r\n              \"type\": \"int\",\r\n              \"allowedValues\": [\r\n                0,\r\n                1,\r\n                2\r\n              ],\r\n              \"defaultValue\": 0\r\n            }\r\n          },\r\n          \"resources\": [\r\n            {\r\n              \"apiVersion\": \"2014-04-01\",\r\n              \"name\": \"[parameters('hostingPlanName')]\",\r\n              \"type\": \"Microsoft.Web/serverfarms\",\r\n              \"location\": \"[parameters('siteLocation')]\",\r\n              \"properties\": {\r\n                \"name\": \"[parameters('hostingPlanName')]\",\r\n                \"sku\": \"[parameters('sku')]\",\r\n                \"workerSize\": \"[parameters('workerSize')]\",\r\n                \"numberOfWorkers\": 1\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"StackDeployResourcesFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"DeploymentFailed\",\r\n                  \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\",\r\n                  \"details\": [\r\n                    {\r\n                      \"code\": \"ResourceNotFound\",\r\n                      \"message\": \"The Resource 'Microsoft.Web/serverFarms/xDeploymentTestHost26668' under resource group '<null>' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix\"\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-10T19:07:41.5246265Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-10T19:07:50.8631004Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps8553\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps8553\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps3238/snapshots/2021-08-10-19-14-19-0659c\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps3238-2021-08-10-19-14-19-0659c\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-10T19:14:04.8826929Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-10T19:14:19.7316889Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps3238\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps3238\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps8739/snapshots/2021-08-10-19-19-01-98f19\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps8739-2021-08-10-19-19-01-98f19\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-10T19:18:47.3392988Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-10T19:19:01.6646691Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps8739\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps8739\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps8661/snapshots/2021-08-10-19-25-48-d772b\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps8661-2021-08-10-19-25-48-d772b\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-10T19:25:39.0012578Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-10T19:25:48.7417349Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps8661\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps8661\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps8648/snapshots/2021-08-10-19-28-58-af5a8\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps8648-2021-08-10-19-28-58-af5a8\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-10T19:28:50.9004177Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-10T19:28:58.6751303Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps8648\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps8648\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps4195/snapshots/2021-08-10-19-29-57-498d2\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps4195-2021-08-10-19-29-57-498d2\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-10T19:29:49.8696058Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-10T19:29:57.5935106Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps4195\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps4195\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps8149/snapshots/2021-08-10-19-31-00-51299\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps8149-2021-08-10-19-31-00-51299\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-10T19:30:52.1368857Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-10T19:31:00.4506911Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps8149\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps8149\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps6103/snapshots/2021-08-10-19-32-09-4271b\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps6103-2021-08-10-19-32-09-4271b\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-10T19:32:02.4841619Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-10T19:32:09.5357071Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps6103\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps6103\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps4951/snapshots/2021-08-10-19-33-14-25dc8\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps4951-2021-08-10-19-33-14-25dc8\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-10T19:33:02.582595Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-10T19:33:14.2953799Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps4951\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps4951\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps4838/snapshots/2021-08-10-19-34-01-07952\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps4838-2021-08-10-19-34-01-07952\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-10T19:33:54.1090588Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-10T19:34:01.3780932Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps4838\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps4838\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps3331/snapshots/2021-08-10-19-35-15-c67dd\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps3331-2021-08-10-19-35-15-c67dd\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-10T19:35:02.6054825Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-10T19:35:15.555646Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps3331\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps3331\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps6896/snapshots/2021-08-10-19-36-34-83a7e\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps6896-2021-08-10-19-36-34-83a7e\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-10T19:36:25.2152793Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-10T19:36:34.2551875Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps6896\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps6896\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps646/snapshots/2021-08-10-19-38-22-ea27a\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps646-2021-08-10-19-38-22-ea27a\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-10T19:37:58.1809877Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-10T19:38:22.0777661Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps646\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps646\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps5676/snapshots/2021-08-10-19-39-56-a8ed7\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps5676-2021-08-10-19-39-56-a8ed7\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-10T19:39:31.4437924Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-10T19:39:55.8901961Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps5676\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps5676\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps5506/snapshots/2021-08-10-21-28-43-37651\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps5506-2021-08-10-21-28-43-37651\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-10T21:27:54.9492006Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-10T21:28:43.5045785Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps5506\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps5506\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps7309/snapshots/2021-08-11-16-34-39-0073d\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps7309-2021-08-11-16-34-39-0073d\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-11T16:34:30.8983426Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-11T16:34:39.2257226Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps7309\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps7309\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps9756/snapshots/2021-08-12-21-07-49-45875\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps9756-2021-08-12-21-07-49-45875\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-12T21:07:49.5048609Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-12T21:07:49.5048609Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps9756\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps9756\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps3805/snapshots/2021-08-12-21-08-51-ba718\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps3805-2021-08-12-21-08-51-ba718\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-12T21:08:51.6360754Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-12T21:08:51.6360754Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps3805\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps3805\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"parameters\": {},\r\n        \"templateLink\": {\r\n          \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps2086/providers/Microsoft.Resources/templateSpecs/ps728/versions/v1\"\r\n        },\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"StackDeployResourcesFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"InvalidTemplateSpec\",\r\n                  \"message\": \"Unable to retrieve the template content from the resource ID '/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps2086/providers/Microsoft.Resources/templateSpecs/ps728/versions/v1'. Please see https://aka.ms/arm-deploy for usage details. Diagnostic information: timestamp '20210812T212429Z', tracking Id 'd3790cbb-619b-4614-9590-abe27abed72c', request correlation Id '43db6487-eb7d-44a1-8282-2b4412bf16e3'.\",\r\n                  \"details\": [],\r\n                  \"additionalInfo\": []\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-12T21:24:28.3020542Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-12T21:24:28.3020542Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps1420\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps1420\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps7864-2021-08-12-21-26-53-fb192\",\r\n        \"parameters\": {\r\n          \"sku\": {\r\n            \"value\": \"Basic\"\r\n          },\r\n          \"workerSize\": {\r\n            \"value\": 0\r\n          },\r\n          \"hostingPlanName\": {\r\n            \"value\": \"xDeploymentTestHost26668\"\r\n          },\r\n          \"siteLocation\": {\r\n            \"value\": \"East US\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"http://schema.management.azure.com/schemas/2014-04-01-preview/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"hostingPlanName\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"siteLocation\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"sku\": {\r\n              \"type\": \"string\",\r\n              \"allowedValues\": [\r\n                \"Free\",\r\n                \"Shared\",\r\n                \"Basic\",\r\n                \"Standard\"\r\n              ],\r\n              \"defaultValue\": \"Free\"\r\n            },\r\n            \"workerSize\": {\r\n              \"type\": \"int\",\r\n              \"allowedValues\": [\r\n                0,\r\n                1,\r\n                2\r\n              ],\r\n              \"defaultValue\": 0\r\n            }\r\n          },\r\n          \"resources\": [\r\n            {\r\n              \"apiVersion\": \"2014-04-01\",\r\n              \"name\": \"[parameters('hostingPlanName')]\",\r\n              \"type\": \"Microsoft.Web/serverfarms\",\r\n              \"location\": \"[parameters('siteLocation')]\",\r\n              \"properties\": {\r\n                \"name\": \"[parameters('hostingPlanName')]\",\r\n                \"sku\": \"[parameters('sku')]\",\r\n                \"workerSize\": \"[parameters('workerSize')]\",\r\n                \"numberOfWorkers\": 1\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"StackDeployResourcesFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"DeploymentFailed\",\r\n                  \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\",\r\n                  \"details\": [\r\n                    {\r\n                      \"code\": \"ResourceNotFound\",\r\n                      \"message\": \"The Resource 'Microsoft.Web/serverFarms/xDeploymentTestHost26668' under resource group '<null>' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix\"\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-12T21:26:53.1503896Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-12T21:26:53.1503896Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps7864\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps7864\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps5198/snapshots/2021-08-12-21-49-26-7c74c\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps5198-2021-08-12-21-49-26-7c74c\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-08-12T21:48:56.6418425Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-08-12T21:49:26.3527177Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps5198\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps5198\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"templateLink\": {\r\n          \"id\": \"C:\\\\ds\\\\azure-powershell\\\\src\\\\Resources\\\\Resources.Test\\\\subscription_level_template.json\"\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"DeploymentStackDeploymentFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"InvalidTemplateSpec\",\r\n                  \"message\": \"The template link ID 'C:\\\\ds\\\\azure-powershell\\\\src\\\\Resources\\\\Resources.Test\\\\subscription_level_template.json' is not a valid template spec version. Please see https://aka.ms/arm-template for usage details.\",\r\n                  \"details\": [],\r\n                  \"additionalInfo\": []\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-08T21:32:19.1521143Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-08T21:32:19.1521143Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hptest3\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hptest3\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"templateLink\": {\r\n          \"id\": \"C:\\\\ds\\\\azure-powershell\\\\src\\\\Resources\\\\Resources.Test\\\\subscription_level_template.json\"\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"DeploymentStackDeploymentFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"InvalidTemplateSpec\",\r\n                  \"message\": \"The template link ID 'C:\\\\ds\\\\azure-powershell\\\\src\\\\Resources\\\\Resources.Test\\\\subscription_level_template.json' is not a valid template spec version. Please see https://aka.ms/arm-template for usage details.\",\r\n                  \"details\": [],\r\n                  \"additionalInfo\": []\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-09T14:17:37.6549031Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-09T14:20:12.9106332Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hptest4\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hptest4\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hptest5/snapshots/2021-09-09-14-21-54-9698d\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/hptest5-2021-09-09-14-21-54-9698d\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18122\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-09T14:21:53.953314Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-09T14:21:53.953314Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hptest5\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hptest5\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hptest6/snapshots/2021-09-09-15-15-24-11168\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/hptest6-2021-09-09-15-15-24-11168\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18122\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-09T15:15:24.0993628Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-09T15:15:24.0993628Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hptest6\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hptest6\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hptest8/snapshots/2021-09-09-16-19-04-df10a\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/hptest8-2021-09-09-16-19-04-df10a\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18122\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-09T16:19:04.0955002Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-09T16:19:04.0955002Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hptest8\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hptest8\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hp_ds_ts/snapshots/2021-11-08-15-41-12-4ec86\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/hp_ds_ts-2021-11-08-15-41-12-4ec86\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-09T23:15:16.2528398Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-08T15:41:11.5261202Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hp_ds_ts\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hp_ds_ts\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hptest9/snapshots/2021-09-10-17-58-29-cb546\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/hptest9-2021-09-10-17-58-29-cb546\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18122\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-10T17:58:29.2926762Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-10T17:58:29.2926762Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hptest9\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hptest9\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"templateLink\": {\r\n          \"id\": \"https://hpstorageaccount1000.blob.core.windows.net/hpcontainer/templateuri\"\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"DeploymentStackDeploymentFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"InvalidTemplateSpec\",\r\n                  \"message\": \"The template link ID 'https://hpstorageaccount1000.blob.core.windows.net/hpcontainer/templateuri' is not a valid template spec version. Please see https://aka.ms/arm-template for usage details.\",\r\n                  \"details\": [],\r\n                  \"additionalInfo\": []\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-11T00:36:18.5936444Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-11T00:36:18.5936444Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hptest10\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hptest10\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"templateLink\": {\r\n          \"id\": \"https://hpstorageaccount1000.blob.core.windows.net/hpcontainer/simpletemplate\"\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"DeploymentStackDeploymentFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"InvalidTemplateSpec\",\r\n                  \"message\": \"The template link ID 'https://hpstorageaccount1000.blob.core.windows.net/hpcontainer/simpletemplate' is not a valid template spec version. Please see https://aka.ms/arm-template for usage details.\",\r\n                  \"details\": [],\r\n                  \"additionalInfo\": []\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-11T00:41:30.8699717Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-13T15:09:29.5633652Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hptest11\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hptest11\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hptest12/snapshots/2021-09-11-00-44-31-f5c52\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/hptest12-2021-09-11-00-44-31-f5c52\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18122\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-11T00:44:31.1312029Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-11T00:44:31.1312029Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hptest12\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hptest12\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hptest13/snapshots/2021-09-11-00-47-06-13bdb\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/hptest13-2021-09-11-00-47-06-13bdb\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18122\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-11T00:47:05.9416747Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-11T00:47:05.9416747Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hptest13\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hptest13\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hptest_tf_pu/snapshots/2021-09-11-00-51-34-ecdfb\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/hptest_tf_pu-2021-09-11-00-51-34-ecdfb\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18122\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-11T00:51:33.6133384Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-11T00:51:33.6133384Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hptest_tf_pu\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hptest_tf_pu\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hptest3_tf/snapshots/2021-09-13-21-54-02-90a56\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/hptest3_tf-2021-09-13-21-54-02-90a56\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-13T21:45:40.8643988Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-13T21:54:02.2718143Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hptest3_tf\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hptest3_tf\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hptest_sub_tf_pf/snapshots/2021-09-13-21-55-30-a210c\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/hptest_sub_tf_pf-2021-09-13-21-55-30-a210c\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-13T21:55:29.5843685Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-13T21:55:29.5843685Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hptest_sub_tf_pf\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hptest_sub_tf_pf\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hptest_sub_tf/snapshots/2021-09-13-21-56-20-83ef0\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/hptest_sub_tf-2021-09-13-21-56-20-83ef0\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-13T21:56:20.3453623Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-13T21:56:20.3453623Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hptest_sub_tf\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hptest_sub_tf\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hptest_sub_tf_pu/snapshots/2021-09-13-22-03-08-472ec\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/hptest_sub_tf_pu-2021-09-13-22-03-08-472ec\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parametersLink\": {\r\n          \"uri\": \"https://hpstorageaccount1000.blob.core.windows.net/hpcontainer/simpletemplateparamsWithContentVersion?sp=r&st=2021-09-13T22:02:18Z&se=2021-09-14T06:02:18Z&spr=https&sv=2020-08-04&sr=b&sig=IrnlVIh%2BNFyek5Zs8y5XpLsHTa1ziKDZaNb4SvfU%2FRg%3D\"\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-13T21:58:30.7256389Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-13T22:03:07.7363346Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hptest_sub_tf_pu\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hptest_sub_tf_pu\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hptest_sub_tu/snapshots/2021-09-13-22-08-21-43ac7\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/hptest_sub_tu-2021-09-13-22-08-21-43ac7\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"templateLink\": {\r\n          \"uri\": \"https://hpstorageaccount1000.blob.core.windows.net/hpcontainer/simpletemplate?sp=r&st=2021-09-13T22:06:54Z&se=2021-09-14T06:06:54Z&spr=https&sv=2020-08-04&sr=b&sig=7pL1X60S5%2BoilAaaatcCDusiNjHs7K694qzrBOATKNk%3D\"\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-13T22:04:31.8384939Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-13T22:08:20.8163125Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hptest_sub_tu\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hptest_sub_tu\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hptest_sub_tu_pf/snapshots/2021-09-13-22-09-27-9ecc9\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/hptest_sub_tu_pf-2021-09-13-22-09-27-9ecc9\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"templateLink\": {\r\n          \"uri\": \"https://hpstorageaccount1000.blob.core.windows.net/hpcontainer/simpletemplate?sp=r&st=2021-09-13T22:06:54Z&se=2021-09-14T06:06:54Z&spr=https&sv=2020-08-04&sr=b&sig=7pL1X60S5%2BoilAaaatcCDusiNjHs7K694qzrBOATKNk%3D\"\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-13T22:09:26.5852784Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-13T22:09:26.5852784Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hptest_sub_tu_pf\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hptest_sub_tu_pf\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hptest_sub_tu_pu/snapshots/2021-09-13-22-10-35-c838d\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/hptest_sub_tu_pu-2021-09-13-22-10-35-c838d\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parametersLink\": {\r\n          \"uri\": \"https://hpstorageaccount1000.blob.core.windows.net/hpcontainer/simpletemplateparamsWithContentVersion?sp=r&st=2021-09-13T22:09:21Z&se=2021-09-14T06:09:21Z&spr=https&sv=2020-08-04&sr=b&sig=ppuJN7KbD267xkUUmt8%2BUICLcPzpqDNuQmzjVXwJQpo%3D\"\r\n        },\r\n        \"templateLink\": {\r\n          \"uri\": \"https://hpstorageaccount1000.blob.core.windows.net/hpcontainer/simpletemplate?sp=r&st=2021-09-13T22:06:54Z&se=2021-09-14T06:06:54Z&spr=https&sv=2020-08-04&sr=b&sig=7pL1X60S5%2BoilAaaatcCDusiNjHs7K694qzrBOATKNk%3D\"\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-13T22:10:34.5431783Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-13T22:10:34.5431783Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hptest_sub_tu_pu\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hptest_sub_tu_pu\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hptest_sub_ts/snapshots/2021-09-14-16-08-34-33a22\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/hptest_sub_ts-2021-09-14-16-08-34-33a22\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"templateLink\": {\r\n          \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/harshpatel/providers/Microsoft.Resources/templateSpecs/harsh_ts_simple_template/versions/v1\"\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-13T22:13:57.2860671Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-14T16:08:34.1170869Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hptest_sub_ts\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hptest_sub_ts\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hptest_sub_ts_pf/snapshots/2021-09-14-16-09-42-aa585\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/hptest_sub_ts_pf-2021-09-14-16-09-42-aa585\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"templateLink\": {\r\n          \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/harshpatel/providers/Microsoft.Resources/templateSpecs/harsh_ts_simple_template/versions/v1\"\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-14T16:09:42.1350168Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-14T16:09:42.1350168Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hptest_sub_ts_pf\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hptest_sub_ts_pf\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hptest_sub_ts_pu/snapshots/2021-09-14-16-11-04-efdc8\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/hptest_sub_ts_pu-2021-09-14-16-11-04-efdc8\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parametersLink\": {\r\n          \"uri\": \"https://hpstorageaccount1000.blob.core.windows.net/hpcontainer/simpletemplateparamsWithContentVersion?sp=r&st=2021-09-14T16:10:04Z&se=2021-09-15T00:10:04Z&spr=https&sv=2020-08-04&sr=b&sig=MPJaz7zB3q72A9h20XPESP5Hee0Js3OlO4Xbn%2FHOYhI%3D\"\r\n        },\r\n        \"templateLink\": {\r\n          \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/harshpatel/providers/Microsoft.Resources/templateSpecs/harsh_ts_simple_template/versions/v1\"\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-14T16:11:03.6444153Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-14T16:11:03.6444153Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hptest_sub_ts_pu\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hptest_sub_ts_pu\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/hp_bb_43-2021-09-14-21-29-15-1dd41\",\r\n        \"parameters\": {},\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n              \"apiVersion\": \"2021-05-01-preview\",\r\n              \"properties\": {\r\n                \"updateBehavior\": \"Detach\",\r\n                \"templateLink\": {\r\n                  \"uri\": \"https://hpstorageaccount1000.blob.core.windows.net/hpcontainer/simpletemplate?sp=r&st=2021-09-14T21:17:05Z&se=2021-09-15T05:17:05Z&spr=https&sv=2020-08-04&sr=b&sig=CxcnD9EBR7KQdTXfDuB1nps8%2Fk0Hx3%2BZj22JX9T8oGM%3D\",\r\n                  \"contentVersion\": \"1.0.0.0\"\r\n                }\r\n              },\r\n              \"name\": \"hp_bb\",\r\n              \"comments\": \"tests\",\r\n              \"metadata\": {\r\n                \"comments\": \"tests2\"\r\n              }\r\n            }\r\n          ],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"DeploymentStackDeploymentFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"DeploymentFailed\",\r\n                  \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\",\r\n                  \"details\": [\r\n                    {\r\n                      \"code\": \"InvalidDeployment\",\r\n                      \"message\": \"The 'location' property must be specified for 'hp_bb'. Please see https://aka.ms/deploy-to-subscription for usage details.\"\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-14T21:12:46.9259815Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-14T21:29:15.25126Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hp_bb_43\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hp_bb_43\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"templateLink\": {\r\n          \"uri\": \"https://hpstorageaccount1000.blob.core.windows.net/hpcontainer/simpletemplate?sp=r&st=2021-09-14T21:17:05Z&se=2021-09-15T05:17:05Z&spr=https&sv=2020-08-04&sr=b&sig=CxcnD9EBR7KQdTXfDuB1nps8%2Fk0Hx3%2BZj22JX9T8oGM%3D\",\r\n          \"contentVersion\": \"1.0.0.0\"\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"DeploymentStackDeploymentFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"InvalidContentLink\",\r\n                  \"message\": \"Unable to download deployment content from 'https://hpstorageaccount1000.blob.core.windows.net/hpcontainer/simpletemplate?sp=r&st=2021-09-14T21:17:05Z&se=2021-09-15T05:17:05Z&spr=https&sv=2020-08-04&sr=b&sig=CxcnD9EBR7KQdTXfDuB1nps8%2Fk0Hx3%2BZj22JX9T8oGM%3D'. The tracking Id is 'dfb0ca38-c947-4006-89a0-541407477527'. Please see https://aka.ms/arm-deploy for usage details.\",\r\n                  \"details\": [],\r\n                  \"additionalInfo\": []\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-14T21:26:57.0683044Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-15T15:34:04.2111734Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hp_bb\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hp_bb\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/hp_bb_43_5-2021-09-15-15-34-02-3866f\",\r\n        \"parameters\": {},\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n              \"apiVersion\": \"2021-05-01-preview\",\r\n              \"location\": \"West US 2\",\r\n              \"properties\": {\r\n                \"updateBehavior\": \"Detach\",\r\n                \"templateLink\": {\r\n                  \"uri\": \"https://hpstorageaccount1000.blob.core.windows.net/hpcontainer/simpletemplate?sp=r&st=2021-09-14T21:17:05Z&se=2021-09-15T05:17:05Z&spr=https&sv=2020-08-04&sr=b&sig=CxcnD9EBR7KQdTXfDuB1nps8%2Fk0Hx3%2BZj22JX9T8oGM%3D\",\r\n                  \"contentVersion\": \"1.0.0.0\"\r\n                }\r\n              },\r\n              \"name\": \"hp_bb\",\r\n              \"comments\": \"tests\",\r\n              \"metadata\": {\r\n                \"comments\": \"tests2\"\r\n              }\r\n            }\r\n          ],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"DeploymentStackDeploymentFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"DeploymentFailed\",\r\n                  \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\",\r\n                  \"details\": [\r\n                    {\r\n                      \"code\": \"DeploymentStackUpdateFailed\",\r\n                      \"message\": \"One or more stages of deploymentStack update failed.\"\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-15T15:34:01.7711848Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-15T15:34:01.7711848Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hp_bb_43_5\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hp_bb_43_5\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hp_delete_sub_snap/snapshots/2021-09-15-17-56-23-97152\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/hp_delete_sub_snap-2021-09-15-17-56-23-97152\",\r\n        \"parameters\": {},\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-15T17:56:22.8497356Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-15T17:56:22.8497356Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hp_delete_sub_snap\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hp_delete_sub_snap\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/filiz-test-stack1/snapshots/2021-09-15-23-48-00-f5e95\",\r\n        \"updateBehavior\": \"purgeResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/filiz-test-stack1-2021-09-15-23-48-00-f5e95\",\r\n        \"parameters\": {},\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {},\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {}\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeededWithFailures\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"DeploymentStackPurgeResourcesFailed\",\r\n              \"message\": \"One or more resources could not be deleted. See snapshotId for more details.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"DeploymentStackPurgeResourcesFailed\",\r\n                  \"message\": \"Unknown error occurred while trying to purge resources. These resources are now detached.\"\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"fitopata@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-15T18:25:28.0912168Z\",\r\n        \"lastModifiedBy\": \"fitopata@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-15T23:47:59.9330343Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/filiz-test-stack1\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"filiz-test-stack1\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"purgeResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/filiz-test-stack3-2021-09-16-15-43-38-e62dd\",\r\n        \"parameters\": {},\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"rgName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"filiz-test-template-created\"\r\n            },\r\n            \"rgLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"westus2\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"name\": \"[parameters('rgName')]\",\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"apiVersion\": \"2018-05-01\",\r\n              \"location\": \"[parameters('rgLocation')]\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"name\": \"nestedDeployment\",\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"resourceGroup\": \"[parameters('rgName')]\",\r\n              \"apiVersion\": \"2020-06-01\",\r\n              \"dependsOn\": [\r\n                \"[parameters('rgName')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"mode\": \"Incremental\",\r\n                \"template\": {\r\n                  \"$schema\": \"http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"resources\": [\r\n                    {\r\n                      \"name\": \"teststorageinnewrg\",\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"apiVersion\": \"2019-06-01\",\r\n                      \"location\": \"westus2\",\r\n                      \"properties\": {\r\n                        \"accessTier\": \"hot\",\r\n                        \"minimumTlsVersion\": \"TLS1_0\",\r\n                        \"supportsHttpsTrafficOnly\": \"true\",\r\n                        \"allowBlobPublicAccess\": \"false\",\r\n                        \"allowSharedKeyAccess\": \"true\"\r\n                      },\r\n                      \"dependsOn\": [],\r\n                      \"sku\": {\r\n                        \"name\": \"Standard_LRS\"\r\n                      },\r\n                      \"kind\": \"StorageV2\",\r\n                      \"tags\": {}\r\n                    }\r\n                  ]\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"name\": \"nestedDeploymentTwo\",\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"resourceGroup\": \"filiz-test\",\r\n              \"apiVersion\": \"2020-06-01\",\r\n              \"properties\": {\r\n                \"mode\": \"Incremental\",\r\n                \"template\": {\r\n                  \"$schema\": \"http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"resources\": [\r\n                    {\r\n                      \"name\": \"teststorageinexistingrg\",\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"apiVersion\": \"2019-06-01\",\r\n                      \"location\": \"westus2\",\r\n                      \"properties\": {\r\n                        \"accessTier\": \"hot\",\r\n                        \"minimumTlsVersion\": \"TLS1_0\",\r\n                        \"supportsHttpsTrafficOnly\": \"true\",\r\n                        \"allowBlobPublicAccess\": \"false\",\r\n                        \"allowSharedKeyAccess\": \"true\"\r\n                      },\r\n                      \"dependsOn\": [],\r\n                      \"sku\": {\r\n                        \"name\": \"Standard_LRS\"\r\n                      },\r\n                      \"kind\": \"StorageV2\",\r\n                      \"tags\": {}\r\n                    }\r\n                  ]\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"name\": \"nestedDeploymentThree\",\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"subscriptionId\": \"28cbf98f-381d-4425-9ac4-cf342dab9753\",\r\n              \"resourceGroup\": \"filiz-test-in-Sub5\",\r\n              \"apiVersion\": \"2020-06-01\",\r\n              \"properties\": {\r\n                \"mode\": \"Incremental\",\r\n                \"expressionEvaluationOptions\": {\r\n                  \"scope\": \"inner\"\r\n                },\r\n                \"template\": {\r\n                  \"$schema\": \"http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"apiVersion\": \"2021-04-01\",\r\n                      \"name\": \"storageforfilizsvm\",\r\n                      \"location\": \"westus2\",\r\n                      \"sku\": {\r\n                        \"name\": \"Standard_LRS\"\r\n                      },\r\n                      \"kind\": \"Storage\"\r\n                    },\r\n                    {\r\n                      \"type\": \"Microsoft.Network/publicIPAddresses\",\r\n                      \"apiVersion\": \"2021-02-01\",\r\n                      \"name\": \"myPublicIP\",\r\n                      \"location\": \"westus2\",\r\n                      \"sku\": {\r\n                        \"name\": \"Basic\"\r\n                      },\r\n                      \"properties\": {\r\n                        \"publicIPAllocationMethod\": \"Dynamic\",\r\n                        \"dnsSettings\": {\r\n                          \"domainNameLabel\": \"[toLower(format('{0}-{1}', 'filizstestvm', uniqueString(resourceGroup().id, 'filizstestvm')))]\"\r\n                        }\r\n                      }\r\n                    },\r\n                    {\r\n                      \"type\": \"Microsoft.Network/networkSecurityGroups\",\r\n                      \"apiVersion\": \"2021-02-01\",\r\n                      \"name\": \"default-NSG\",\r\n                      \"location\": \"westus2\",\r\n                      \"properties\": {\r\n                        \"securityRules\": [\r\n                          {\r\n                            \"name\": \"default-allow-3389\",\r\n                            \"properties\": {\r\n                              \"priority\": 1000,\r\n                              \"access\": \"Allow\",\r\n                              \"direction\": \"Inbound\",\r\n                              \"destinationPortRange\": \"3389\",\r\n                              \"protocol\": \"Tcp\",\r\n                              \"sourcePortRange\": \"*\",\r\n                              \"sourceAddressPrefix\": \"*\",\r\n                              \"destinationAddressPrefix\": \"*\"\r\n                            }\r\n                          }\r\n                        ]\r\n                      }\r\n                    },\r\n                    {\r\n                      \"type\": \"Microsoft.Network/virtualNetworks\",\r\n                      \"apiVersion\": \"2021-02-01\",\r\n                      \"name\": \"MyVNET\",\r\n                      \"location\": \"westus2\",\r\n                      \"properties\": {\r\n                        \"addressSpace\": {\r\n                          \"addressPrefixes\": [\r\n                            \"10.0.0.0/16\"\r\n                          ]\r\n                        }\r\n                      }\r\n                    },\r\n                    {\r\n                      \"type\": \"Microsoft.Network/virtualNetworks/subnets\",\r\n                      \"apiVersion\": \"2021-02-01\",\r\n                      \"name\": \"[format('{0}/{1}', 'MyVNET', 'Subnet')]\",\r\n                      \"properties\": {\r\n                        \"addressPrefix\": \"10.0.0.0/24\",\r\n                        \"networkSecurityGroup\": {\r\n                          \"id\": \"[resourceId('Microsoft.Network/networkSecurityGroups', 'default-NSG')]\"\r\n                        }\r\n                      },\r\n                      \"dependsOn\": [\r\n                        \"[resourceId('Microsoft.Network/networkSecurityGroups', 'default-NSG')]\",\r\n                        \"[resourceId('Microsoft.Network/virtualNetworks', 'MyVNET')]\"\r\n                      ]\r\n                    },\r\n                    {\r\n                      \"type\": \"Microsoft.Network/networkInterfaces\",\r\n                      \"apiVersion\": \"2021-02-01\",\r\n                      \"name\": \"myVMNic\",\r\n                      \"location\": \"westus2\",\r\n                      \"properties\": {\r\n                        \"ipConfigurations\": [\r\n                          {\r\n                            \"name\": \"ipconfig1\",\r\n                            \"properties\": {\r\n                              \"privateIPAllocationMethod\": \"Dynamic\",\r\n                              \"publicIPAddress\": {\r\n                                \"id\": \"[resourceId('Microsoft.Network/publicIPAddresses', 'myPublicIP')]\"\r\n                              },\r\n                              \"subnet\": {\r\n                                \"id\": \"[resourceId('Microsoft.Network/virtualNetworks/subnets', 'MyVNET', 'Subnet')]\"\r\n                              }\r\n                            }\r\n                          }\r\n                        ]\r\n                      },\r\n                      \"dependsOn\": [\r\n                        \"[resourceId('Microsoft.Network/publicIPAddresses', 'myPublicIP')]\",\r\n                        \"[resourceId('Microsoft.Network/virtualNetworks/subnets', 'MyVNET', 'Subnet')]\"\r\n                      ]\r\n                    },\r\n                    {\r\n                      \"type\": \"Microsoft.Compute/virtualMachines\",\r\n                      \"apiVersion\": \"2021-03-01\",\r\n                      \"name\": \"simple-vm\",\r\n                      \"location\": \"westus2\",\r\n                      \"properties\": {\r\n                        \"hardwareProfile\": {\r\n                          \"vmSize\": \"Standard_D2_v3\"\r\n                        },\r\n                        \"osProfile\": {\r\n                          \"computerName\": \"simple-vm\",\r\n                          \"adminUsername\": \"blueprintadmin\",\r\n                          \"adminPassword\": \"blueprint123!\"\r\n                        },\r\n                        \"storageProfile\": {\r\n                          \"imageReference\": {\r\n                            \"publisher\": \"MicrosoftWindowsServer\",\r\n                            \"offer\": \"WindowsServer\",\r\n                            \"sku\": \"2019-Datacenter\",\r\n                            \"version\": \"latest\"\r\n                          },\r\n                          \"osDisk\": {\r\n                            \"createOption\": \"FromImage\",\r\n                            \"managedDisk\": {\r\n                              \"storageAccountType\": \"StandardSSD_LRS\"\r\n                            }\r\n                          },\r\n                          \"dataDisks\": [\r\n                            {\r\n                              \"diskSizeGB\": 1023,\r\n                              \"lun\": 0,\r\n                              \"createOption\": \"Empty\"\r\n                            }\r\n                          ]\r\n                        },\r\n                        \"networkProfile\": {\r\n                          \"networkInterfaces\": [\r\n                            {\r\n                              \"id\": \"[resourceId('Microsoft.Network/networkInterfaces', 'myVMNic')]\"\r\n                            }\r\n                          ]\r\n                        },\r\n                        \"diagnosticsProfile\": {\r\n                          \"bootDiagnostics\": {\r\n                            \"enabled\": true,\r\n                            \"storageUri\": \"[reference(resourceId('Microsoft.Storage/storageAccounts', 'storageforfilizsvm')).primaryEndpoints.blob]\"\r\n                          }\r\n                        }\r\n                      },\r\n                      \"dependsOn\": [\r\n                        \"[resourceId('Microsoft.Network/networkInterfaces', 'myVMNic')]\",\r\n                        \"[resourceId('Microsoft.Storage/storageAccounts', 'storageforfilizsvm')]\"\r\n                      ]\r\n                    }\r\n                  ]\r\n                }\r\n              }\r\n            }\r\n          ],\r\n          \"outputs\": {}\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/filiz-test/providers/Microsoft.Storage/storageAccounts/teststorageinexistingrg\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"DeploymentStackDeploymentFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"DeploymentFailed\",\r\n                  \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\",\r\n                  \"details\": [\r\n                    {\r\n                      \"code\": \"ResourceGroupBeingDeleted\",\r\n                      \"message\": \"The resource group 'filiz-test-template-created' is in deprovisioning state and cannot perform this operation.\"\r\n                    },\r\n                    {\r\n                      \"code\": \"ResourceGroupBeingDeleted\",\r\n                      \"message\": \"The resource group 'filiz-test-in-Sub5' is in deprovisioning state and cannot perform this operation.\"\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"fitopata@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-16T15:43:37.5222786Z\",\r\n        \"lastModifiedBy\": \"fitopata@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-16T15:43:37.5222786Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/filiz-test-stack3\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"filiz-test-stack3\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"purgeResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/filiz-test-stack4-2021-09-16-16-01-38-3cf92\",\r\n        \"parameters\": {},\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"rgName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"filiz-test-template-created\"\r\n            },\r\n            \"rgLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"westus2\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"name\": \"nestedDeploymentThree\",\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"subscriptionId\": \"28cbf98f-381d-4425-9ac4-cf342dab9753\",\r\n              \"resourceGroup\": \"filiz-test-in-Sub5\",\r\n              \"apiVersion\": \"2020-06-01\",\r\n              \"properties\": {\r\n                \"mode\": \"Incremental\",\r\n                \"expressionEvaluationOptions\": {\r\n                  \"scope\": \"inner\"\r\n                },\r\n                \"template\": {\r\n                  \"$schema\": \"http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"apiVersion\": \"2021-04-01\",\r\n                      \"name\": \"storageforfilizsvm\",\r\n                      \"location\": \"westus2\",\r\n                      \"sku\": {\r\n                        \"name\": \"Standard_LRS\"\r\n                      },\r\n                      \"kind\": \"Storage\"\r\n                    },\r\n                    {\r\n                      \"type\": \"Microsoft.Network/publicIPAddresses\",\r\n                      \"apiVersion\": \"2021-02-01\",\r\n                      \"name\": \"myPublicIP\",\r\n                      \"location\": \"westus2\",\r\n                      \"sku\": {\r\n                        \"name\": \"Basic\"\r\n                      },\r\n                      \"properties\": {\r\n                        \"publicIPAllocationMethod\": \"Dynamic\",\r\n                        \"dnsSettings\": {\r\n                          \"domainNameLabel\": \"[toLower(format('{0}-{1}', 'filizstestvm', uniqueString(resourceGroup().id, 'filizstestvm')))]\"\r\n                        }\r\n                      }\r\n                    },\r\n                    {\r\n                      \"type\": \"Microsoft.Network/networkSecurityGroups\",\r\n                      \"apiVersion\": \"2021-02-01\",\r\n                      \"name\": \"default-NSG\",\r\n                      \"location\": \"westus2\",\r\n                      \"properties\": {\r\n                        \"securityRules\": [\r\n                          {\r\n                            \"name\": \"default-allow-3389\",\r\n                            \"properties\": {\r\n                              \"priority\": 1000,\r\n                              \"access\": \"Allow\",\r\n                              \"direction\": \"Inbound\",\r\n                              \"destinationPortRange\": \"3389\",\r\n                              \"protocol\": \"Tcp\",\r\n                              \"sourcePortRange\": \"*\",\r\n                              \"sourceAddressPrefix\": \"*\",\r\n                              \"destinationAddressPrefix\": \"*\"\r\n                            }\r\n                          }\r\n                        ]\r\n                      }\r\n                    },\r\n                    {\r\n                      \"type\": \"Microsoft.Network/virtualNetworks\",\r\n                      \"apiVersion\": \"2021-02-01\",\r\n                      \"name\": \"MyVNET\",\r\n                      \"location\": \"westus2\",\r\n                      \"properties\": {\r\n                        \"addressSpace\": {\r\n                          \"addressPrefixes\": [\r\n                            \"10.0.0.0/16\"\r\n                          ]\r\n                        }\r\n                      }\r\n                    },\r\n                    {\r\n                      \"type\": \"Microsoft.Network/virtualNetworks/subnets\",\r\n                      \"apiVersion\": \"2021-02-01\",\r\n                      \"name\": \"[format('{0}/{1}', 'MyVNET', 'Subnet')]\",\r\n                      \"properties\": {\r\n                        \"addressPrefix\": \"10.0.0.0/24\",\r\n                        \"networkSecurityGroup\": {\r\n                          \"id\": \"[resourceId('Microsoft.Network/networkSecurityGroups', 'default-NSG')]\"\r\n                        }\r\n                      },\r\n                      \"dependsOn\": [\r\n                        \"[resourceId('Microsoft.Network/networkSecurityGroups', 'default-NSG')]\",\r\n                        \"[resourceId('Microsoft.Network/virtualNetworks', 'MyVNET')]\"\r\n                      ]\r\n                    },\r\n                    {\r\n                      \"type\": \"Microsoft.Network/networkInterfaces\",\r\n                      \"apiVersion\": \"2021-02-01\",\r\n                      \"name\": \"myVMNic\",\r\n                      \"location\": \"westus2\",\r\n                      \"properties\": {\r\n                        \"ipConfigurations\": [\r\n                          {\r\n                            \"name\": \"ipconfig1\",\r\n                            \"properties\": {\r\n                              \"privateIPAllocationMethod\": \"Dynamic\",\r\n                              \"publicIPAddress\": {\r\n                                \"id\": \"[resourceId('Microsoft.Network/publicIPAddresses', 'myPublicIP')]\"\r\n                              },\r\n                              \"subnet\": {\r\n                                \"id\": \"[resourceId('Microsoft.Network/virtualNetworks/subnets', 'MyVNET', 'Subnet')]\"\r\n                              }\r\n                            }\r\n                          }\r\n                        ]\r\n                      },\r\n                      \"dependsOn\": [\r\n                        \"[resourceId('Microsoft.Network/publicIPAddresses', 'myPublicIP')]\",\r\n                        \"[resourceId('Microsoft.Network/virtualNetworks/subnets', 'MyVNET', 'Subnet')]\"\r\n                      ]\r\n                    },\r\n                    {\r\n                      \"type\": \"Microsoft.Compute/virtualMachines\",\r\n                      \"apiVersion\": \"2021-03-01\",\r\n                      \"name\": \"simple-vm\",\r\n                      \"location\": \"westus2\",\r\n                      \"properties\": {\r\n                        \"hardwareProfile\": {\r\n                          \"vmSize\": \"Standard_D2_v3\"\r\n                        },\r\n                        \"osProfile\": {\r\n                          \"computerName\": \"simple-vm\",\r\n                          \"adminUsername\": \"blueprintadmin\",\r\n                          \"adminPassword\": \"blueprint123!\"\r\n                        },\r\n                        \"storageProfile\": {\r\n                          \"imageReference\": {\r\n                            \"publisher\": \"MicrosoftWindowsServer\",\r\n                            \"offer\": \"WindowsServer\",\r\n                            \"sku\": \"2019-Datacenter\",\r\n                            \"version\": \"latest\"\r\n                          },\r\n                          \"osDisk\": {\r\n                            \"createOption\": \"FromImage\",\r\n                            \"managedDisk\": {\r\n                              \"storageAccountType\": \"StandardSSD_LRS\"\r\n                            }\r\n                          },\r\n                          \"dataDisks\": [\r\n                            {\r\n                              \"diskSizeGB\": 1023,\r\n                              \"lun\": 0,\r\n                              \"createOption\": \"Empty\"\r\n                            }\r\n                          ]\r\n                        },\r\n                        \"networkProfile\": {\r\n                          \"networkInterfaces\": [\r\n                            {\r\n                              \"id\": \"[resourceId('Microsoft.Network/networkInterfaces', 'myVMNic')]\"\r\n                            }\r\n                          ]\r\n                        },\r\n                        \"diagnosticsProfile\": {\r\n                          \"bootDiagnostics\": {\r\n                            \"enabled\": true,\r\n                            \"storageUri\": \"[reference(resourceId('Microsoft.Storage/storageAccounts', 'storageforfilizsvm')).primaryEndpoints.blob]\"\r\n                          }\r\n                        }\r\n                      },\r\n                      \"dependsOn\": [\r\n                        \"[resourceId('Microsoft.Network/networkInterfaces', 'myVMNic')]\",\r\n                        \"[resourceId('Microsoft.Storage/storageAccounts', 'storageforfilizsvm')]\"\r\n                      ]\r\n                    }\r\n                  ]\r\n                }\r\n              }\r\n            }\r\n          ],\r\n          \"outputs\": {}\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"DeploymentStackDeploymentFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"DeploymentFailed\",\r\n                  \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\",\r\n                  \"details\": [\r\n                    {\r\n                      \"code\": \"ResourceGroupNotFound\",\r\n                      \"message\": \"Resource group 'filiz-test-in-Sub5' could not be found.\"\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"fitopata@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-16T16:01:38.2413692Z\",\r\n        \"lastModifiedBy\": \"fitopata@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-16T16:01:38.2413692Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/filiz-test-stack4\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"filiz-test-stack4\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/filiz-test-stack6/snapshots/2021-09-16-19-32-29-87c2a\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/filiz-test/providers/Microsoft.Resources/deployments/filiz-test-stack6-2021-09-16-19-32-29-87c2a\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/filiz-test\",\r\n        \"parameters\": {\r\n          \"storageLocation\": {\r\n            \"value\": \"westus2\"\r\n          },\r\n          \"minimumTlsVersion\": {\r\n            \"value\": \"TLS1_0\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"minimumTlsVersion\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"storageLocation\": {\r\n              \"type\": \"string\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"name\": \"teststorageinnewrg2\",\r\n              \"type\": \"Microsoft.Storage/storageAccounts\",\r\n              \"apiVersion\": \"2019-06-01\",\r\n              \"location\": \"[parameters('storageLocation')]\",\r\n              \"properties\": {\r\n                \"accessTier\": \"hot\",\r\n                \"minimumTlsVersion\": \"[parameters('minimumTlsVersion')]\",\r\n                \"supportsHttpsTrafficOnly\": \"true\",\r\n                \"allowBlobPublicAccess\": \"false\",\r\n                \"allowSharedKeyAccess\": \"true\"\r\n              },\r\n              \"dependsOn\": [],\r\n              \"sku\": {\r\n                \"name\": \"Standard_LRS\"\r\n              },\r\n              \"kind\": \"StorageV2\",\r\n              \"tags\": {}\r\n            }\r\n          ],\r\n          \"outputs\": {}\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/filiz-test/providers/Microsoft.Storage/storageAccounts/teststorageinnewrg2\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"fitopata@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-16T18:57:38.7233089Z\",\r\n        \"lastModifiedBy\": \"fitopata@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-16T19:32:28.8343562Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/filiz-test-stack6\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"filiz-test-stack6\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/filiz-test-stack7/snapshots/2021-09-16-19-52-18-918e9\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/filiz-test/providers/Microsoft.Resources/deployments/filiz-test-stack7-2021-09-16-19-52-18-918e9\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/filiz-test\",\r\n        \"parameters\": {\r\n          \"storageLocation\": {\r\n            \"value\": \"westus2\"\r\n          },\r\n          \"minimumTlsVersion\": {\r\n            \"value\": \"TLS1_0\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"minimumTlsVersion\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"TLS1_0\"\r\n            },\r\n            \"storageLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"westus2\"\r\n            },\r\n            \"mgName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"[concat('mg-', uniqueString(newGuid()))]\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"name\": \"[parameters('mgName')]\",\r\n              \"type\": \"Microsoft.Management/managementGroups\",\r\n              \"apiVersion\": \"2019-11-01\",\r\n              \"scope\": \"/\",\r\n              \"location\": \"westus2\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"name\": \"teststorageinnewrg2\",\r\n              \"type\": \"Microsoft.Storage/storageAccounts\",\r\n              \"apiVersion\": \"2019-06-01\",\r\n              \"location\": \"[parameters('storageLocation')]\",\r\n              \"properties\": {\r\n                \"accessTier\": \"hot\",\r\n                \"minimumTlsVersion\": \"[parameters('minimumTlsVersion')]\",\r\n                \"supportsHttpsTrafficOnly\": \"true\",\r\n                \"allowBlobPublicAccess\": \"false\",\r\n                \"allowSharedKeyAccess\": \"true\"\r\n              },\r\n              \"dependsOn\": [],\r\n              \"sku\": {\r\n                \"name\": \"Standard_LRS\"\r\n              },\r\n              \"kind\": \"StorageV2\",\r\n              \"tags\": {}\r\n            }\r\n          ],\r\n          \"outputs\": {}\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/filiz-test/providers/Microsoft.Storage/storageAccounts/teststorageinnewrg2\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"fitopata@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-16T19:52:17.8874576Z\",\r\n        \"lastModifiedBy\": \"fitopata@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-16T19:52:17.8874576Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/filiz-test-stack7\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"filiz-test-stack7\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/filiz-test-stack8-2021-09-16-20-53-26-0c122\",\r\n        \"parameters\": {},\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"minimumTlsVersion\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"TLS1_0\"\r\n            },\r\n            \"storageLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"westus2\"\r\n            }\r\n          },\r\n          \"variables\": {\r\n            \"mgId\": \"[concat('Microsoft.Management/managementGroups/', 'AzBlueprint')]\"\r\n          },\r\n          \"resources\": [\r\n            {\r\n              \"name\": \"teststorageinnewrg2\",\r\n              \"type\": \"Microsoft.Storage/storageAccounts\",\r\n              \"apiVersion\": \"2019-06-01\",\r\n              \"location\": \"[parameters('storageLocation')]\",\r\n              \"properties\": {\r\n                \"accessTier\": \"hot\",\r\n                \"minimumTlsVersion\": \"[parameters('minimumTlsVersion')]\",\r\n                \"supportsHttpsTrafficOnly\": \"true\",\r\n                \"allowBlobPublicAccess\": \"false\",\r\n                \"allowSharedKeyAccess\": \"true\"\r\n              },\r\n              \"dependsOn\": [],\r\n              \"sku\": {\r\n                \"name\": \"Standard_LRS\"\r\n              },\r\n              \"kind\": \"StorageV2\",\r\n              \"tags\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"apiVersion\": \"2021-04-01\",\r\n              \"name\": \"nestedDeployment\",\r\n              \"scope\": \"[variables('mgId')]\",\r\n              \"location\": \"eastus\",\r\n              \"properties\": {\r\n                \"mode\": \"Incremental\",\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2019-08-01/managementGroupDeploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n                      \"name\": \"LocationRestriction\",\r\n                      \"apiVersion\": \"2020-09-01\",\r\n                      \"properties\": {\r\n                        \"policyType\": \"Custom\",\r\n                        \"mode\": \"All\",\r\n                        \"parameters\": {},\r\n                        \"policyRule\": {\r\n                          \"if\": {\r\n                            \"not\": {\r\n                              \"field\": \"location\",\r\n                              \"in\": \"westus2\"\r\n                            }\r\n                          },\r\n                          \"then\": {\r\n                            \"effect\": \"deny\"\r\n                          }\r\n                        }\r\n                      }\r\n                    }\r\n                  ]\r\n                }\r\n              }\r\n            }\r\n          ],\r\n          \"outputs\": {}\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"DeploymentStackDeploymentFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"DeploymentStackOperationFailed\",\r\n                  \"message\": \"'subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Management/managementGroups/AzBlueprint/providers/Microsoft.Resources/deployments/nestedDeployment' does not represent a supported child Resource Id type/format\"\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"fitopata@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-16T20:53:26.1119005Z\",\r\n        \"lastModifiedBy\": \"fitopata@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-16T20:53:26.1119005Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/filiz-test-stack8\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"filiz-test-stack8\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hptest_sub_create_ds/snapshots/2021-09-17-19-34-45-a483c\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/harshpatel/providers/Microsoft.Resources/deployments/hptest_sub_create_ds-2021-09-17-19-34-45-a483c\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/harshpatel\",\r\n        \"description\": \"learn how deployment scopes work\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-17T19:13:34.5161207Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-17T19:34:44.2801342Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hptest_sub_create_ds\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hptest_sub_create_ds\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hpmatrix_sub_create_tu/snapshots/2021-09-17-19-49-17-85f69\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/hpmatrix_sub_create_tu-2021-09-17-19-49-17-85f69\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"description\": \"john doe\",\r\n        \"templateLink\": {\r\n          \"uri\": \"https://hpstorageaccount1000.blob.core.windows.net/hpcontainer/simpletemplate?sp=r&st=2021-09-17T19:47:55Z&se=2021-09-18T03:47:55Z&spr=https&sv=2020-08-04&sr=b&sig=rquw9ABEqUp8Poi27E0x3z%2B60tz6YxpjTfVeUY2aO1c%3D\"\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-17T19:49:16.8078832Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-17T19:49:16.8078832Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hpmatrix_sub_create_tu\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hpmatrix_sub_create_tu\"\r\n    },\r\n    {\r\n      \"location\": \"westcentralus\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hp-shared-services/snapshots/2022-01-21-20-25-54-d3fe4\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"description\": \"shared sql and web\",\r\n        \"templateLink\": {\r\n          \"uri\": \"C:\\\\Users\\\\harshpatel\\\\Misc\\\\TemplateFiles\\\\empty.json\"\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed. See snapshot '/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hp-shared-services/snapshots/2022-01-21-20-25-54-d3fe4' for more details.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"InvalidContentLink\",\r\n              \"message\": \"The provided content link 'Azure.Deployments.Core.Entities.DeploymentTemplateContentLink' is invalid or not supported. Content link must be an absolute URI not referencing local host or UNC path.\",\r\n              \"details\": [],\r\n              \"additionalInfo\": []\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-01-21T20:06:54.3715401Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-01-21T20:25:54.1835862Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hp-shared-services\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hp-shared-services\"\r\n    }\r\n  ],\r\n  \"nextLink\": \"https://management.azure.com/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks?api-version=2021-05-01-preview&%24skiptoken=zc7dboIwAIbhe2mWHa1CAcWZmIUpKkbI%2fGFuniylFNchtLYFFOO9T7Ob2Hf8Je9zASU96QUrcwUGF%2bB76028BgPwrbVQA8MocIn3tKCl7uC2krRDeGGoKlFEMqEZL5WBUZLhnt2FmZVk0LEyBPu9pAv7Tp%2f0XCcjtoUMIXnNUiqVETIiueKZ7qyo4pUkVBkpFQd%2bvlfWGpNcvWDBYH173wJDy7QQNLvQRFBIWjPagCew9e9Q679LHx9UzsSG57QczhwVeH%2fzvaCq3pmct6Ybxe58be7dc7qYHo%2f2qN3MZmbaqIb1pUVs%2f0SCpbdF9YG%2fenIJt8tgSuSyCcc78rUPR%2bpnFz9%2fZGfVxihsyTlOBV749dsqnmN9FOkpzKcTL09bf8TG4ybaRws0OspPc%2bJFK%2bi4xeROAtfrLw%3d%3d\"\r\n}",
      "StatusCode": 200
    },
    {
      "RequestUri": "/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks?api-version=2021-05-01-preview&%24skiptoken=zc7dboIwAIbhe2mWHa1CAcWZmIUpKkbI%2fGFuniylFNchtLYFFOO9T7Ob2Hf8Je9zASU96QUrcwUGF%2bB76028BgPwrbVQA8MocIn3tKCl7uC2krRDeGGoKlFEMqEZL5WBUZLhnt2FmZVk0LEyBPu9pAv7Tp%2f0XCcjtoUMIXnNUiqVETIiueKZ7qyo4pUkVBkpFQd%2bvlfWGpNcvWDBYH173wJDy7QQNLvQRFBIWjPagCew9e9Q679LHx9UzsSG57QczhwVeH%2fzvaCq3pmct6Ybxe58be7dc7qYHo%2f2qN3MZmbaqIb1pUVs%2f0SCpbdF9YG%2fenIJt8tgSuSyCcc78rUPR%2bpnFz9%2fZGfVxihsyTlOBV749dsqnmN9FOkpzKcTL09bf8TG4ybaRws0OspPc%2bJFK%2bi4xeROAtfrLw%3d%3d",
      "EncodedRequestUri": "L3N1YnNjcmlwdGlvbnMvYTFiZmE2MzUtZjJiZi00MmYxLTg2YjUtODQ4YzY3NGZjMzIxL3Byb3ZpZGVycy9NaWNyb3NvZnQuUmVzb3VyY2VzL2RlcGxveW1lbnRTdGFja3M/YXBpLXZlcnNpb249MjAyMS0wNS0wMS1wcmV2aWV3JiUyNHNraXB0b2tlbj16YzdkYm9Jd0FJYmhlMm1XSGExQ0FjV1ptSVVwS2tiSSUyZkdGdW5peWxGTmNodExZRkZPTzlUN09iMkhmOEplOXpBU1U5NlFVcmN3VUdGJTJiQjc2MDI4QmdQd3JiVlFBOE1vY0luM3RLQ2w3dUMya3JSRGVHR29LbEZFTXFFWkw1V0JVWkxobnQyRm1aVmswTEV5QlB1OXBBdjdUcCUyZjBYQ2NqdG9VTUlYbk5VaXFWRVRJaXVlS1o3cXlvNHBVa1ZCa3BGUWQlMmJ2bGZXR3BOY3ZXREJZSDE3M3dKRHk3UVFOTHZRUkZCSVdqUGFnQ2V3OWU5UTY3OUxIeDlVenNTRzU3UWN6aHdWZUglMmZ6dmFDcTNwbWN0NllieGU1OGJlN2RjN3FZSG8lMmYycU4zTVptYmFxSWIxcFVWcyUyZjBTQ3BiZEY5WUclMmZlbklKdDh0Z1N1U3lDY2M3OHJVUFIlMmJwbkZ6OSUyZlpHZlZ4aWhzeVRsT0JWNzQ5ZHNxbm1OOUZPa3B6S2NUTDA5YmY4VEc0eWJhUndzME9zcFBjJTJiSkZLJTJiaTR4ZVJPQXRmckx3JTNkJTNk",
      "RequestMethod": "GET",
      "RequestBody": "",
      "RequestHeaders": {
        "x-ms-client-request-id": [
          "a6f6296f-f47c-4a87-9bd2-ac9f4f5cc121"
        ],
        "Accept-Language": [
          "en-US"
        ],
        "User-Agent": [
          "FxVersion/4.6.30411.01",
          "OSName/Windows",
          "OSVersion/Microsoft.Windows.10.0.22000.",
          "Microsoft.Azure.Management.ResourceManager.DeploymentStacksClient/3.13.2.0"
        ]
      },
      "ResponseHeaders": {
        "Cache-Control": [
          "no-cache"
        ],
        "Pragma": [
          "no-cache"
        ],
        "x-ms-original-request-ids": [
          "191bade9-4811-45f3-b9d3-b6eefaefc2d2",
          "a0a92d5f-2178-4ea2-9c57-ba0b95714f61"
        ],
        "x-ms-ratelimit-remaining-subscription-reads": [
          "11998"
        ],
        "x-ms-request-id": [
          "6b0076be-af1c-46f6-947f-37a2f2783c28"
        ],
        "x-ms-correlation-request-id": [
          "6b0076be-af1c-46f6-947f-37a2f2783c28"
        ],
        "x-ms-routing-request-id": [
          "EASTUS2:20220425T184214Z:6b0076be-af1c-46f6-947f-37a2f2783c28"
        ],
        "Strict-Transport-Security": [
          "max-age=31536000; includeSubDomains"
        ],
        "X-Content-Type-Options": [
          "nosniff"
        ],
        "Date": [
          "Mon, 25 Apr 2022 18:42:13 GMT"
        ],
        "Content-Type": [
          "application/json; charset=utf-8"
        ],
        "Expires": [
          "-1"
        ],
        "Content-Length": [
          "234129"
        ],
        "Retry-After": [
          "0"
        ]
      },
      "ResponseBody": "{\r\n  \"value\": [\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hpmatrix_sub_create_tf_pu/snapshots/2021-09-17-19-50-04-8428f\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/hpmatrix_sub_create_tf_pu-2021-09-17-19-50-04-8428f\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"description\": \"john doe\",\r\n        \"parametersLink\": {\r\n          \"uri\": \"https://hpstorageaccount1000.blob.core.windows.net/hpcontainer/simpletemplateparamsWithContentVersion?sp=r&st=2021-09-17T19:43:32Z&se=2021-09-18T03:43:32Z&spr=https&sv=2020-08-04&sr=b&sig=P2KRnYlXGmflM7iv2N%2FYNS8hPwZ2erIgdsV4kU7cGvM%3D\"\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-17T19:50:04.0885604Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-17T19:50:04.0885604Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hpmatrix_sub_create_tf_pu\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hpmatrix_sub_create_tf_pu\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hpmatrix_sub_create_tf-pf/snapshots/2021-09-17-19-51-01-adde5\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/hpmatrix_sub_create_tf-pf-2021-09-17-19-51-01-adde5\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"description\": \"john doe\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-17T19:51:00.3893514Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-17T19:51:00.3893514Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hpmatrix_sub_create_tf-pf\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hpmatrix_sub_create_tf-pf\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hpmatrix_sub_create_tu_pf/snapshots/2021-09-17-19-53-29-35b3d\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/hpmatrix_sub_create_tu_pf-2021-09-17-19-53-29-35b3d\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"description\": \"john doe\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"templateLink\": {\r\n          \"uri\": \"https://hpstorageaccount1000.blob.core.windows.net/hpcontainer/simpletemplate?sp=r&st=2021-09-17T19:47:55Z&se=2021-09-18T03:47:55Z&spr=https&sv=2020-08-04&sr=b&sig=rquw9ABEqUp8Poi27E0x3z%2B60tz6YxpjTfVeUY2aO1c%3D\"\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-17T19:53:28.4521693Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-17T19:53:28.4521693Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hpmatrix_sub_create_tu_pf\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hpmatrix_sub_create_tu_pf\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hpmatrix_sub_create_tu_pu/snapshots/2021-09-17-19-56-23-1b2bc\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/hpmatrix_sub_create_tu_pu-2021-09-17-19-56-23-1b2bc\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"description\": \"john doe\",\r\n        \"parametersLink\": {\r\n          \"uri\": \"https://hpstorageaccount1000.blob.core.windows.net/hpcontainer/simpletemplateparamsWithContentVersion?sp=r&st=2021-09-17T19:55:23Z&se=2021-09-18T03:55:23Z&spr=https&sv=2020-08-04&sr=b&sig=QnMqU5RvmGCDdROKXSBnlzT1NLiF0yWB7nx4XQbmj%2Bk%3D\"\r\n        },\r\n        \"templateLink\": {\r\n          \"uri\": \"https://hpstorageaccount1000.blob.core.windows.net/hpcontainer/simpletemplate?sp=r&st=2021-09-17T19:47:55Z&se=2021-09-18T03:47:55Z&spr=https&sv=2020-08-04&sr=b&sig=rquw9ABEqUp8Poi27E0x3z%2B60tz6YxpjTfVeUY2aO1c%3D\"\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-17T19:54:42.7520085Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-17T19:56:22.212836Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hpmatrix_sub_create_tu_pu\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hpmatrix_sub_create_tu_pu\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"parameters\": {\r\n          \"adVnetName\": {\r\n            \"value\": \"ad-vnet\"\r\n          },\r\n          \"adVnetSubscriptionId\": {\r\n            \"value\": \"ec0f79d3-16f0-4892-8165-f569a92c8273\"\r\n          },\r\n          \"dnsServerPrivateIp\": {\r\n            \"value\": \"10.0.0.4\"\r\n          },\r\n          \"adminUsername\": {\r\n            \"value\": \"bmoore\"\r\n          },\r\n          \"adSubnetName\": {\r\n            \"value\": \"ad-vnet-subnet\"\r\n          },\r\n          \"adDomainName\": {\r\n            \"value\": \"corp.mydomain.com\"\r\n          },\r\n          \"adVnetRG\": {\r\n            \"value\": \"aad-stack\"\r\n          },\r\n          \"adminPassword\": {\r\n            \"reference\": {\r\n              \"keyVault\": {\r\n                \"id\": \"/subscriptions/ec0f79d3-16f0-4892-8165-f569a92c8273/resourceGroups/vaultsgroup/providers/Microsoft.KeyVault/vaults/bmoore-demo\"\r\n              },\r\n              \"secretName\": \"adminPass\"\r\n            }\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"dnsLabelPrefix\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"[concat('rds-', uniqueString(resourceGroup().id))]\",\r\n              \"metadata\": {\r\n                \"description\": \"Unique public DNS prefix for the deployment. The fqdn will look something like '<dnsname>.westus.cloudapp.azure.com'. Up to 62 chars, digits or dashes, lowercase, should start with a letter: must conform to '^[a-z][a-z0-9-]{1,61}[a-z0-9]$'. For example johndns1 will result the final RDWEB access url like https://johndns1.westus.cloudapp.azure.com/RDWeb\"\r\n              }\r\n            },\r\n            \"adDomainName\": {\r\n              \"type\": \"string\",\r\n              \"metadata\": {\r\n                \"description\": \"The name of the AD domain. For example contoso.com\"\r\n              }\r\n            },\r\n            \"adVnetName\": {\r\n              \"type\": \"string\",\r\n              \"metadata\": {\r\n                \"description\": \"The vnet name of AD domain. For example johnvnet1\"\r\n              }\r\n            },\r\n            \"adVnetRG\": {\r\n              \"type\": \"string\",\r\n              \"metadata\": {\r\n                \"description\": \"The Resource Group containing the existing Virtual Network resource\"\r\n              }\r\n            },\r\n            \"adVnetSubscriptionId\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"[subscription().subscriptionId]\",\r\n              \"metadata\": {\r\n                \"description\": \"The subscription containing the existing Virtual Network resource\"\r\n              }\r\n            },\r\n            \"adSubnetName\": {\r\n              \"type\": \"string\",\r\n              \"metadata\": {\r\n                \"description\": \"The subnet name of AD domain\"\r\n              }\r\n            },\r\n            \"dnsServerPrivateIp\": {\r\n              \"type\": \"string\",\r\n              \"metadata\": {\r\n                \"description\": \"The private IP address of the ad dns server\"\r\n              }\r\n            },\r\n            \"adminUsername\": {\r\n              \"type\": \"string\",\r\n              \"metadata\": {\r\n                \"description\": \"The name of the administrator of the new VM and the domain. Exclusion list: 'administrator'. For example johnadmin\"\r\n              }\r\n            },\r\n            \"adminPassword\": {\r\n              \"type\": \"securestring\",\r\n              \"metadata\": {\r\n                \"description\": \"The password for the administrator account of the new VM and the domain\"\r\n              }\r\n            },\r\n            \"imageSKU\": {\r\n              \"type\": \"string\",\r\n              \"allowedValues\": [\r\n                \"2012-R2-Datacenter\",\r\n                \"2016-Datacenter\",\r\n                \"2019-Datacenter\",\r\n                \"2022-datacenter\"\r\n              ],\r\n              \"metadata\": {\r\n                \"description\": \"Windows server SKU\"\r\n              },\r\n              \"defaultValue\": \"2019-Datacenter\"\r\n            },\r\n            \"numberOfRdshInstances\": {\r\n              \"type\": \"int\",\r\n              \"defaultValue\": 1,\r\n              \"metadata\": {\r\n                \"description\": \"Number of RemoteDesktopSessionHosts\"\r\n              }\r\n            },\r\n            \"rdshVmSize\": {\r\n              \"type\": \"string\",\r\n              \"metadata\": {\r\n                \"description\": \"The size of the RDSH VMs\"\r\n              },\r\n              \"defaultValue\": \"Standard_D4s_v3\"\r\n            },\r\n            \"location\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"[resourceGroup().location]\",\r\n              \"metadata\": {\r\n                \"description\": \"Location for all resources.\"\r\n              }\r\n            },\r\n            \"_artifactsLocation\": {\r\n              \"type\": \"string\",\r\n              \"metadata\": {\r\n                \"description\": \"The base URI where artifacts required by this template are located. When the template is deployed using the accompanying scripts, a private location in the subscription will be used and this value will be automatically generated.\"\r\n              },\r\n              \"defaultValue\": \"[deployment().properties.templateLink.uri]\"\r\n            },\r\n            \"_artifactsLocationSasToken\": {\r\n              \"type\": \"securestring\",\r\n              \"metadata\": {\r\n                \"description\": \"The sasToken required to access _artifactsLocation.  When the template is deployed using the accompanying scripts, a sasToken will be automatically generated.\"\r\n              },\r\n              \"defaultValue\": \"\"\r\n            },\r\n            \"gatewayIpDNS\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"[concat('gwd-', uniqueString(resourceGroup().id))]\",\r\n              \"metadata\": {\r\n                \"description\": \"DNS name for the gateway, must be globally unique.\"\r\n              }\r\n            },\r\n            \"connBrokerIpDNS\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"[concat('cbd-', uniqueString(resourceGroup().id))]\",\r\n              \"metadata\": {\r\n                \"description\": \"DNS name for the connection broker, must be globally unique.\"\r\n              }\r\n            },\r\n            \"rdshNamingPrefix\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"rdsh-\",\r\n              \"maxLength\": 16,\r\n              \"metadata\": {\r\n                \"description\": \"Naming prefix for the RDS Host VMs and resources\"\r\n              }\r\n            }\r\n          },\r\n          \"variables\": {\r\n            \"imagePublisher\": \"MicrosoftWindowsServer\",\r\n            \"imageOffer\": \"WindowsServer\",\r\n            \"subnet-id\": \"[resourceId(parameters('adVnetSubscriptionId'), parameters('adVnetRG'),'Microsoft.Network/virtualNetworks/subnets', parameters('adVnetName'), parameters('adSubnetName'))]\",\r\n            \"publicIpAddressName\": \"publicIp\",\r\n            \"gatewayPublicIpAddressName\": \"gatewayPublicIp\",\r\n            \"brokerPublicIpAddressName\": \"brokerPublicIp\"\r\n          },\r\n          \"resources\": [\r\n            {\r\n              \"apiVersion\": \"2020-06-01\",\r\n              \"type\": \"Microsoft.Network/publicIPAddresses\",\r\n              \"name\": \"[variables('publicIpAddressName')]\",\r\n              \"location\": \"[parameters('location')]\",\r\n              \"properties\": {\r\n                \"publicIPAllocationMethod\": \"Dynamic\",\r\n                \"dnsSettings\": {\r\n                  \"domainNameLabel\": \"[parameters('dnsLabelPrefix')]\"\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"apiVersion\": \"2020-06-01\",\r\n              \"type\": \"Microsoft.Network/publicIPAddresses\",\r\n              \"name\": \"[variables('gatewayPublicIpAddressName')]\",\r\n              \"location\": \"[parameters('location')]\",\r\n              \"properties\": {\r\n                \"publicIPAllocationMethod\": \"Dynamic\",\r\n                \"dnsSettings\": {\r\n                  \"domainNameLabel\": \"[parameters('gatewayIpDNS')]\"\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"apiVersion\": \"2020-06-01\",\r\n              \"type\": \"Microsoft.Network/publicIPAddresses\",\r\n              \"name\": \"[variables('brokerPublicIpAddressName')]\",\r\n              \"location\": \"[parameters('location')]\",\r\n              \"properties\": {\r\n                \"publicIPAllocationMethod\": \"Dynamic\",\r\n                \"dnsSettings\": {\r\n                  \"domainNameLabel\": \"[parameters('connBrokerIpDNS')]\"\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"apiVersion\": \"2020-06-01\",\r\n              \"type\": \"Microsoft.Compute/availabilitySets\",\r\n              \"location\": \"[parameters('location')]\",\r\n              \"name\": \"gw-availabilityset\",\r\n              \"properties\": {\r\n                \"PlatformUpdateDomainCount\": 20,\r\n                \"PlatformFaultDomainCount\": 2\r\n              },\r\n              \"sku\": {\r\n                \"name\": \"Aligned\"\r\n              }\r\n            },\r\n            {\r\n              \"apiVersion\": \"2020-06-01\",\r\n              \"type\": \"Microsoft.Compute/availabilitySets\",\r\n              \"location\": \"[parameters('location')]\",\r\n              \"name\": \"cb-availabilityset\",\r\n              \"properties\": {\r\n                \"PlatformUpdateDomainCount\": 20,\r\n                \"PlatformFaultDomainCount\": 2\r\n              },\r\n              \"sku\": {\r\n                \"name\": \"Aligned\"\r\n              }\r\n            },\r\n            {\r\n              \"apiVersion\": \"2020-06-01\",\r\n              \"type\": \"Microsoft.Compute/availabilitySets\",\r\n              \"location\": \"[parameters('location')]\",\r\n              \"name\": \"[concat(parameters('rdshNamingPrefix'), 'availabilityset')]\",\r\n              \"properties\": {\r\n                \"PlatformUpdateDomainCount\": 20,\r\n                \"PlatformFaultDomainCount\": 2\r\n              },\r\n              \"sku\": {\r\n                \"name\": \"Aligned\"\r\n              }\r\n            },\r\n            {\r\n              \"apiVersion\": \"2020-06-01\",\r\n              \"type\": \"Microsoft.Network/loadBalancers\",\r\n              \"name\": \"loadBalancer\",\r\n              \"location\": \"[parameters('location')]\",\r\n              \"dependsOn\": [\r\n                \"[resourceId('Microsoft.Network/publicIPAddresses', variables('publicIpAddressName'))]\"\r\n              ],\r\n              \"properties\": {\r\n                \"frontendIPConfigurations\": [\r\n                  {\r\n                    \"name\": \"LBFE\",\r\n                    \"properties\": {\r\n                      \"publicIPAddress\": {\r\n                        \"id\": \"[resourceId('Microsoft.Network/publicIPAddresses', variables('publicIpAddressName'))]\"\r\n                      }\r\n                    }\r\n                  }\r\n                ],\r\n                \"backendAddressPools\": [\r\n                  {\r\n                    \"name\": \"LBBAP\"\r\n                  }\r\n                ],\r\n                \"loadBalancingRules\": [\r\n                  {\r\n                    \"name\": \"LBRule01\",\r\n                    \"properties\": {\r\n                      \"frontendIPConfiguration\": {\r\n                        \"id\": \"[resourceId('Microsoft.Network/loadBalancers/frontendIPConfigurations', 'loadbalancer', 'LBFE')]\"\r\n                      },\r\n                      \"backendAddressPool\": {\r\n                        \"id\": \"[resourceId('Microsoft.Network/loadBalancers/backendAddressPools/', 'loadbalancer', 'LBBAP')]\"\r\n                      },\r\n                      \"protocol\": \"Tcp\",\r\n                      \"frontendPort\": 443,\r\n                      \"backendPort\": 443,\r\n                      \"enableFloatingIP\": false,\r\n                      \"idleTimeoutInMinutes\": 5,\r\n                      \"loadDistribution\": \"SourceIPProtocol\",\r\n                      \"probe\": {\r\n                        \"id\": \"[resourceId('Microsoft.Network/loadBalancers/probes', 'loadbalancer', 'tcpProbe')]\"\r\n                      }\r\n                    }\r\n                  },\r\n                  {\r\n                    \"name\": \"LBRule02\",\r\n                    \"properties\": {\r\n                      \"frontendIPConfiguration\": {\r\n                        \"id\": \"[resourceId('Microsoft.Network/loadBalancers/frontendIPConfigurations', 'loadbalancer', 'LBFE')]\"\r\n                      },\r\n                      \"backendAddressPool\": {\r\n                        \"id\": \"[resourceId('Microsoft.Network/loadBalancers/backendAddressPools', 'loadbalancer', 'LBBAP')]\"\r\n                      },\r\n                      \"protocol\": \"Udp\",\r\n                      \"frontendPort\": 3391,\r\n                      \"backendPort\": 3391,\r\n                      \"enableFloatingIP\": false,\r\n                      \"idleTimeoutInMinutes\": 5,\r\n                      \"loadDistribution\": \"SourceIPProtocol\",\r\n                      \"probe\": {\r\n                        \"id\": \"[resourceId('Microsoft.Network/loadBalancers/probes', 'loadbalancer', 'tcpProbe')]\"\r\n                      }\r\n                    }\r\n                  }\r\n                ],\r\n                \"probes\": [\r\n                  {\r\n                    \"name\": \"tcpProbe\",\r\n                    \"properties\": {\r\n                      \"protocol\": \"Tcp\",\r\n                      \"port\": 443,\r\n                      \"intervalInSeconds\": 5,\r\n                      \"numberOfProbes\": 2\r\n                    }\r\n                  },\r\n                  {\r\n                    \"name\": \"tcpProbe01\",\r\n                    \"properties\": {\r\n                      \"protocol\": \"Tcp\",\r\n                      \"port\": 3391,\r\n                      \"intervalInSeconds\": 5,\r\n                      \"numberOfProbes\": 2\r\n                    }\r\n                  }\r\n                ],\r\n                \"inboundNatRules\": [\r\n                  {\r\n                    \"name\": \"rdp\",\r\n                    \"properties\": {\r\n                      \"frontendIPConfiguration\": {\r\n                        \"id\": \"[resourceId('Microsoft.Network/loadBalancers/frontendIPConfigurations','loadBalancer','LBFE')]\"\r\n                      },\r\n                      \"protocol\": \"Tcp\",\r\n                      \"frontendPort\": 3389,\r\n                      \"backendPort\": 3389,\r\n                      \"enableFloatingIP\": false\r\n                    }\r\n                  }\r\n                ]\r\n              }\r\n            },\r\n            {\r\n              \"apiVersion\": \"2020-06-01\",\r\n              \"type\": \"Microsoft.Network/networkInterfaces\",\r\n              \"name\": \"gw-nic\",\r\n              \"location\": \"[parameters('location')]\",\r\n              \"dependsOn\": [\r\n                \"[resourceId('Microsoft.Network/loadBalancers', 'loadBalancer')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"ipConfigurations\": [\r\n                  {\r\n                    \"name\": \"ipconfig\",\r\n                    \"properties\": {\r\n                      \"privateIPAllocationMethod\": \"Dynamic\",\r\n                      \"publicIPAddress\": {\r\n                        \"id\": \"[resourceId('Microsoft.Network/publicIPAddresses',variables('gatewayPublicIpAddressName'))]\"\r\n                      },\r\n                      \"subnet\": {\r\n                        \"id\": \"[variables('subnet-id')]\"\r\n                      },\r\n                      \"loadBalancerBackendAddressPools\": [\r\n                        {\r\n                          \"id\": \"[resourceId('Microsoft.Network/loadBalancers/backendAddressPools','loadBalancer', 'LBBAP')]\"\r\n                        }\r\n                      ],\r\n                      \"loadBalancerInboundNatRules\": [\r\n                        {\r\n                          \"id\": \"[resourceId('Microsoft.Network/loadBalancers/inboundNatRules','loadBalancer', 'rdp')]\"\r\n                        }\r\n                      ]\r\n                    }\r\n                  }\r\n                ],\r\n                \"dnsSettings\": {\r\n                  \"dnsServers\": [\r\n                    \"[parameters('dnsServerPrivateIp')]\"\r\n                  ]\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"apiVersion\": \"2020-06-01\",\r\n              \"type\": \"Microsoft.Network/networkInterfaces\",\r\n              \"name\": \"cb-nic\",\r\n              \"location\": \"[parameters('location')]\",\r\n              \"dependsOn\": [\r\n                \"[resourceId('Microsoft.Network/loadBalancers', 'loadBalancer')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"ipConfigurations\": [\r\n                  {\r\n                    \"name\": \"ipconfig\",\r\n                    \"properties\": {\r\n                      \"privateIPAllocationMethod\": \"Dynamic\",\r\n                      \"publicIPAddress\": {\r\n                        \"id\": \"[resourceId('Microsoft.Network/publicIPAddresses', variables('brokerPublicIpAddressName'))]\"\r\n                      },\r\n                      \"subnet\": {\r\n                        \"id\": \"[variables('subnet-id')]\"\r\n                      }\r\n                    }\r\n                  }\r\n                ],\r\n                \"dnsSettings\": {\r\n                  \"dnsServers\": [\r\n                    \"[parameters('dnsServerPrivateIp')]\"\r\n                  ]\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"apiVersion\": \"2020-06-01\",\r\n              \"type\": \"Microsoft.Network/networkInterfaces\",\r\n              \"name\": \"[concat(parameters('rdshNamingPrefix'), copyindex(), '-nic')]\",\r\n              \"location\": \"[parameters('location')]\",\r\n              \"copy\": {\r\n                \"name\": \"rdsh-nic-loop\",\r\n                \"count\": \"[parameters('numberOfRdshInstances')]\"\r\n              },\r\n              \"dependsOn\": [\r\n                \"[resourceId('Microsoft.Network/loadBalancers', 'loadBalancer')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"ipConfigurations\": [\r\n                  {\r\n                    \"name\": \"ipconfig\",\r\n                    \"properties\": {\r\n                      \"privateIPAllocationMethod\": \"Dynamic\",\r\n                      \"subnet\": {\r\n                        \"id\": \"[variables('subnet-id')]\"\r\n                      }\r\n                    }\r\n                  }\r\n                ],\r\n                \"dnsSettings\": {\r\n                  \"dnsServers\": [\r\n                    \"[parameters('dnsServerPrivateIp')]\"\r\n                  ]\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"apiVersion\": \"2020-06-01\",\r\n              \"type\": \"Microsoft.Compute/virtualMachines\",\r\n              \"name\": \"gw-vm\",\r\n              \"location\": \"[parameters('location')]\",\r\n              \"dependsOn\": [\r\n                \"[resourceId('Microsoft.Compute/availabilitySets', 'gw-availabilityset')]\",\r\n                \"[resourceId('Microsoft.Network/networkInterfaces', 'gw-nic')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"hardwareProfile\": {\r\n                  \"vmSize\": \"[parameters('rdshVmSize')]\"\r\n                },\r\n                \"availabilitySet\": {\r\n                  \"id\": \"[resourceId('Microsoft.Compute/availabilitySets', 'gw-availabilityset')]\"\r\n                },\r\n                \"osProfile\": {\r\n                  \"computerName\": \"gateway\",\r\n                  \"adminUsername\": \"[parameters('adminUsername')]\",\r\n                  \"adminPassword\": \"[parameters('adminPassword')]\"\r\n                },\r\n                \"storageProfile\": {\r\n                  \"imageReference\": {\r\n                    \"publisher\": \"[variables('imagePublisher')]\",\r\n                    \"offer\": \"[variables('imageOffer')]\",\r\n                    \"sku\": \"[parameters('imageSKU')]\",\r\n                    \"version\": \"latest\"\r\n                  },\r\n                  \"osDisk\": {\r\n                    \"name\": \"gw_OSDisk\",\r\n                    \"caching\": \"ReadWrite\",\r\n                    \"createOption\": \"FromImage\",\r\n                    \"managedDisk\": {\r\n                      \"storageAccountType\": \"StandardSSD_LRS\"\r\n                    }\r\n                  }\r\n                },\r\n                \"networkProfile\": {\r\n                  \"networkInterfaces\": [\r\n                    {\r\n                      \"id\": \"[resourceId('Microsoft.Network/networkInterfaces','gw-nic')]\"\r\n                    }\r\n                  ]\r\n                }\r\n              },\r\n              \"resources\": [\r\n                {\r\n                  \"apiVersion\": \"2020-06-01\",\r\n                  \"type\": \"extensions\",\r\n                  \"name\": \"gateway\",\r\n                  \"location\": \"[parameters('location')]\",\r\n                  \"dependsOn\": [\r\n                    \"[resourceId('Microsoft.Compute/virtualMachines', 'gw-vm')]\"\r\n                  ],\r\n                  \"properties\": {\r\n                    \"publisher\": \"Microsoft.Powershell\",\r\n                    \"type\": \"DSC\",\r\n                    \"typeHandlerVersion\": \"2.11\",\r\n                    \"autoUpgradeMinorVersion\": true,\r\n                    \"settings\": {\r\n                      \"ModulesUrl\": \"[uri(parameters('_artifactsLocation'),concat('DSC/Configuration.zip', parameters('_artifactsLocationSasToken')))]\",\r\n                      \"ConfigurationFunction\": \"Configuration.ps1\\\\Gateway\",\r\n                      \"properties\": {\r\n                        \"DomainName\": \"[parameters('adDomainName')]\",\r\n                        \"AdminCreds\": {\r\n                          \"UserName\": \"[parameters('adminUsername')]\",\r\n                          \"Password\": \"PrivateSettingsRef:AdminPassword\"\r\n                        }\r\n                      }\r\n                    },\r\n                    \"protectedSettings\": {\r\n                      \"Items\": {\r\n                        \"AdminPassword\": \"[parameters('adminPassword')]\"\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              ]\r\n            },\r\n            {\r\n              \"apiVersion\": \"2020-06-01\",\r\n              \"type\": \"Microsoft.Compute/virtualMachines\",\r\n              \"name\": \"[concat(parameters('rdshNamingPrefix'), copyindex())]\",\r\n              \"location\": \"[parameters('location')]\",\r\n              \"copy\": {\r\n                \"name\": \"rdsh-vm-loop\",\r\n                \"count\": \"[parameters('numberOfRdshInstances')]\"\r\n              },\r\n              \"dependsOn\": [\r\n                \"[resourceId('Microsoft.Compute/availabilitySets', concat(parameters('rdshNamingPrefix'), 'availabilityset'))]\",\r\n                \"[resourceId('Microsoft.Network/networkInterfaces', concat(parameters('rdshNamingPrefix'), copyindex(), '-nic'))]\"\r\n              ],\r\n              \"properties\": {\r\n                \"hardwareProfile\": {\r\n                  \"vmSize\": \"[parameters('rdshVmSize')]\"\r\n                },\r\n                \"availabilitySet\": {\r\n                  \"id\": \"[resourceId('Microsoft.Compute/availabilitySets', concat(parameters('rdshNamingPrefix'), 'availabilityset'))]\"\r\n                },\r\n                \"osProfile\": {\r\n                  \"computerName\": \"[concat(parameters('rdshNamingPrefix'), copyIndex())]\",\r\n                  \"adminUsername\": \"[parameters('adminUsername')]\",\r\n                  \"adminPassword\": \"[parameters('adminPassword')]\"\r\n                },\r\n                \"storageProfile\": {\r\n                  \"imageReference\": {\r\n                    \"publisher\": \"[variables('imagePublisher')]\",\r\n                    \"offer\": \"[variables('imageOffer')]\",\r\n                    \"sku\": \"[parameters('imageSKU')]\",\r\n                    \"version\": \"latest\"\r\n                  },\r\n                  \"osDisk\": {\r\n                    \"name\": \"[concat(parameters('rdshNamingPrefix'), copyIndex(),'-OSDisk')]\",\r\n                    \"caching\": \"ReadWrite\",\r\n                    \"createOption\": \"FromImage\",\r\n                    \"managedDisk\": {\r\n                      \"storageAccountType\": \"StandardSSD_LRS\"\r\n                    }\r\n                  }\r\n                },\r\n                \"networkProfile\": {\r\n                  \"networkInterfaces\": [\r\n                    {\r\n                      \"id\": \"[resourceId('Microsoft.Network/networkInterfaces', concat(parameters('rdshNamingPrefix'), copyindex(), '-nic'))]\"\r\n                    }\r\n                  ]\r\n                }\r\n              },\r\n              \"resources\": [\r\n                {\r\n                  \"apiVersion\": \"2020-06-01\",\r\n                  \"type\": \"Microsoft.Compute/virtualMachines/extensions\",\r\n                  \"name\": \"[concat(parameters('rdshNamingPrefix'), copyindex(),'/sessionhost')]\",\r\n                  \"location\": \"[parameters('location')]\",\r\n                  \"dependsOn\": [\r\n                    \"[resourceId('Microsoft.Compute/virtualMachines', concat(parameters('rdshNamingPrefix'), copyindex()))]\"\r\n                  ],\r\n                  \"properties\": {\r\n                    \"publisher\": \"Microsoft.Powershell\",\r\n                    \"type\": \"DSC\",\r\n                    \"typeHandlerVersion\": \"2.11\",\r\n                    \"autoUpgradeMinorVersion\": true,\r\n                    \"settings\": {\r\n                      \"ModulesUrl\": \"[uri(parameters('_artifactsLocation'),concat('DSC/Configuration.zip', parameters('_artifactsLocationSasToken')))]\",\r\n                      \"ConfigurationFunction\": \"Configuration.ps1\\\\SessionHost\",\r\n                      \"Properties\": {\r\n                        \"DomainName\": \"[parameters('adDomainName')]\",\r\n                        \"AdminCreds\": {\r\n                          \"UserName\": \"[parameters('adminUsername')]\",\r\n                          \"Password\": \"PrivateSettingsRef:AdminPassword\"\r\n                        }\r\n                      }\r\n                    },\r\n                    \"protectedSettings\": {\r\n                      \"Items\": {\r\n                        \"AdminPassword\": \"[parameters('adminPassword')]\"\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              ]\r\n            },\r\n            {\r\n              \"apiVersion\": \"2020-06-01\",\r\n              \"type\": \"Microsoft.Compute/virtualMachines\",\r\n              \"name\": \"cb-vm\",\r\n              \"location\": \"[parameters('location')]\",\r\n              \"dependsOn\": [\r\n                \"[resourceId('Microsoft.Compute/availabilitySets', 'cb-availabilityset')]\",\r\n                \"[resourceId('Microsoft.Network/networkInterfaces', 'cb-nic')]\",\r\n                \"rdsh-vm-loop\"\r\n              ],\r\n              \"properties\": {\r\n                \"hardwareProfile\": {\r\n                  \"vmSize\": \"[parameters('rdshVmSize')]\"\r\n                },\r\n                \"availabilitySet\": {\r\n                  \"id\": \"[resourceId('Microsoft.Compute/availabilitySets', 'cb-availabilityset')]\"\r\n                },\r\n                \"osProfile\": {\r\n                  \"computerName\": \"broker\",\r\n                  \"adminUsername\": \"[parameters('adminUsername')]\",\r\n                  \"adminPassword\": \"[parameters('adminPassword')]\"\r\n                },\r\n                \"storageProfile\": {\r\n                  \"imageReference\": {\r\n                    \"publisher\": \"[variables('imagePublisher')]\",\r\n                    \"offer\": \"[variables('imageOffer')]\",\r\n                    \"sku\": \"[parameters('imageSKU')]\",\r\n                    \"version\": \"latest\"\r\n                  },\r\n                  \"osDisk\": {\r\n                    \"name\": \"cb_OSDisk\",\r\n                    \"caching\": \"ReadWrite\",\r\n                    \"createOption\": \"FromImage\",\r\n                    \"managedDisk\": {\r\n                      \"storageAccountType\": \"StandardSSD_LRS\"\r\n                    }\r\n                  }\r\n                },\r\n                \"networkProfile\": {\r\n                  \"networkInterfaces\": [\r\n                    {\r\n                      \"id\": \"[resourceId('Microsoft.Network/networkInterfaces','cb-nic')]\"\r\n                    }\r\n                  ]\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Compute/virtualMachines/extensions\",\r\n              \"name\": \"cb-vm/rdsdeployment\",\r\n              \"apiVersion\": \"2020-06-01\",\r\n              \"location\": \"[parameters('location')]\",\r\n              \"dependsOn\": [\r\n                \"[resourceId('Microsoft.Compute/virtualMachines', 'cb-vm')]\",\r\n                \"[resourceId('Microsoft.Compute/virtualMachines/extensions', 'gw-vm', 'gateway')]\",\r\n                \"rdsh-vm-loop\"\r\n              ],\r\n              \"properties\": {\r\n                \"publisher\": \"Microsoft.Powershell\",\r\n                \"type\": \"DSC\",\r\n                \"typeHandlerVersion\": \"2.11\",\r\n                \"autoUpgradeMinorVersion\": true,\r\n                \"settings\": {\r\n                  \"ModulesUrl\": \"[uri(parameters('_artifactsLocation'),concat('DSC/Configuration.zip', parameters('_artifactsLocationSasToken')))]\",\r\n                  \"configurationFunction\": \"Configuration.ps1\\\\RDSDeployment\",\r\n                  \"properties\": {\r\n                    \"adminCreds\": {\r\n                      \"UserName\": \"[parameters('adminUsername')]\",\r\n                      \"Password\": \"PrivateSettingsRef:adminPassword\"\r\n                    },\r\n                    \"connectionBroker\": \"[concat('broker.',parameters('adDomainName'))]\",\r\n                    \"domainName\": \"[parameters('adDomainName')]\",\r\n                    \"externalfqdn\": \"[reference(variables('gatewayPublicIpAddressName')).dnsSettings.fqdn]\",\r\n                    \"numberOfRdshInstances\": \"[parameters('numberOfRdshInstances')]\",\r\n                    \"sessionHostNamingPrefix\": \"[parameters('rdshNamingPrefix')]\",\r\n                    \"webAccessServer\": \"[concat('gateway.',parameters('adDomainName'))]\"\r\n                  }\r\n                },\r\n                \"protectedSettings\": {\r\n                  \"Items\": {\r\n                    \"adminPassword\": \"[parameters('adminPassword')]\"\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"DeploymentStackDeploymentFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"InvalidTemplate\",\r\n                  \"message\": \"Deployment template validation failed: 'The template resource 'dnsLabelPrefix' at line '8' and column '27' is not valid: The template function 'RESOURCEGROUP' is not expected at this location. Please see https://aka.ms/arm-template-expressions for usage details.. Please see https://aka.ms/arm-template-expressions for usage details.'.\",\r\n                  \"details\": [],\r\n                  \"additionalInfo\": [\r\n                    {\r\n                      \"type\": \"TemplateViolation\",\r\n                      \"info\": {\r\n                        \"lineNumber\": 8,\r\n                        \"linePosition\": 27,\r\n                        \"path\": \"properties.template.parameters.dnsLabelPrefix\"\r\n                      }\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"fitopata@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-17T22:00:21.3463894Z\",\r\n        \"lastModifiedBy\": \"fitopata@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-17T22:00:21.3463894Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/filiz-test-stack9\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"filiz-test-stack9\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"DeploymentStackDeploymentFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"AuthorizationFailed\",\r\n                  \"message\": \"The client 'harshpatel@microsoft.com' with object id '2d79a9af-9d95-4170-89e0-efab097c7daf' does not have authorization to perform action 'Microsoft.Resources/deployments/write' over scope '/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321' or the scope is invalid. If access was recently granted, please refresh your credentials.\",\r\n                  \"details\": [],\r\n                  \"additionalInfo\": []\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-20T19:48:19.4198449Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-20T19:48:19.4198449Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-get-deployment-stack-subscriptionx372y3tmwlenjxtfjj\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-get-deployment-stack-subscriptionx372y3tmwlenjxtfjj\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-get-deployment-stack-subscriptionbn7htjhcjochcfslei/snapshots/2021-09-20-20-51-37-6d840\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-get-deployment-stack-subscrip-2021-09-20-20-51-37-6d840\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-20T20:51:35.6106822Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-20T20:51:35.6106822Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-get-deployment-stack-subscriptionbn7htjhcjochcfslei\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-get-deployment-stack-subscriptionbn7htjhcjochcfslei\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-get-deployment-stack-subscriptionp456bhvimha6sx6sh2/snapshots/2021-09-20-21-05-42-d1951\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-get-deployment-stack-subscrip-2021-09-20-21-05-42-d1951\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-20T21:05:40.8310162Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-20T21:05:40.8310162Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-get-deployment-stack-subscriptionp456bhvimha6sx6sh2\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-get-deployment-stack-subscriptionp456bhvimha6sx6sh2\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/lollllllllll/snapshots/2021-09-20-21-12-37-d55bb\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/lollllllllll-2021-09-20-21-12-37-d55bb\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-20T21:12:35.6680098Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-20T21:12:35.6680098Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/lollllllllll\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"lollllllllll\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscriptionq5aopyqtlorpo5wj2/snapshots/2021-09-20-21-36-06-92078\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-list-deployment-stack-subscri-2021-09-20-21-36-06-92078\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-20T21:36:04.5554974Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-20T21:36:04.5554974Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscriptionq5aopyqtlorpo5wj2\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-list-deployment-stack-subscriptionq5aopyqtlorpo5wj2\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscriptiontpcvphs5afbqe3mzv/snapshots/2021-09-20-21-40-18-c95d5\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-list-deployment-stack-subscri-2021-09-20-21-40-18-c95d5\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-20T21:40:16.9285842Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-20T21:40:16.9285842Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscriptiontpcvphs5afbqe3mzv\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-list-deployment-stack-subscriptiontpcvphs5afbqe3mzv\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscriptionp3hbkle7xzthh6xlt/snapshots/2021-09-20-21-42-53-6c05c\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-list-deployment-stack-subscri-2021-09-20-21-42-53-6c05c\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-20T21:42:52.0782141Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-20T21:42:52.0782141Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscriptionp3hbkle7xzthh6xlt\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-list-deployment-stack-subscriptionp3hbkle7xzthh6xlt\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscriptionewmqzzykasnctmxw2/snapshots/2021-09-21-16-46-16-5b7d4\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-list-deployment-stack-subscri-2021-09-21-16-46-16-5b7d4\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-21T16:46:13.0543587Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-21T16:46:13.0543587Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscriptionewmqzzykasnctmxw2\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-list-deployment-stack-subscriptionewmqzzykasnctmxw2\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscriptionkpy73ror6yqiqpb7w/snapshots/2021-09-21-16-48-03-0ab48\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-list-deployment-stack-subscri-2021-09-21-16-48-03-0ab48\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-21T16:48:00.0416885Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-21T16:48:00.0416885Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscriptionkpy73ror6yqiqpb7w\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-list-deployment-stack-subscriptionkpy73ror6yqiqpb7w\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-get-deployment-stack-subscriptionrufrlzqfdg5636ne7e/snapshots/2021-09-23-13-58-27-acca5\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-get-deployment-stack-subscrip-2021-09-23-13-58-27-acca5\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-23T13:58:19.9106289Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-23T13:58:19.9106289Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-get-deployment-stack-subscriptionrufrlzqfdg5636ne7e\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-get-deployment-stack-subscriptionrufrlzqfdg5636ne7e\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscriptionx36hhowd5zxoz6ws5/snapshots/2021-09-23-14-09-33-d376f\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-list-deployment-stack-subscri-2021-09-23-14-09-33-d376f\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-23T14:09:26.2162792Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-23T14:09:26.2162792Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscriptionx36hhowd5zxoz6ws5\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-list-deployment-stack-subscriptionx36hhowd5zxoz6ws5\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscriptionguk6suy7zpzbwvs5v/snapshots/2021-09-23-14-11-05-a320b\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-list-deployment-stack-subscri-2021-09-23-14-11-05-a320b\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-23T14:10:56.9901386Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-23T14:10:56.9901386Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscriptionguk6suy7zpzbwvs5v\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-list-deployment-stack-subscriptionguk6suy7zpzbwvs5v\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscriptionjjk7y2qhtapjwdetg/snapshots/2021-09-23-14-14-24-ff660\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-list-deployment-stack-subscri-2021-09-23-14-14-24-ff660\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-23T14:14:16.6982424Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-23T14:14:16.6982424Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscriptionjjk7y2qhtapjwdetg\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-list-deployment-stack-subscriptionjjk7y2qhtapjwdetg\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscriptionpqi57y634sx5hd67b/snapshots/2021-09-23-14-19-04-42851\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-list-deployment-stack-subscri-2021-09-23-14-19-04-42851\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-23T14:18:57.6431545Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-23T14:18:57.6431545Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscriptionpqi57y634sx5hd67b\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-list-deployment-stack-subscriptionpqi57y634sx5hd67b\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscriptionthdkysq5afynpyqfb/snapshots/2021-09-23-14-28-42-f95c7\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-list-deployment-stack-subscri-2021-09-23-14-28-42-f95c7\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-23T14:28:35.7385575Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-23T14:28:35.7385575Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscriptionthdkysq5afynpyqfb\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-list-deployment-stack-subscriptionthdkysq5afynpyqfb\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscription4vrojotwcmtb7f2bi/snapshots/2021-09-23-15-36-34-a3232\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-list-deployment-stack-subscri-2021-09-23-15-36-34-a3232\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-23T15:36:25.6807389Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-23T15:36:25.6807389Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscription4vrojotwcmtb7f2bi\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-list-deployment-stack-subscription4vrojotwcmtb7f2bi\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hp_bb_50/snapshots/2021-09-27-20-33-01-516ff\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeededWithFailures\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-27T20:32:39.4217317Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-09-27T20:32:39.4217317Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hp_bb_50\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hp_bb_50\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hptest2/snapshots/2021-10-01-14-14-35-64eb8\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeededWithFailures\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-09-30T16:50:53.0934702Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-10-01T14:14:15.7887316Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hptest2\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hptest2\"\r\n    },\r\n    {\r\n      \"location\": \"eastus\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/mySubStack/snapshots/2022-04-05-16-18-49-03cef\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"parameters\": {},\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\"\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed. See snapshot '/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/mySubStack/snapshots/2022-04-05-16-18-49-03cef' for more details.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"InvalidRequestContent\",\r\n              \"message\": \"The request content was invalid and could not be deserialized: 'Required property 'contentVersion' not found in JSON. Path 'properties.template', line 6, position 5.'.\",\r\n              \"details\": [],\r\n              \"additionalInfo\": []\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-02-01T21:35:50.3861621Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-04-05T16:18:48.6659545Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/mySubStack\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"mySubStack\"\r\n    },\r\n    {\r\n      \"location\": \"eastus\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hpone/snapshots/2022-04-05-17-29-24-64a9d\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"parameters\": {},\r\n        \"templateLink\": {\r\n          \"uri\": \"https://hpstorageaccount1000.blob.core.windows.net/hpcontainer/simpletemplat\"\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed. See snapshot '/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hpone/snapshots/2022-04-05-17-29-24-64a9d' for more details.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"InvalidContentLink\",\r\n              \"message\": \"Unable to download deployment content from 'https://hpstorageaccount1000.blob.core.windows.net/hpcontainer/simpletemplat'. The tracking Id is '236c6ae3-acd8-43c3-b27b-9dcf44e35d59'. Please see https://aka.ms/arm-deploy for usage details.\",\r\n              \"details\": [],\r\n              \"additionalInfo\": []\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-04-05T16:27:38.5417212Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-04-05T17:29:23.9447321Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hpone\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hpone\"\r\n    },\r\n    {\r\n      \"location\": \"eastus\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hp22/snapshots/2022-04-21-18-58-44-1f2ca\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"parameters\": {},\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\"\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of the deploymentStack failed. See snapshot '/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hp22/snapshots/2022-04-21-18-58-44-1f2ca' for more details.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"InvalidRequestContent\",\r\n              \"message\": \"The request content was invalid and could not be deserialized: 'Required property 'contentVersion' not found in JSON. Path 'properties.template', line 6, position 5.'.\",\r\n              \"details\": [],\r\n              \"additionalInfo\": []\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-04-18T20:23:06.5444995Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-04-21T18:58:43.6542461Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hp22\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hp22\"\r\n    },\r\n    {\r\n      \"location\": \"westcentralus\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hp-shared-services/snapshots/2022-01-21-20-25-54-d3fe4\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"description\": \"shared sql and web\",\r\n        \"templateLink\": {\r\n          \"uri\": \"C:\\\\Users\\\\harshpatel\\\\Misc\\\\TemplateFiles\\\\empty.json\"\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed. See snapshot '/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hp-shared-services/snapshots/2022-01-21-20-25-54-d3fe4' for more details.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"InvalidContentLink\",\r\n              \"message\": \"The provided content link 'Azure.Deployments.Core.Entities.DeploymentTemplateContentLink' is invalid or not supported. Content link must be an absolute URI not referencing local host or UNC path.\",\r\n              \"details\": [],\r\n              \"additionalInfo\": []\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-01-21T20:06:54.3715401Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-01-21T20:25:54.1835862Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hp-shared-services\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hp-shared-services\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-subscription3mvfn2m64rncsvh/snapshots/2021-10-01-13-58-30-2aed4\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeededWithFailures\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-10-01T13:57:41.1847322Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-10-01T13:57:41.1847322Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-subscription3mvfn2m64rncsvh\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-create-deployment-stack-subscription3mvfn2m64rncsvh\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-subscriptionr2b7gps6mqwzwxg/snapshots/2021-10-01-14-07-52-4aca1\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeededWithFailures\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-10-01T14:07:15.4046137Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-10-01T14:07:15.4046137Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-subscriptionr2b7gps6mqwzwxg\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-create-deployment-stack-subscriptionr2b7gps6mqwzwxg\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hp2_bb_50/snapshots/2021-11-05-16-55-41-e4b25\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/hp2_bb_50-2021-11-05-16-55-41-e4b25\",\r\n        \"parameters\": {\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          },\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-05T16:55:41.0189076Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-05T16:55:41.0189076Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hp2_bb_50\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hp2_bb_50\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hp_df_1/snapshots/2021-10-11-16-25-13-8faf0\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeededWithFailures\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-10-04T16:26:50.5947681Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-10-11T16:24:03.7631746Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hp_df_1\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hp_df_1\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"templateLink\": {\r\n          \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/cli_test_deployment_stacks35jzerqghlxs6t25f7sgeo3mg47vhx7blxsffr4twrtt2wqfh/providers/Microsoft.Resources/templateSpecs/cli-test-template-specnvhjdhzrakkbsok5zx7qzqotfml5msqbgpcecp/versions/v1/versions/v1\"\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"DeploymentStackDeploymentFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"InvalidTemplateSpec\",\r\n                  \"message\": \"The template link ID '/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/cli_test_deployment_stacks35jzerqghlxs6t25f7sgeo3mg47vhx7blxsffr4twrtt2wqfh/providers/Microsoft.Resources/templateSpecs/cli-test-template-specnvhjdhzrakkbsok5zx7qzqotfml5msqbgpcecp/versions/v1/versions/v1' is not a valid template spec version. Please see https://aka.ms/arm-template for usage details.\",\r\n                  \"details\": [],\r\n                  \"additionalInfo\": []\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-10-18T14:37:19.2142448Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-10-18T14:37:19.2142448Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-subscription4prufmvnho2jfjl\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-create-deployment-stack-subscription4prufmvnho2jfjl\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hp_prod_sub_create/snapshots/2021-11-17-20-45-56-90d18\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/hp_prod_sub_create-2021-11-17-20-45-56-90d18\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-05T14:25:40.0202065Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-17T20:45:56.782397Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hp_prod_sub_create\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hp_prod_sub_create\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"templateLink\": {\r\n          \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/cli_test_deployment_stacksbivxu37ndb4tvejilvp63yzfosdccbk4ls6jt24gm5dzslijo/providers/Microsoft.Resources/templateSpecs/cli-test-template-specoujjg46knuthvu6udgbdf45rslcbhf3f2h7ya2/versions/v1/versions/v1\"\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"DeploymentStackDeploymentFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"InvalidTemplateSpec\",\r\n                  \"message\": \"The template link ID '/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/cli_test_deployment_stacksbivxu37ndb4tvejilvp63yzfosdccbk4ls6jt24gm5dzslijo/providers/Microsoft.Resources/templateSpecs/cli-test-template-specoujjg46knuthvu6udgbdf45rslcbhf3f2h7ya2/versions/v1/versions/v1' is not a valid template spec version. Please see https://aka.ms/arm-template for usage details.\",\r\n                  \"details\": [],\r\n                  \"additionalInfo\": []\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-10-18T14:41:02.4356082Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-10-18T14:41:02.4356082Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-subscriptionhlc4qs7c5exp7o3\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-create-deployment-stack-subscriptionhlc4qs7c5exp7o3\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptiona2fsaz/snapshots/2021-10-18-15-03-31-6de98\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-10-18-15-03-31-6de98\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-10-18T15:01:33.1770554Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-10-18T15:03:30.7704565Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptiona2fsaz\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptiona2fsaz\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscription4mqjir/snapshots/2021-10-18-15-08-45-d31ac\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-10-18-15-08-45-d31ac\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-10-18T15:07:17.9213523Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-10-18T15:08:18.4975412Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscription4mqjir\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscription4mqjir\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps3086/snapshots/2021-10-19-16-45-55-7b78d\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps3086-2021-10-19-16-45-55-7b78d\",\r\n        \"parameters\": {},\r\n        \"templateLink\": {\r\n          \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps4478/providers/Microsoft.Resources/templateSpecs/ps4103/versions/v1\"\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18122\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-10-19T16:45:54.3518991Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-10-19T16:45:54.3518991Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps3086\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps3086\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps1836/snapshots/2021-10-19-16-52-31-5f56a\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps1836-2021-10-19-16-52-31-5f56a\",\r\n        \"parameters\": {},\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18122\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-10-19T16:52:30.9693468Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-10-19T16:52:30.9693468Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps1836\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps1836\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps6074/snapshots/2021-10-19-17-06-24-0725f\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps6074-2021-10-19-17-06-24-0725f\",\r\n        \"parameters\": {},\r\n        \"templateLink\": {\r\n          \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps2020/providers/Microsoft.Resources/templateSpecs/ps6264/versions/v1\"\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18122\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-10-19T17:06:23.7002099Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-10-19T17:06:23.7002099Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps6074\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps6074\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps175-2021-10-19-17-12-30-13a35\",\r\n        \"parameters\": {\r\n          \"workerSize\": {\r\n            \"value\": 0\r\n          },\r\n          \"hostingPlanName\": {\r\n            \"value\": \"xDeploymentTestHost26669\"\r\n          },\r\n          \"sku\": {\r\n            \"value\": \"Basic\"\r\n          },\r\n          \"siteLocation\": {\r\n            \"value\": \"East US\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"http://schema.management.azure.com/schemas/2014-04-01-preview/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"hostingPlanName\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"siteLocation\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"sku\": {\r\n              \"type\": \"string\",\r\n              \"allowedValues\": [\r\n                \"Free\",\r\n                \"Shared\",\r\n                \"Basic\",\r\n                \"Standard\"\r\n              ],\r\n              \"defaultValue\": \"Free\"\r\n            },\r\n            \"workerSize\": {\r\n              \"type\": \"int\",\r\n              \"allowedValues\": [\r\n                0,\r\n                1,\r\n                2\r\n              ],\r\n              \"defaultValue\": 0\r\n            }\r\n          },\r\n          \"resources\": [\r\n            {\r\n              \"apiVersion\": \"2014-04-01\",\r\n              \"name\": \"[parameters('hostingPlanName')]\",\r\n              \"type\": \"Microsoft.Web/serverfarms\",\r\n              \"location\": \"[parameters('siteLocation')]\",\r\n              \"properties\": {\r\n                \"name\": \"[parameters('hostingPlanName')]\",\r\n                \"sku\": \"[parameters('sku')]\",\r\n                \"workerSize\": \"[parameters('workerSize')]\",\r\n                \"numberOfWorkers\": 1\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"DeploymentStackDeploymentFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"DeploymentFailed\",\r\n                  \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\",\r\n                  \"details\": [\r\n                    {\r\n                      \"code\": \"ResourceNotFound\",\r\n                      \"message\": \"The Resource 'Microsoft.Web/serverFarms/xDeploymentTestHost26669' under resource group '<null>' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix\"\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-10-19T17:12:29.3345984Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-10-19T17:12:29.3345984Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps175\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps175\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps4274/snapshots/2021-10-19-17-15-01-bf8cf\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps4274-2021-10-19-17-15-01-bf8cf\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"templateLink\": {\r\n          \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps7420/providers/Microsoft.Resources/templateSpecs/ps3580/versions/v1\"\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-10-19T17:14:49.4351416Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-10-19T17:15:01.180634Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps4274\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps4274\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps1583/snapshots/2021-10-19-17-19-07-a7ceb\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps1583-2021-10-19-17-19-07-a7ceb\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-10-19T17:18:25.7212979Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-10-19T17:19:07.1648963Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps1583\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps1583\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps1867/snapshots/2021-10-19-17-19-47-c2408\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps1867-2021-10-19-17-19-47-c2408\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-10-19T17:19:46.7570435Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-10-19T17:19:46.7570435Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps1867\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps1867\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps437/snapshots/2021-10-19-17-20-07-b9cb3\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps437-2021-10-19-17-20-07-b9cb3\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-10-19T17:20:06.8260216Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-10-19T17:20:06.8260216Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps437\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps437\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps3906/snapshots/2021-10-19-17-24-02-c7d1e\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps3906-2021-10-19-17-24-02-c7d1e\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-10-19T17:23:50.912183Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-10-19T17:24:02.5159965Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps3906\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps3906\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps781/snapshots/2021-10-19-17-31-31-e074b\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps781-2021-10-19-17-31-31-e074b\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-10-19T17:30:54.8199045Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-10-19T17:31:31.5117985Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps781\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps781\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps5796/snapshots/2021-10-19-17-32-20-2861b\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps5796-2021-10-19-17-32-20-2861b\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-10-19T17:32:19.6402071Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-10-19T17:32:19.6402071Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps5796\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps5796\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps5420/snapshots/2021-10-19-17-32-38-34362\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps5420-2021-10-19-17-32-38-34362\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-10-19T17:32:37.6073194Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-10-19T17:32:37.6073194Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps5420\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps5420\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps3205/snapshots/2021-10-19-17-40-19-0072a\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps3205-2021-10-19-17-40-19-0072a\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-10-19T17:40:18.9660861Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-10-19T17:40:18.9660861Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps3205\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps3205\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps4696/snapshots/2021-10-19-17-41-14-f8cda\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps4696-2021-10-19-17-41-14-f8cda\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-10-19T17:41:13.3903692Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-10-19T17:41:13.3903692Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps4696\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps4696\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionbfgagz/snapshots/2021-10-21-13-54-08-2b923\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-10-21-13-54-08-2b923\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-10-21T13:53:05.5338226Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-10-21T13:54:07.7508046Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionbfgagz\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionbfgagz\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionjyw5ut/snapshots/2021-10-21-14-48-03-88639\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-10-21-14-48-03-88639\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-10-21T14:47:02.3811951Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-10-21T14:48:02.5162767Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionjyw5ut\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionjyw5ut\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionb2aqz7/snapshots/2021-10-27-15-26-45-2c28d\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-10-27-15-26-45-2c28d\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-10-27T15:25:42.4421091Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-10-27T15:26:44.5347824Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionb2aqz7\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionb2aqz7\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/shouldnotexist/snapshots/2021-11-01-16-25-26-833dd\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/shouldnotexist-2021-11-01-16-25-26-833dd\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-10-29T18:41:02.8192804Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-01T16:25:25.8944733Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/shouldnotexist\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"shouldnotexist\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-subscription56r32mivz7ic36w/snapshots/2021-10-29-17-19-25-1c304\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-create-deployment-stack-subsc-2021-10-29-17-19-25-1c304\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-10-29T17:19:25.0094772Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-10-29T17:19:25.0094772Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-subscription56r32mivz7ic36w\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-create-deployment-stack-subscription56r32mivz7ic36w\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionpj6t3z/snapshots/2021-10-29-17-28-02-94702\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-10-29-17-28-02-94702\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-10-29T17:27:42.3445727Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-10-29T17:28:01.9714966Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionpj6t3z\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionpj6t3z\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-subscriptioni4b323umyy3k574/snapshots/2021-10-29-17-27-43-a68dd\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-subsc-2021-10-29-17-27-43-a68dd\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-10-29T17:27:42.8855732Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-10-29T17:27:42.8855732Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-subscriptioni4b323umyy3k574\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-subscriptioni4b323umyy3k574\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-snapshot-subscriptionpojm5de5/snapshots/2021-10-29-17-28-06-2533f\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-list-deployment-stack-snapsho-2021-10-29-17-28-06-2533f\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-10-29T17:28:06.3731401Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-10-29T17:28:06.3731401Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-snapshot-subscriptionpojm5de5\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-list-deployment-stack-snapshot-subscriptionpojm5de5\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscriptionyjeko7ve3l36w3v6h/snapshots/2021-10-29-17-28-09-31c8c\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-list-deployment-stack-subscri-2021-10-29-17-28-09-31c8c\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-10-29T17:28:09.2279775Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-10-29T17:28:09.2279775Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscriptionyjeko7ve3l36w3v6h\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-list-deployment-stack-subscriptionyjeko7ve3l36w3v6h\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-snapshot-subscriptionfsl2g3jp/snapshots/2021-10-29-17-42-24-2f8ab\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-list-deployment-stack-snapsho-2021-10-29-17-42-24-2f8ab\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-10-29T17:42:23.4565657Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-10-29T17:42:23.4565657Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-snapshot-subscriptionfsl2g3jp\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-list-deployment-stack-snapshot-subscriptionfsl2g3jp\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscriptionphx6bp5e4tel4fwla/snapshots/2021-10-29-17-42-24-0564d\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-list-deployment-stack-subscri-2021-10-29-17-42-24-0564d\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-10-29T17:42:24.0694861Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-10-29T17:42:24.0694861Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscriptionphx6bp5e4tel4fwla\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-list-deployment-stack-subscriptionphx6bp5e4tel4fwla\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionnu2d3d/snapshots/2021-10-29-17-42-32-63c5a\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-10-29-17-42-32-63c5a\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-10-29T17:42:31.3859118Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-10-29T17:42:31.3859118Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionnu2d3d\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionnu2d3d\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionowqqhr/snapshots/2021-10-29-17-45-19-16e68\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-10-29-17-45-19-16e68\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-10-29T17:44:59.3519432Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-10-29T17:45:19.3365624Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionowqqhr\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionowqqhr\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-subscription7uldyssruansxuj/snapshots/2021-10-29-17-45-02-64560\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-subsc-2021-10-29-17-45-02-64560\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-10-29T17:45:02.0061035Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-10-29T17:45:02.0061035Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-subscription7uldyssruansxuj\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-subscription7uldyssruansxuj\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-snapshot-subscriptionjx6cmmgp/snapshots/2021-10-29-17-45-24-f4ace\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-list-deployment-stack-snapsho-2021-10-29-17-45-24-f4ace\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-10-29T17:45:23.4694512Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-10-29T17:45:23.4694512Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-snapshot-subscriptionjx6cmmgp\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-list-deployment-stack-snapshot-subscriptionjx6cmmgp\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-get-deployment-stack-subscriptionsbjahxgudnqrgvihgq/snapshots/2021-10-29-17-45-32-133fc\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-get-deployment-stack-subscrip-2021-10-29-17-45-32-133fc\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-10-29T17:45:31.4559907Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-10-29T17:45:31.4559907Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-get-deployment-stack-subscriptionsbjahxgudnqrgvihgq\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-get-deployment-stack-subscriptionsbjahxgudnqrgvihgq\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscriptionnxupp5ejzazb2rb7i/snapshots/2021-10-29-17-45-32-e6c58\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-list-deployment-stack-subscri-2021-10-29-17-45-32-e6c58\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-10-29T17:45:31.392848Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-10-29T17:45:31.392848Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscriptionnxupp5ejzazb2rb7i\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-list-deployment-stack-subscriptionnxupp5ejzazb2rb7i\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscription2itu4q/snapshots/2021-10-29-17-56-19-4e06e\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-10-29-17-56-19-4e06e\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-10-29T17:55:17.899007Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-10-29T17:56:19.0801133Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscription2itu4q\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscription2itu4q\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptiony7lebm/snapshots/2021-10-29-18-53-09-45891\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-10-29-18-53-09-45891\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-10-29T18:52:08.0432709Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-10-29T18:53:08.8891818Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptiony7lebm\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptiony7lebm\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscription3p34wp/snapshots/2021-11-01-15-20-30-c3f89\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-11-01-15-20-30-c3f89\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-01T15:19:26.5294367Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-01T15:20:30.1078116Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscription3p34wp\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscription3p34wp\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hpts1/snapshots/2021-11-05-14-45-36-2ba95\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/hpts1-2021-11-05-14-45-36-2ba95\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"templateLink\": {\r\n          \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/harshpatel/providers/Microsoft.Resources/templateSpecs/hp_ts_1/versions/v1\"\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-01T16:26:23.8125615Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-05T14:45:36.2610103Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hpts1\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hpts1\"\r\n    },\r\n    {\r\n      \"location\": \"westus\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"purgeResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/repro-2021-11-02-15-13-51-7e792\",\r\n        \"parameters\": {},\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2018-05-01/subscriptionDeploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"metadata\": {\r\n            \"_generator\": {\r\n              \"name\": \"bicep\",\r\n              \"version\": \"0.4.1008.15138\",\r\n              \"templateHash\": \"9792940981470365642\"\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {\r\n            \"websites\": [\r\n              {\r\n                \"name\": \"fancy\",\r\n                \"tag\": \"latest\"\r\n              },\r\n              {\r\n                \"name\": \"plain\",\r\n                \"tag\": \"plain-text\"\r\n              }\r\n            ]\r\n          },\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"apiVersion\": \"2020-06-01\",\r\n              \"name\": \"adotfrank-rg\",\r\n              \"location\": \"[deployment().location]\"\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"apiVersion\": \"2020-06-01\",\r\n              \"name\": \"appPlanDeploy\",\r\n              \"resourceGroup\": \"adotfrank-rg\",\r\n              \"properties\": {\r\n                \"expressionEvaluationOptions\": {\r\n                  \"scope\": \"inner\"\r\n                },\r\n                \"mode\": \"Incremental\",\r\n                \"parameters\": {\r\n                  \"namePrefix\": {\r\n                    \"value\": \"adotfrank\"\r\n                  }\r\n                },\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"metadata\": {\r\n                    \"_generator\": {\r\n                      \"name\": \"bicep\",\r\n                      \"version\": \"0.4.1008.15138\",\r\n                      \"templateHash\": \"3091021280087149250\"\r\n                    }\r\n                  },\r\n                  \"parameters\": {\r\n                    \"namePrefix\": {\r\n                      \"type\": \"string\"\r\n                    },\r\n                    \"sku\": {\r\n                      \"type\": \"string\",\r\n                      \"defaultValue\": \"B1\"\r\n                    }\r\n                  },\r\n                  \"functions\": [],\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Web/serverfarms\",\r\n                      \"apiVersion\": \"2020-06-01\",\r\n                      \"name\": \"mysite\",\r\n                      \"location\": \"[resourceGroup().location]\",\r\n                      \"kind\": \"linux\",\r\n                      \"sku\": {\r\n                        \"name\": \"[parameters('sku')]\"\r\n                      },\r\n                      \"properties\": {\r\n                        \"reserved\": true\r\n                      }\r\n                    }\r\n                  ],\r\n                  \"outputs\": {\r\n                    \"planId\": {\r\n                      \"type\": \"string\",\r\n                      \"value\": \"[resourceId('Microsoft.Web/serverfarms', format('{0}appPlan', parameters('namePrefix')))]\"\r\n                    }\r\n                  }\r\n                }\r\n              },\r\n              \"dependsOn\": [\r\n                \"[subscriptionResourceId('Microsoft.Resources/resourceGroups', 'adotfrank-rg')]\"\r\n              ]\r\n            },\r\n            {\r\n              \"copy\": {\r\n                \"name\": \"siteDeploy\",\r\n                \"count\": \"[length(variables('websites'))]\"\r\n              },\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"apiVersion\": \"2020-06-01\",\r\n              \"name\": \"[format('{0}siteDeploy', variables('websites')[copyIndex()].name)]\",\r\n              \"resourceGroup\": \"adotfrank-rg\",\r\n              \"properties\": {\r\n                \"expressionEvaluationOptions\": {\r\n                  \"scope\": \"inner\"\r\n                },\r\n                \"mode\": \"Incremental\",\r\n                \"parameters\": {\r\n                  \"appPlanId\": {\r\n                    \"value\": \"[reference(extensionResourceId(format('/subscriptions/{0}/resourceGroups/{1}', subscription().subscriptionId, 'adotfrank-rg'), 'Microsoft.Resources/deployments', 'appPlanDeploy'), '2020-06-01').outputs.planId.value]\"\r\n                  },\r\n                  \"namePrefix\": {\r\n                    \"value\": \"[variables('websites')[copyIndex()].name]\"\r\n                  },\r\n                  \"dockerImage\": {\r\n                    \"value\": \"nginxdemos/hello\"\r\n                  },\r\n                  \"dockerImageTag\": {\r\n                    \"value\": \"[variables('websites')[copyIndex()].tag]\"\r\n                  }\r\n                },\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"metadata\": {\r\n                    \"_generator\": {\r\n                      \"name\": \"bicep\",\r\n                      \"version\": \"0.4.1008.15138\",\r\n                      \"templateHash\": \"17373956428318857886\"\r\n                    }\r\n                  },\r\n                  \"parameters\": {\r\n                    \"namePrefix\": {\r\n                      \"type\": \"string\"\r\n                    },\r\n                    \"location\": {\r\n                      \"type\": \"string\",\r\n                      \"defaultValue\": \"[resourceGroup().location]\"\r\n                    },\r\n                    \"dockerImage\": {\r\n                      \"type\": \"string\"\r\n                    },\r\n                    \"dockerImageTag\": {\r\n                      \"type\": \"string\"\r\n                    },\r\n                    \"appPlanId\": {\r\n                      \"type\": \"string\"\r\n                    }\r\n                  },\r\n                  \"functions\": [],\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Web/sites\",\r\n                      \"apiVersion\": \"2020-06-01\",\r\n                      \"name\": \"[format('{0}site', parameters('namePrefix'))]\",\r\n                      \"location\": \"[parameters('location')]\",\r\n                      \"properties\": {\r\n                        \"siteConfig\": {\r\n                          \"appSettings\": [\r\n                            {\r\n                              \"name\": \"DOCKER_REGISTRY_SERVER_URL\",\r\n                              \"value\": \"https://index.docker.io\"\r\n                            },\r\n                            {\r\n                              \"name\": \"DOCKER_REGISTRY_SERVER_USERNAME\",\r\n                              \"value\": \"\"\r\n                            },\r\n                            {\r\n                              \"name\": \"DOCKER_REGISTRY_SERVER_PASSWORD\",\r\n                              \"value\": \"\"\r\n                            },\r\n                            {\r\n                              \"name\": \"WEBSITES_ENABLE_APP_SERVICE_STORAGE\",\r\n                              \"value\": \"false\"\r\n                            }\r\n                          ],\r\n                          \"linuxFxVersion\": \"[format('DOCKER|{0}:{1}', parameters('dockerImage'), parameters('dockerImageTag'))]\"\r\n                        },\r\n                        \"serverFarmId\": \"[parameters('appPlanId')]\"\r\n                      }\r\n                    }\r\n                  ],\r\n                  \"outputs\": {\r\n                    \"siteUrl\": {\r\n                      \"type\": \"string\",\r\n                      \"value\": \"[reference(resourceId('Microsoft.Web/sites', format('{0}site', parameters('namePrefix')))).hostNames[0]]\"\r\n                    }\r\n                  }\r\n                }\r\n              },\r\n              \"dependsOn\": [\r\n                \"[extensionResourceId(format('/subscriptions/{0}/resourceGroups/{1}', subscription().subscriptionId, 'adotfrank-rg'), 'Microsoft.Resources/deployments', 'appPlanDeploy')]\",\r\n                \"[subscriptionResourceId('Microsoft.Resources/resourceGroups', 'adotfrank-rg')]\"\r\n              ]\r\n            }\r\n          ],\r\n          \"outputs\": {\r\n            \"siteUrls\": {\r\n              \"type\": \"array\",\r\n              \"copy\": {\r\n                \"count\": \"[length(variables('websites'))]\",\r\n                \"input\": \"[reference(extensionResourceId(format('/subscriptions/{0}/resourceGroups/{1}', subscription().subscriptionId, 'adotfrank-rg'), 'Microsoft.Resources/deployments', format('{0}siteDeploy', variables('websites')[copyIndex()].name)), '2020-06-01').outputs.siteUrl.value]\"\r\n              }\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/adotfrank-rg/providers/Microsoft.Web/serverfarms/mysite\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/adotfrank-rg/providers/Microsoft.Web/serverfarms/mysite\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"DeploymentStackDeploymentFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"DeploymentFailed\",\r\n                  \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\",\r\n                  \"details\": [\r\n                    {\r\n                      \"code\": \"DeploymentFailed\",\r\n                      \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\"\r\n                    },\r\n                    {\r\n                      \"code\": \"DeploymentFailed\",\r\n                      \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\"\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"fitopata@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-02T15:02:38.9889696Z\",\r\n        \"lastModifiedBy\": \"fitopata@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-02T15:13:51.4211642Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/repro\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"repro\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionmbaje7/snapshots/2021-11-02-16-47-05-b613c\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-11-02-16-47-05-b613c\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-02T16:45:59.8209721Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-02T16:47:05.4842135Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionmbaje7\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionmbaje7\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionv2kamx/snapshots/2021-11-02-17-15-54-8a1cc\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-11-02-17-15-54-8a1cc\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-02T17:14:47.1456522Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-02T17:15:53.8410163Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionv2kamx\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionv2kamx\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionv7lkhp/snapshots/2021-11-03-14-36-55-0dd0a\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-11-03-14-36-55-0dd0a\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-03T14:35:51.3843559Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-03T14:36:55.445654Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionv7lkhp\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionv7lkhp\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionnsdzen/snapshots/2021-11-04-14-58-49-c5759\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-11-04-14-58-49-c5759\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-04T14:57:45.2338258Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-04T14:58:48.7272611Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionnsdzen\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionnsdzen\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptiongu3gks/snapshots/2021-11-04-15-10-05-118df\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-11-04-15-10-05-118df\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-04T15:09:02.03315Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-04T15:10:05.0413021Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptiongu3gks\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptiongu3gks\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionxyjf27/snapshots/2021-11-05-13-53-48-5597a\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-11-05-13-53-48-5597a\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-05T13:52:45.154655Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-05T13:53:48.4051267Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionxyjf27\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionxyjf27\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionn3qvsz/snapshots/2021-11-08-17-51-41-6eeb0\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-11-08-17-51-41-6eeb0\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-08T17:50:37.8777875Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-08T17:51:41.7610477Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionn3qvsz\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionn3qvsz\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps9271/snapshots/2021-11-11-22-18-03-98c08\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps9271-2021-11-11-22-18-03-98c08\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-11-11T22:16:44.9692359Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-11-11T22:18:02.6858472Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps9271\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps9271\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps4125/snapshots/2021-11-11-22-19-41-17735\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps4125-2021-11-11-22-19-41-17735\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"templateLink\": {\r\n          \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps7664/providers/Microsoft.Resources/templateSpecs/ps5253/versions/v1\"\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-11-11T22:19:13.5864143Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-11-11T22:19:41.4727654Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps4125\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps4125\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps6480/snapshots/2021-11-11-22-21-19-29234\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps6480-2021-11-11-22-21-19-29234\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-11-11T22:21:19.0918203Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-11-11T22:21:19.0918203Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps6480\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps6480\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps7927/snapshots/2021-11-11-22-21-54-25b10\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps7927-2021-11-11-22-21-54-25b10\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-11-11T22:21:53.3918115Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-11-11T22:21:53.3918115Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps7927\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps7927\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps1257/snapshots/2021-11-11-22-29-34-32f37\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps1257-2021-11-11-22-29-34-32f37\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-11-11T22:29:06.805572Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-11-11T22:29:33.6304101Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps1257\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps1257\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps8692-2021-11-11-22-36-25-9087d\",\r\n        \"parameters\": {\r\n          \"workerSize\": {\r\n            \"value\": 0\r\n          },\r\n          \"hostingPlanName\": {\r\n            \"value\": \"xDeploymentTestHost26669\"\r\n          },\r\n          \"sku\": {\r\n            \"value\": \"Basic\"\r\n          },\r\n          \"siteLocation\": {\r\n            \"value\": \"East US\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"http://schema.management.azure.com/schemas/2014-04-01-preview/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"hostingPlanName\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"siteLocation\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"sku\": {\r\n              \"type\": \"string\",\r\n              \"allowedValues\": [\r\n                \"Free\",\r\n                \"Shared\",\r\n                \"Basic\",\r\n                \"Standard\"\r\n              ],\r\n              \"defaultValue\": \"Free\"\r\n            },\r\n            \"workerSize\": {\r\n              \"type\": \"int\",\r\n              \"allowedValues\": [\r\n                0,\r\n                1,\r\n                2\r\n              ],\r\n              \"defaultValue\": 0\r\n            }\r\n          },\r\n          \"resources\": [\r\n            {\r\n              \"apiVersion\": \"2014-04-01\",\r\n              \"name\": \"[parameters('hostingPlanName')]\",\r\n              \"type\": \"Microsoft.Web/serverfarms\",\r\n              \"location\": \"[parameters('siteLocation')]\",\r\n              \"properties\": {\r\n                \"name\": \"[parameters('hostingPlanName')]\",\r\n                \"sku\": \"[parameters('sku')]\",\r\n                \"workerSize\": \"[parameters('workerSize')]\",\r\n                \"numberOfWorkers\": 1\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"DeploymentStackDeploymentFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"DeploymentFailed\",\r\n                  \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\",\r\n                  \"details\": [\r\n                    {\r\n                      \"code\": \"ResourceNotFound\",\r\n                      \"message\": \"The Resource 'Microsoft.Web/serverFarms/xDeploymentTestHost26669' under resource group '<null>' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix\"\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2021-11-11T22:36:24.6329286Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2021-11-11T22:36:24.6329286Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps8692\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps8692\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionhuwxf4/snapshots/2021-11-15-15-07-37-06804\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-11-15-15-07-37-06804\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-15T15:06:34.4666682Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-15T15:07:36.8624014Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionhuwxf4\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionhuwxf4\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionqxi3cc/snapshots/2021-11-15-20-20-18-81368\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-11-15-20-20-18-81368\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-15T20:19:17.0338745Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-15T20:20:18.1175672Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionqxi3cc\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionqxi3cc\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptiontzqaxa/snapshots/2021-11-15-20-42-21-f515c\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-11-15-20-42-21-f515c\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-15T20:41:20.4753415Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-15T20:42:21.4238094Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptiontzqaxa\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptiontzqaxa\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionei4mxl/snapshots/2021-11-15-21-12-24-ad962\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-11-15-21-12-24-ad962\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-15T21:11:23.4123304Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-15T21:12:24.6476543Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionei4mxl\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionei4mxl\"\r\n    },\r\n    {\r\n      \"location\": \"westus\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ghImplicit-2021-11-16-23-31-28-914b9\",\r\n        \"parameters\": {\r\n          \"resourceGroups\": {\r\n            \"value\": [\r\n              {\r\n                \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/tarun\",\r\n                \"name\": \"tarun\",\r\n                \"type\": \"Microsoft.Resources/resourceGroups\",\r\n                \"location\": \"eastus2\",\r\n                \"tags\": {},\r\n                \"properties\": {\r\n                  \"provisioningState\": \"Succeeded\"\r\n                }\r\n              }\r\n            ]\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2018-05-01/subscriptionDeploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"metadata\": {\r\n            \"_generator\": {\r\n              \"name\": \"bicep\",\r\n              \"version\": \"0.4.1008.15138\",\r\n              \"templateHash\": \"15509277032350500834\"\r\n            }\r\n          },\r\n          \"parameters\": {\r\n            \"resourceGroups\": {\r\n              \"type\": \"array\",\r\n              \"metadata\": {\r\n                \"description\": \"Resource Groups definition to deploy resources to.\"\r\n              }\r\n            },\r\n            \"deploymentLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"[deployment().location]\",\r\n              \"metadata\": {\r\n                \"description\": \"The location of the deployment.\"\r\n              }\r\n            },\r\n            \"tags\": {\r\n              \"type\": \"object\",\r\n              \"defaultValue\": {},\r\n              \"metadata\": {\r\n                \"description\": \"Specify tags that should be assigned to the deployed resources. Tags are needed for proper usage and billing handling.\"\r\n              }\r\n            },\r\n            \"solutionVersionTag\": {\r\n              \"type\": \"object\",\r\n              \"defaultValue\": {},\r\n              \"metadata\": {\r\n                \"description\": \"The version of this solution in the form of tag. This parameter is specified usually by lz-deployment-script (deploy.ps1).\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {\r\n            \"allTags\": \"[union(parameters('tags'), parameters('solutionVersionTag'))]\",\r\n            \"defaultResourceGroupObject\": {\r\n              \"tags\": {},\r\n              \"create\": true,\r\n              \"alertsScope\": {\r\n                \"subscriptionId\": \"\",\r\n                \"resourceGroup\": \"\",\r\n                \"logAnalyticsWorkspace\": {\r\n                  \"name\": \"\",\r\n                  \"resourceGroup\": \"\",\r\n                  \"subscriptionId\": \"[subscription().subscriptionId]\"\r\n                }\r\n              },\r\n              \"actionGroups\": [],\r\n              \"alertRules\": {\r\n                \"memoryThrashing\": {\r\n                  \"id\": \"\",\r\n                  \"displayName\": \"Azure Analysis Services Memory Thrashing has reached threshold\",\r\n                  \"enabled\": false,\r\n                  \"tags\": {},\r\n                  \"autoMitigate\": true,\r\n                  \"frequencyInMinutes\": 5,\r\n                  \"timeWindowInMinutes\": 5,\r\n                  \"severity\": 1,\r\n                  \"operator\": \"GreaterThan\",\r\n                  \"threshold\": 70,\r\n                  \"muteActionsDurationInMinutes\": 0,\r\n                  \"timeAggregation\": \"Average\",\r\n                  \"metricMeasureColumn\": \"Average\",\r\n                  \"dimensions\": [],\r\n                  \"minFailingPeriodsToAlert\": 1,\r\n                  \"numberOfEvaluationPeriods\": 1,\r\n                  \"overrideQueryTimeRange\": 0,\r\n                  \"customProperties\": {},\r\n                  \"skipQueryValidation\": false,\r\n                  \"checkWorkspaceAlertsStorageConfigured\": false,\r\n                  \"description\": \"\",\r\n                  \"query\": \"\"\r\n                },\r\n                \"memoryThrashingByServerName\": {\r\n                  \"id\": \"\",\r\n                  \"displayName\": \"Azure Analysis Services service logs by server name has reached threshold\",\r\n                  \"enabled\": false,\r\n                  \"tags\": {},\r\n                  \"autoMitigate\": true,\r\n                  \"frequencyInMinutes\": 5,\r\n                  \"timeWindowInMinutes\": 5,\r\n                  \"severity\": 1,\r\n                  \"operator\": \"GreaterThan\",\r\n                  \"threshold\": 70,\r\n                  \"muteActionsDurationInMinutes\": 0,\r\n                  \"timeAggregation\": \"Average\",\r\n                  \"metricMeasureColumn\": \"value_s\",\r\n                  \"dimensions\": [],\r\n                  \"minFailingPeriodsToAlert\": 1,\r\n                  \"numberOfEvaluationPeriods\": 1,\r\n                  \"overrideQueryTimeRange\": 0,\r\n                  \"customProperties\": {},\r\n                  \"skipQueryValidation\": false,\r\n                  \"checkWorkspaceAlertsStorageConfigured\": false,\r\n                  \"description\": \"\",\r\n                  \"query\": \"\"\r\n                },\r\n                \"totalConnectionFailures\": {\r\n                  \"id\": \"\",\r\n                  \"displayName\": \"Azure Analysis Services Total Connection Failures has reached threshold\",\r\n                  \"enabled\": false,\r\n                  \"tags\": {},\r\n                  \"autoMitigate\": true,\r\n                  \"frequencyInMinutes\": 15,\r\n                  \"timeWindowInMinutes\": 15,\r\n                  \"severity\": 3,\r\n                  \"operator\": \"GreaterThan\",\r\n                  \"threshold\": 5,\r\n                  \"muteActionsDurationInMinutes\": 0,\r\n                  \"timeAggregation\": \"Average\",\r\n                  \"metricMeasureColumn\": \"Average\",\r\n                  \"dimensions\": [],\r\n                  \"minFailingPeriodsToAlert\": 1,\r\n                  \"numberOfEvaluationPeriods\": 1,\r\n                  \"overrideQueryTimeRange\": 0,\r\n                  \"customProperties\": {},\r\n                  \"skipQueryValidation\": false,\r\n                  \"checkWorkspaceAlertsStorageConfigured\": false,\r\n                  \"description\": \"\",\r\n                  \"query\": \"\"\r\n                },\r\n                \"commandPoolJobQueueLength\": {\r\n                  \"id\": \"\",\r\n                  \"displayName\": \"Azure Analysis Services Command Pool Job Queue Length has reached threshold\",\r\n                  \"enabled\": false,\r\n                  \"tags\": {},\r\n                  \"autoMitigate\": true,\r\n                  \"frequencyInMinutes\": 15,\r\n                  \"timeWindowInMinutes\": 60,\r\n                  \"severity\": 3,\r\n                  \"operator\": \"GreaterThan\",\r\n                  \"threshold\": 1,\r\n                  \"muteActionsDurationInMinutes\": 0,\r\n                  \"timeAggregation\": \"Average\",\r\n                  \"metricMeasureColumn\": \"Average\",\r\n                  \"dimensions\": [],\r\n                  \"minFailingPeriodsToAlert\": 1,\r\n                  \"numberOfEvaluationPeriods\": 1,\r\n                  \"overrideQueryTimeRange\": 0,\r\n                  \"customProperties\": {},\r\n                  \"skipQueryValidation\": false,\r\n                  \"checkWorkspaceAlertsStorageConfigured\": false,\r\n                  \"description\": \"\",\r\n                  \"query\": \"\"\r\n                },\r\n                \"processingPoolJobQueueLength\": {\r\n                  \"id\": \"\",\r\n                  \"displayName\": \"Azure Analysis Services Processing Pool Job Queue Length has reached threshold\",\r\n                  \"enabled\": false,\r\n                  \"tags\": {},\r\n                  \"autoMitigate\": true,\r\n                  \"frequencyInMinutes\": 15,\r\n                  \"timeWindowInMinutes\": 60,\r\n                  \"severity\": 2,\r\n                  \"operator\": \"GreaterThan\",\r\n                  \"threshold\": 1,\r\n                  \"muteActionsDurationInMinutes\": 0,\r\n                  \"timeAggregation\": \"Average\",\r\n                  \"metricMeasureColumn\": \"Average\",\r\n                  \"dimensions\": [],\r\n                  \"minFailingPeriodsToAlert\": 1,\r\n                  \"numberOfEvaluationPeriods\": 1,\r\n                  \"overrideQueryTimeRange\": 0,\r\n                  \"customProperties\": {},\r\n                  \"skipQueryValidation\": false,\r\n                  \"checkWorkspaceAlertsStorageConfigured\": false,\r\n                  \"description\": \"\",\r\n                  \"query\": \"\"\r\n                }\r\n              }\r\n            }\r\n          },\r\n          \"resources\": [\r\n            {\r\n              \"condition\": \"[union(variables('defaultResourceGroupObject'), parameters('resourceGroups')[copyIndex()]).create]\",\r\n              \"copy\": {\r\n                \"name\": \"resourceGroupsRes\",\r\n                \"count\": \"[length(parameters('resourceGroups'))]\"\r\n              },\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"apiVersion\": \"2021-04-01\",\r\n              \"name\": \"[parameters('resourceGroups')[copyIndex()].name]\",\r\n              \"location\": \"[parameters('resourceGroups')[copyIndex()].location]\",\r\n              \"tags\": \"[union(variables('allTags'), union(variables('defaultResourceGroupObject'), parameters('resourceGroups')[copyIndex()]).tags)]\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"copy\": {\r\n                \"name\": \"analysisServiceMonResources\",\r\n                \"count\": \"[length(parameters('resourceGroups'))]\"\r\n              },\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"apiVersion\": \"2020-06-01\",\r\n              \"name\": \"[format('analysisServiceMonResources-{0}', copyIndex())]\",\r\n              \"resourceGroup\": \"[parameters('resourceGroups')[copyIndex()].name]\",\r\n              \"properties\": {\r\n                \"expressionEvaluationOptions\": {\r\n                  \"scope\": \"inner\"\r\n                },\r\n                \"mode\": \"Incremental\",\r\n                \"parameters\": {\r\n                  \"analysisServiceMonitoring\": {\r\n                    \"value\": \"[union(variables('defaultResourceGroupObject'), parameters('resourceGroups')[copyIndex()])]\"\r\n                  },\r\n                  \"tags\": {\r\n                    \"value\": \"[union(variables('allTags'), union(variables('defaultResourceGroupObject'), parameters('resourceGroups')[copyIndex()]).tags)]\"\r\n                  }\r\n                },\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"metadata\": {\r\n                    \"_generator\": {\r\n                      \"name\": \"bicep\",\r\n                      \"version\": \"0.4.1008.15138\",\r\n                      \"templateHash\": \"13027831339953017732\"\r\n                    }\r\n                  },\r\n                  \"parameters\": {\r\n                    \"analysisServiceMonitoring\": {\r\n                      \"type\": \"object\"\r\n                    },\r\n                    \"tags\": {\r\n                      \"type\": \"object\"\r\n                    }\r\n                  },\r\n                  \"functions\": [],\r\n                  \"variables\": {\r\n                    \"defaultActionGroupObject\": {\r\n                      \"name\": \"\",\r\n                      \"resourceGroup\": \"\",\r\n                      \"subscriptionId\": \"[subscription().subscriptionId]\"\r\n                    }\r\n                  },\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Resources/deployments\",\r\n                      \"apiVersion\": \"2020-06-01\",\r\n                      \"name\": \"[format('analysisServiceAlerts-{0}', if(empty(parameters('analysisServiceMonitoring').alertsScope.logAnalyticsWorkspace.name), if(empty(parameters('analysisServiceMonitoring').alertsScope.resourceGroup), uniqueString(parameters('analysisServiceMonitoring').alertsScope.subscriptionId), uniqueString(parameters('analysisServiceMonitoring').alertsScope.resourceGroup)), uniqueString(parameters('analysisServiceMonitoring').alertsScope.logAnalyticsWorkspace.name)))]\",\r\n                      \"properties\": {\r\n                        \"expressionEvaluationOptions\": {\r\n                          \"scope\": \"inner\"\r\n                        },\r\n                        \"mode\": \"Incremental\",\r\n                        \"parameters\": {\r\n                          \"analysisServiceMonitoring\": {\r\n                            \"value\": \"[parameters('analysisServiceMonitoring')]\"\r\n                          },\r\n                          \"actionGroups\": {\r\n                            \"copy\": [\r\n                              {\r\n                                \"name\": \"value\",\r\n                                \"count\": \"[length(parameters('analysisServiceMonitoring').actionGroups)]\",\r\n                                \"input\": \"[union(variables('defaultActionGroupObject'), parameters('analysisServiceMonitoring').actionGroups[copyIndex('value')])]\"\r\n                              }\r\n                            ]\r\n                          },\r\n                          \"location\": {\r\n                            \"value\": \"[if(empty(parameters('analysisServiceMonitoring').alertsScope.logAnalyticsWorkspace.name), resourceGroup().location, reference(extensionResourceId(format('/subscriptions/{0}/resourceGroups/{1}', parameters('analysisServiceMonitoring').alertsScope.logAnalyticsWorkspace.subscriptionId, parameters('analysisServiceMonitoring').alertsScope.logAnalyticsWorkspace.resourceGroup), 'Microsoft.OperationalInsights/workspaces', parameters('analysisServiceMonitoring').alertsScope.logAnalyticsWorkspace.name), '2021-06-01', 'full').location)]\"\r\n                          },\r\n                          \"logAnalyticsWorkspaceResourceId\": {\r\n                            \"value\": \"[if(empty(parameters('analysisServiceMonitoring').alertsScope.logAnalyticsWorkspace.name), '', extensionResourceId(format('/subscriptions/{0}/resourceGroups/{1}', parameters('analysisServiceMonitoring').alertsScope.logAnalyticsWorkspace.subscriptionId, parameters('analysisServiceMonitoring').alertsScope.logAnalyticsWorkspace.resourceGroup), 'Microsoft.OperationalInsights/workspaces', parameters('analysisServiceMonitoring').alertsScope.logAnalyticsWorkspace.name))]\"\r\n                          },\r\n                          \"tags\": {\r\n                            \"value\": \"[parameters('tags')]\"\r\n                          }\r\n                        },\r\n                        \"template\": {\r\n                          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n                          \"contentVersion\": \"1.0.0.0\",\r\n                          \"metadata\": {\r\n                            \"_generator\": {\r\n                              \"name\": \"bicep\",\r\n                              \"version\": \"0.4.1008.15138\",\r\n                              \"templateHash\": \"1278265623681629574\"\r\n                            }\r\n                          },\r\n                          \"parameters\": {\r\n                            \"analysisServiceMonitoring\": {\r\n                              \"type\": \"object\"\r\n                            },\r\n                            \"actionGroups\": {\r\n                              \"type\": \"array\"\r\n                            },\r\n                            \"location\": {\r\n                              \"type\": \"string\"\r\n                            },\r\n                            \"logAnalyticsWorkspaceResourceId\": {\r\n                              \"type\": \"string\"\r\n                            },\r\n                            \"tags\": {\r\n                              \"type\": \"object\"\r\n                            }\r\n                          },\r\n                          \"functions\": [],\r\n                          \"variables\": {\r\n                            \"alertRules\": {\r\n                              \"memoryThrashing\": {\r\n                                \"id\": \"2c995c3f-8e42-4eaf-82c2-80b9d443b2dd\",\r\n                                \"query\": \"[if(empty(parameters('analysisServiceMonitoring').alertRules.memoryThrashing.query), 'AzureMetrics\\r\\n| where ResourceProvider == ''MICROSOFT.ANALYSISSERVICES''\\r\\n    and MetricName == ''memory_thrashing_metric''', parameters('analysisServiceMonitoring').alertRules.memoryThrashing.query)]\",\r\n                                \"description\": \"[if(empty(parameters('analysisServiceMonitoring').alertRules.memoryThrashing.description), 'This metric shows the average percentage of memory being thrashed from the RAM of your resource, relative to the total size of RAM in the resource. Note that this metric is relevant only for Import mode datasets, because they''re hosting data in memory. This metric does not monitor datasets that are using DirectQuery or live connection to Analysis Services. When the memory thrashing keeps exceeding the given threshold, it''s worth investigating the problem more deeply first, as scaling up is not always the solution for it.', parameters('analysisServiceMonitoring').alertRules.memoryThrashing.description)]\",\r\n                                \"dimensions\": [\r\n                                  {\r\n                                    \"name\": \"TenantId\",\r\n                                    \"operator\": \"Include\",\r\n                                    \"values\": [\r\n                                      \"*\"\r\n                                    ]\r\n                                  },\r\n                                  {\r\n                                    \"name\": \"SubscriptionId\",\r\n                                    \"operator\": \"Include\",\r\n                                    \"values\": [\r\n                                      \"*\"\r\n                                    ]\r\n                                  },\r\n                                  {\r\n                                    \"name\": \"Resource\",\r\n                                    \"operator\": \"Include\",\r\n                                    \"values\": [\r\n                                      \"*\"\r\n                                    ]\r\n                                  }\r\n                                ]\r\n                              },\r\n                              \"memoryThrashingByServerName\": {\r\n                                \"id\": \"5b9e5597-32c6-4f1a-a984-52aa690ccf5a\",\r\n                                \"query\": \"[if(empty(parameters('analysisServiceMonitoring').alertRules.memoryThrashingByServerName.query), 'AzureDiagnostics\\r\\n| where ResourceProvider == ''MICROSOFT.ANALYSISSERVICES''\\r\\n    and OperationName == ''LogMetric''\\r\\n    and Category == ''Service''\\r\\n    and name_s == ''memory_thrashing_metric''', parameters('analysisServiceMonitoring').alertRules.memoryThrashingByServerName.query)]\",\r\n                                \"description\": \"[if(empty(parameters('analysisServiceMonitoring').alertRules.memoryThrashingByServerName.description), 'This metric shows the average percentage of memory being thrashed from the RAM of your resource, relative to the total size of RAM in the resource, by server name. Note that this metric is relevant only for Import mode datasets, because they''re hosting data in memory. This metric does not monitor datasets that are using DirectQuery or live connection to Analysis Services. When the memory thrashing keeps exceeding the given threshold, it''s worth investigating the problem more deeply first, as scaling up is not always the solution for it.', parameters('analysisServiceMonitoring').alertRules.memoryThrashingByServerName.description)]\",\r\n                                \"dimensions\": [\r\n                                  {\r\n                                    \"name\": \"TenantId\",\r\n                                    \"operator\": \"Include\",\r\n                                    \"values\": [\r\n                                      \"*\"\r\n                                    ]\r\n                                  },\r\n                                  {\r\n                                    \"name\": \"_SubscriptionId\",\r\n                                    \"operator\": \"Include\",\r\n                                    \"values\": [\r\n                                      \"*\"\r\n                                    ]\r\n                                  },\r\n                                  {\r\n                                    \"name\": \"ServerName_s\",\r\n                                    \"operator\": \"Include\",\r\n                                    \"values\": [\r\n                                      \"*\"\r\n                                    ]\r\n                                  }\r\n                                ]\r\n                              },\r\n                              \"totalConnectionFailures\": {\r\n                                \"id\": \"f9125df9-eb5d-4967-8517-52c68f6f9dd2\",\r\n                                \"query\": \"[if(empty(parameters('analysisServiceMonitoring').alertRules.totalConnectionFailures.query), 'AzureMetrics\\r\\n| where ResourceProvider == ''MICROSOFT.ANALYSISSERVICES''\\r\\n    and MetricName == ''TotalConnectionFailures''', parameters('analysisServiceMonitoring').alertRules.totalConnectionFailures.query)]\",\r\n                                \"description\": \"[if(empty(parameters('analysisServiceMonitoring').alertRules.totalConnectionFailures.description), 'The average count of failed connection attempts. Set the threshold to an appropriate value after monitoring and discovering the normal average value of this metric.', parameters('analysisServiceMonitoring').alertRules.totalConnectionFailures.description)]\",\r\n                                \"dimensions\": [\r\n                                  {\r\n                                    \"name\": \"TenantId\",\r\n                                    \"operator\": \"Include\",\r\n                                    \"values\": [\r\n                                      \"*\"\r\n                                    ]\r\n                                  },\r\n                                  {\r\n                                    \"name\": \"SubscriptionId\",\r\n                                    \"operator\": \"Include\",\r\n                                    \"values\": [\r\n                                      \"*\"\r\n                                    ]\r\n                                  }\r\n                                ]\r\n                              },\r\n                              \"commandPoolJobQueueLength\": {\r\n                                \"id\": \"86b2903c-67b2-42a7-8e20-2ba68053cd5a\",\r\n                                \"query\": \"[if(empty(parameters('analysisServiceMonitoring').alertRules.commandPoolJobQueueLength.query), 'AzureMetrics\\r\\n| where ResourceProvider == ''MICROSOFT.ANALYSISSERVICES''\\r\\n    and MetricName == ''CommandPoolJobQueueLength''', parameters('analysisServiceMonitoring').alertRules.commandPoolJobQueueLength.query)]\",\r\n                                \"description\": \"[if(empty(parameters('analysisServiceMonitoring').alertRules.commandPoolJobQueueLength.description), 'Monitors CPU thread utilization related to processing commands. Technically there are several other types of commands, but when it comes to performance, ''processing'' is the only one of concern. (the other ''types'' of commands are things like DDL-ish to add/alter a partition). This particular counter shows when a (processing) command is waiting on a thread to be allocated from the command pool… in other words, if you see a value > 1 here for an extended period of time, you have a bottleneck. When there is it is very likely due to Azure AS becomes a junk yard for ''auto-upgraded'' Power BI solutions w/ auto-refresh capabilities.', parameters('analysisServiceMonitoring').alertRules.commandPoolJobQueueLength.description)]\",\r\n                                \"dimensions\": [\r\n                                  {\r\n                                    \"name\": \"TenantId\",\r\n                                    \"operator\": \"Include\",\r\n                                    \"values\": [\r\n                                      \"*\"\r\n                                    ]\r\n                                  },\r\n                                  {\r\n                                    \"name\": \"SubscriptionId\",\r\n                                    \"operator\": \"Include\",\r\n                                    \"values\": [\r\n                                      \"*\"\r\n                                    ]\r\n                                  }\r\n                                ]\r\n                              },\r\n                              \"processingPoolJobQueueLength\": {\r\n                                \"id\": \"a7d45337-19cb-4cb2-b1d9-380bf5cf8970\",\r\n                                \"query\": \"[if(empty(parameters('analysisServiceMonitoring').alertRules.processingPoolJobQueueLength.query), 'AzureMetrics\\r\\n| where ResourceProvider == ''MICROSOFT.ANALYSISSERVICES''\\r\\n    and MetricName == ''ProcessingPoolJobQueueLength''', parameters('analysisServiceMonitoring').alertRules.processingPoolJobQueueLength.query)]\",\r\n                                \"description\": \"[if(empty(parameters('analysisServiceMonitoring').alertRules.processingPoolJobQueueLength.description), 'Monitors for Processing Pool Job Queue Length. The processing thread pool allocates threads for processing the data structures that make up a tabular model. Same as CommandPoolJobQueueLength a value > 1 for and extended period of time indicates a bottleneck. This is a much more common place to find a bottleneck especially in larger models that leverage partitions and parallel processing.', parameters('analysisServiceMonitoring').alertRules.processingPoolJobQueueLength.description)]\",\r\n                                \"dimensions\": [\r\n                                  {\r\n                                    \"name\": \"TenantId\",\r\n                                    \"operator\": \"Include\",\r\n                                    \"values\": [\r\n                                      \"*\"\r\n                                    ]\r\n                                  },\r\n                                  {\r\n                                    \"name\": \"SubscriptionId\",\r\n                                    \"operator\": \"Include\",\r\n                                    \"values\": [\r\n                                      \"*\"\r\n                                    ]\r\n                                  }\r\n                                ]\r\n                              }\r\n                            },\r\n                            \"defaultDimension\": [\r\n                              {\r\n                                \"name\": \"_ResourceId\",\r\n                                \"operator\": \"Include\",\r\n                                \"values\": [\r\n                                  \"*\"\r\n                                ]\r\n                              }\r\n                            ]\r\n                          },\r\n                          \"resources\": [\r\n                            {\r\n                              \"type\": \"Microsoft.Insights/scheduledQueryRules\",\r\n                              \"apiVersion\": \"2021-08-01\",\r\n                              \"name\": \"[if(empty(parameters('analysisServiceMonitoring').alertRules.memoryThrashing.id), variables('alertRules').memoryThrashing.id, parameters('analysisServiceMonitoring').alertRules.memoryThrashing.id)]\",\r\n                              \"location\": \"[parameters('location')]\",\r\n                              \"tags\": \"[union(parameters('tags'), parameters('analysisServiceMonitoring').alertRules.memoryThrashing.tags)]\",\r\n                              \"kind\": \"LogAlert\",\r\n                              \"properties\": {\r\n                                \"displayName\": \"[parameters('analysisServiceMonitoring').alertRules.memoryThrashing.displayName]\",\r\n                                \"description\": \"[variables('alertRules').memoryThrashing.description]\",\r\n                                \"enabled\": \"[parameters('analysisServiceMonitoring').alertRules.memoryThrashing.enabled]\",\r\n                                \"autoMitigate\": \"[parameters('analysisServiceMonitoring').alertRules.memoryThrashing.autoMitigate]\",\r\n                                \"severity\": \"[parameters('analysisServiceMonitoring').alertRules.memoryThrashing.severity]\",\r\n                                \"evaluationFrequency\": \"[format('PT{0}M', parameters('analysisServiceMonitoring').alertRules.memoryThrashing.frequencyInMinutes)]\",\r\n                                \"windowSize\": \"[format('PT{0}M', parameters('analysisServiceMonitoring').alertRules.memoryThrashing.timeWindowInMinutes)]\",\r\n                                \"overrideQueryTimeRange\": \"[if(equals(parameters('analysisServiceMonitoring').alertRules.memoryThrashing.overrideQueryTimeRange, 0), null(), format('PT{0}M', parameters('analysisServiceMonitoring').alertRules.memoryThrashing.overrideQueryTimeRange))]\",\r\n                                \"muteActionsDuration\": \"[if(equals(parameters('analysisServiceMonitoring').alertRules.memoryThrashing.muteActionsDurationInMinutes, 0), null(), format('PT{0}M', parameters('analysisServiceMonitoring').alertRules.memoryThrashing.muteActionsDurationInMinutes))]\",\r\n                                \"scopes\": [\r\n                                  \"[if(empty(parameters('logAnalyticsWorkspaceResourceId')), if(empty(parameters('analysisServiceMonitoring').alertsScope.resourceGroup), format('/subscriptions/{0}', parameters('analysisServiceMonitoring').alertsScope.subscriptionId), subscriptionResourceId(parameters('analysisServiceMonitoring').alertsScope.subscriptionId, 'Microsoft.Resources/resourceGroups', parameters('analysisServiceMonitoring').alertsScope.resourceGroup)), parameters('logAnalyticsWorkspaceResourceId'))]\"\r\n                                ],\r\n                                \"criteria\": {\r\n                                  \"allOf\": [\r\n                                    {\r\n                                      \"query\": \"[variables('alertRules').memoryThrashing.query]\",\r\n                                      \"timeAggregation\": \"[parameters('analysisServiceMonitoring').alertRules.memoryThrashing.timeAggregation]\",\r\n                                      \"metricMeasureColumn\": \"[parameters('analysisServiceMonitoring').alertRules.memoryThrashing.metricMeasureColumn]\",\r\n                                      \"resourceIdColumn\": \"[if(empty(parameters('logAnalyticsWorkspaceResourceId')), '_ResourceId', null())]\",\r\n                                      \"operator\": \"[parameters('analysisServiceMonitoring').alertRules.memoryThrashing.operator]\",\r\n                                      \"threshold\": \"[parameters('analysisServiceMonitoring').alertRules.memoryThrashing.threshold]\",\r\n                                      \"failingPeriods\": {\r\n                                        \"minFailingPeriodsToAlert\": \"[parameters('analysisServiceMonitoring').alertRules.memoryThrashing.minFailingPeriodsToAlert]\",\r\n                                        \"numberOfEvaluationPeriods\": \"[parameters('analysisServiceMonitoring').alertRules.memoryThrashing.numberOfEvaluationPeriods]\"\r\n                                      },\r\n                                      \"dimensions\": \"[if(empty(parameters('analysisServiceMonitoring').alertRules.memoryThrashing.dimensions), union(if(empty(parameters('logAnalyticsWorkspaceResourceId')), createArray(), variables('defaultDimension')), variables('alertRules').memoryThrashing.dimensions), parameters('analysisServiceMonitoring').alertRules.memoryThrashing.dimensions)]\"\r\n                                    }\r\n                                  ]\r\n                                },\r\n                                \"actions\": {\r\n                                  \"copy\": [\r\n                                    {\r\n                                      \"name\": \"actionGroups\",\r\n                                      \"count\": \"[length(parameters('actionGroups'))]\",\r\n                                      \"input\": \"[extensionResourceId(format('/subscriptions/{0}/resourceGroups/{1}', parameters('actionGroups')[copyIndex('actionGroups')].subscriptionId, parameters('actionGroups')[copyIndex('actionGroups')].resourceGroup), 'microsoft.insights/actionGroups', parameters('actionGroups')[copyIndex('actionGroups')].name)]\"\r\n                                    }\r\n                                  ],\r\n                                  \"customProperties\": \"[parameters('analysisServiceMonitoring').alertRules.memoryThrashing.customProperties]\"\r\n                                },\r\n                                \"skipQueryValidation\": \"[parameters('analysisServiceMonitoring').alertRules.memoryThrashing.skipQueryValidation]\",\r\n                                \"checkWorkspaceAlertsStorageConfigured\": \"[parameters('analysisServiceMonitoring').alertRules.memoryThrashing.checkWorkspaceAlertsStorageConfigured]\"\r\n                              }\r\n                            },\r\n                            {\r\n                              \"type\": \"Microsoft.Insights/scheduledQueryRules\",\r\n                              \"apiVersion\": \"2021-08-01\",\r\n                              \"name\": \"[if(empty(parameters('analysisServiceMonitoring').alertRules.memoryThrashingByServerName.id), variables('alertRules').memoryThrashingByServerName.id, parameters('analysisServiceMonitoring').alertRules.memoryThrashingByServerName.id)]\",\r\n                              \"location\": \"[parameters('location')]\",\r\n                              \"tags\": \"[union(parameters('tags'), parameters('analysisServiceMonitoring').alertRules.memoryThrashingByServerName.tags)]\",\r\n                              \"kind\": \"LogAlert\",\r\n                              \"properties\": {\r\n                                \"displayName\": \"[parameters('analysisServiceMonitoring').alertRules.memoryThrashingByServerName.displayName]\",\r\n                                \"description\": \"[variables('alertRules').memoryThrashingByServerName.description]\",\r\n                                \"enabled\": \"[parameters('analysisServiceMonitoring').alertRules.memoryThrashingByServerName.enabled]\",\r\n                                \"autoMitigate\": \"[parameters('analysisServiceMonitoring').alertRules.memoryThrashingByServerName.autoMitigate]\",\r\n                                \"severity\": \"[parameters('analysisServiceMonitoring').alertRules.memoryThrashingByServerName.severity]\",\r\n                                \"evaluationFrequency\": \"[format('PT{0}M', parameters('analysisServiceMonitoring').alertRules.memoryThrashingByServerName.frequencyInMinutes)]\",\r\n                                \"windowSize\": \"[format('PT{0}M', parameters('analysisServiceMonitoring').alertRules.memoryThrashingByServerName.timeWindowInMinutes)]\",\r\n                                \"overrideQueryTimeRange\": \"[if(equals(parameters('analysisServiceMonitoring').alertRules.memoryThrashingByServerName.overrideQueryTimeRange, 0), null(), format('PT{0}M', parameters('analysisServiceMonitoring').alertRules.memoryThrashingByServerName.overrideQueryTimeRange))]\",\r\n                                \"muteActionsDuration\": \"[if(equals(parameters('analysisServiceMonitoring').alertRules.memoryThrashingByServerName.muteActionsDurationInMinutes, 0), null(), format('PT{0}M', parameters('analysisServiceMonitoring').alertRules.memoryThrashingByServerName.muteActionsDurationInMinutes))]\",\r\n                                \"scopes\": [\r\n                                  \"[if(empty(parameters('logAnalyticsWorkspaceResourceId')), if(empty(parameters('analysisServiceMonitoring').alertsScope.resourceGroup), format('/subscriptions/{0}', parameters('analysisServiceMonitoring').alertsScope.subscriptionId), subscriptionResourceId(parameters('analysisServiceMonitoring').alertsScope.subscriptionId, 'Microsoft.Resources/resourceGroups', parameters('analysisServiceMonitoring').alertsScope.resourceGroup)), parameters('logAnalyticsWorkspaceResourceId'))]\"\r\n                                ],\r\n                                \"criteria\": {\r\n                                  \"allOf\": [\r\n                                    {\r\n                                      \"query\": \"[variables('alertRules').memoryThrashingByServerName.query]\",\r\n                                      \"timeAggregation\": \"[parameters('analysisServiceMonitoring').alertRules.memoryThrashingByServerName.timeAggregation]\",\r\n                                      \"metricMeasureColumn\": \"[parameters('analysisServiceMonitoring').alertRules.memoryThrashingByServerName.metricMeasureColumn]\",\r\n                                      \"resourceIdColumn\": \"[if(empty(parameters('logAnalyticsWorkspaceResourceId')), '_ResourceId', null())]\",\r\n                                      \"operator\": \"[parameters('analysisServiceMonitoring').alertRules.memoryThrashingByServerName.operator]\",\r\n                                      \"threshold\": \"[parameters('analysisServiceMonitoring').alertRules.memoryThrashingByServerName.threshold]\",\r\n                                      \"failingPeriods\": {\r\n                                        \"minFailingPeriodsToAlert\": \"[parameters('analysisServiceMonitoring').alertRules.memoryThrashingByServerName.minFailingPeriodsToAlert]\",\r\n                                        \"numberOfEvaluationPeriods\": \"[parameters('analysisServiceMonitoring').alertRules.memoryThrashingByServerName.numberOfEvaluationPeriods]\"\r\n                                      },\r\n                                      \"dimensions\": \"[if(empty(parameters('analysisServiceMonitoring').alertRules.memoryThrashingByServerName.dimensions), union(if(empty(parameters('logAnalyticsWorkspaceResourceId')), createArray(), variables('defaultDimension')), variables('alertRules').memoryThrashingByServerName.dimensions), parameters('analysisServiceMonitoring').alertRules.memoryThrashingByServerName.dimensions)]\"\r\n                                    }\r\n                                  ]\r\n                                },\r\n                                \"actions\": {\r\n                                  \"copy\": [\r\n                                    {\r\n                                      \"name\": \"actionGroups\",\r\n                                      \"count\": \"[length(parameters('actionGroups'))]\",\r\n                                      \"input\": \"[extensionResourceId(format('/subscriptions/{0}/resourceGroups/{1}', parameters('actionGroups')[copyIndex('actionGroups')].subscriptionId, parameters('actionGroups')[copyIndex('actionGroups')].resourceGroup), 'microsoft.insights/actionGroups', parameters('actionGroups')[copyIndex('actionGroups')].name)]\"\r\n                                    }\r\n                                  ],\r\n                                  \"customProperties\": \"[parameters('analysisServiceMonitoring').alertRules.memoryThrashingByServerName.customProperties]\"\r\n                                },\r\n                                \"skipQueryValidation\": \"[parameters('analysisServiceMonitoring').alertRules.memoryThrashingByServerName.skipQueryValidation]\",\r\n                                \"checkWorkspaceAlertsStorageConfigured\": \"[parameters('analysisServiceMonitoring').alertRules.memoryThrashingByServerName.checkWorkspaceAlertsStorageConfigured]\"\r\n                              }\r\n                            },\r\n                            {\r\n                              \"type\": \"Microsoft.Insights/scheduledQueryRules\",\r\n                              \"apiVersion\": \"2021-08-01\",\r\n                              \"name\": \"[if(empty(parameters('analysisServiceMonitoring').alertRules.commandPoolJobQueueLength.id), variables('alertRules').commandPoolJobQueueLength.id, parameters('analysisServiceMonitoring').alertRules.commandPoolJobQueueLength.id)]\",\r\n                              \"location\": \"[parameters('location')]\",\r\n                              \"tags\": \"[union(parameters('tags'), parameters('analysisServiceMonitoring').alertRules.commandPoolJobQueueLength.tags)]\",\r\n                              \"kind\": \"LogAlert\",\r\n                              \"properties\": {\r\n                                \"displayName\": \"[parameters('analysisServiceMonitoring').alertRules.commandPoolJobQueueLength.displayName]\",\r\n                                \"description\": \"[variables('alertRules').commandPoolJobQueueLength.description]\",\r\n                                \"enabled\": \"[parameters('analysisServiceMonitoring').alertRules.commandPoolJobQueueLength.enabled]\",\r\n                                \"autoMitigate\": \"[parameters('analysisServiceMonitoring').alertRules.commandPoolJobQueueLength.autoMitigate]\",\r\n                                \"severity\": \"[parameters('analysisServiceMonitoring').alertRules.commandPoolJobQueueLength.severity]\",\r\n                                \"evaluationFrequency\": \"[format('PT{0}M', parameters('analysisServiceMonitoring').alertRules.commandPoolJobQueueLength.frequencyInMinutes)]\",\r\n                                \"windowSize\": \"[format('PT{0}M', parameters('analysisServiceMonitoring').alertRules.commandPoolJobQueueLength.timeWindowInMinutes)]\",\r\n                                \"overrideQueryTimeRange\": \"[if(equals(parameters('analysisServiceMonitoring').alertRules.commandPoolJobQueueLength.overrideQueryTimeRange, 0), null(), format('PT{0}M', parameters('analysisServiceMonitoring').alertRules.commandPoolJobQueueLength.overrideQueryTimeRange))]\",\r\n                                \"muteActionsDuration\": \"[if(equals(parameters('analysisServiceMonitoring').alertRules.commandPoolJobQueueLength.muteActionsDurationInMinutes, 0), null(), format('PT{0}M', parameters('analysisServiceMonitoring').alertRules.commandPoolJobQueueLength.muteActionsDurationInMinutes))]\",\r\n                                \"scopes\": [\r\n                                  \"[if(empty(parameters('logAnalyticsWorkspaceResourceId')), if(empty(parameters('analysisServiceMonitoring').alertsScope.resourceGroup), format('/subscriptions/{0}', parameters('analysisServiceMonitoring').alertsScope.subscriptionId), subscriptionResourceId(parameters('analysisServiceMonitoring').alertsScope.subscriptionId, 'Microsoft.Resources/resourceGroups', parameters('analysisServiceMonitoring').alertsScope.resourceGroup)), parameters('logAnalyticsWorkspaceResourceId'))]\"\r\n                                ],\r\n                                \"criteria\": {\r\n                                  \"allOf\": [\r\n                                    {\r\n                                      \"query\": \"[variables('alertRules').commandPoolJobQueueLength.query]\",\r\n                                      \"timeAggregation\": \"[parameters('analysisServiceMonitoring').alertRules.commandPoolJobQueueLength.timeAggregation]\",\r\n                                      \"metricMeasureColumn\": \"[parameters('analysisServiceMonitoring').alertRules.commandPoolJobQueueLength.metricMeasureColumn]\",\r\n                                      \"resourceIdColumn\": \"[if(empty(parameters('logAnalyticsWorkspaceResourceId')), '_ResourceId', null())]\",\r\n                                      \"operator\": \"[parameters('analysisServiceMonitoring').alertRules.commandPoolJobQueueLength.operator]\",\r\n                                      \"threshold\": \"[parameters('analysisServiceMonitoring').alertRules.commandPoolJobQueueLength.threshold]\",\r\n                                      \"failingPeriods\": {\r\n                                        \"minFailingPeriodsToAlert\": \"[parameters('analysisServiceMonitoring').alertRules.commandPoolJobQueueLength.minFailingPeriodsToAlert]\",\r\n                                        \"numberOfEvaluationPeriods\": \"[parameters('analysisServiceMonitoring').alertRules.commandPoolJobQueueLength.numberOfEvaluationPeriods]\"\r\n                                      },\r\n                                      \"dimensions\": \"[if(empty(parameters('analysisServiceMonitoring').alertRules.commandPoolJobQueueLength.dimensions), union(if(empty(parameters('logAnalyticsWorkspaceResourceId')), createArray(), variables('defaultDimension')), variables('alertRules').commandPoolJobQueueLength.dimensions), parameters('analysisServiceMonitoring').alertRules.commandPoolJobQueueLength.dimensions)]\"\r\n                                    }\r\n                                  ]\r\n                                },\r\n                                \"actions\": {\r\n                                  \"copy\": [\r\n                                    {\r\n                                      \"name\": \"actionGroups\",\r\n                                      \"count\": \"[length(parameters('actionGroups'))]\",\r\n                                      \"input\": \"[extensionResourceId(format('/subscriptions/{0}/resourceGroups/{1}', parameters('actionGroups')[copyIndex('actionGroups')].subscriptionId, parameters('actionGroups')[copyIndex('actionGroups')].resourceGroup), 'microsoft.insights/actionGroups', parameters('actionGroups')[copyIndex('actionGroups')].name)]\"\r\n                                    }\r\n                                  ],\r\n                                  \"customProperties\": \"[parameters('analysisServiceMonitoring').alertRules.commandPoolJobQueueLength.customProperties]\"\r\n                                },\r\n                                \"skipQueryValidation\": \"[parameters('analysisServiceMonitoring').alertRules.commandPoolJobQueueLength.skipQueryValidation]\",\r\n                                \"checkWorkspaceAlertsStorageConfigured\": \"[parameters('analysisServiceMonitoring').alertRules.commandPoolJobQueueLength.checkWorkspaceAlertsStorageConfigured]\"\r\n                              }\r\n                            },\r\n                            {\r\n                              \"type\": \"Microsoft.Insights/scheduledQueryRules\",\r\n                              \"apiVersion\": \"2021-08-01\",\r\n                              \"name\": \"[if(empty(parameters('analysisServiceMonitoring').alertRules.processingPoolJobQueueLength.id), variables('alertRules').processingPoolJobQueueLength.id, parameters('analysisServiceMonitoring').alertRules.processingPoolJobQueueLength.id)]\",\r\n                              \"location\": \"[parameters('location')]\",\r\n                              \"tags\": \"[union(parameters('tags'), parameters('analysisServiceMonitoring').alertRules.processingPoolJobQueueLength.tags)]\",\r\n                              \"kind\": \"LogAlert\",\r\n                              \"properties\": {\r\n                                \"displayName\": \"[parameters('analysisServiceMonitoring').alertRules.processingPoolJobQueueLength.displayName]\",\r\n                                \"description\": \"[variables('alertRules').processingPoolJobQueueLength.description]\",\r\n                                \"enabled\": \"[parameters('analysisServiceMonitoring').alertRules.processingPoolJobQueueLength.enabled]\",\r\n                                \"autoMitigate\": \"[parameters('analysisServiceMonitoring').alertRules.processingPoolJobQueueLength.autoMitigate]\",\r\n                                \"severity\": \"[parameters('analysisServiceMonitoring').alertRules.processingPoolJobQueueLength.severity]\",\r\n                                \"evaluationFrequency\": \"[format('PT{0}M', parameters('analysisServiceMonitoring').alertRules.processingPoolJobQueueLength.frequencyInMinutes)]\",\r\n                                \"windowSize\": \"[format('PT{0}M', parameters('analysisServiceMonitoring').alertRules.processingPoolJobQueueLength.timeWindowInMinutes)]\",\r\n                                \"overrideQueryTimeRange\": \"[if(equals(parameters('analysisServiceMonitoring').alertRules.processingPoolJobQueueLength.overrideQueryTimeRange, 0), null(), format('PT{0}M', parameters('analysisServiceMonitoring').alertRules.processingPoolJobQueueLength.overrideQueryTimeRange))]\",\r\n                                \"muteActionsDuration\": \"[if(equals(parameters('analysisServiceMonitoring').alertRules.processingPoolJobQueueLength.muteActionsDurationInMinutes, 0), null(), format('PT{0}M', parameters('analysisServiceMonitoring').alertRules.processingPoolJobQueueLength.muteActionsDurationInMinutes))]\",\r\n                                \"scopes\": [\r\n                                  \"[if(empty(parameters('logAnalyticsWorkspaceResourceId')), if(empty(parameters('analysisServiceMonitoring').alertsScope.resourceGroup), format('/subscriptions/{0}', parameters('analysisServiceMonitoring').alertsScope.subscriptionId), subscriptionResourceId(parameters('analysisServiceMonitoring').alertsScope.subscriptionId, 'Microsoft.Resources/resourceGroups', parameters('analysisServiceMonitoring').alertsScope.resourceGroup)), parameters('logAnalyticsWorkspaceResourceId'))]\"\r\n                                ],\r\n                                \"criteria\": {\r\n                                  \"allOf\": [\r\n                                    {\r\n                                      \"query\": \"[variables('alertRules').processingPoolJobQueueLength.query]\",\r\n                                      \"timeAggregation\": \"[parameters('analysisServiceMonitoring').alertRules.processingPoolJobQueueLength.timeAggregation]\",\r\n                                      \"metricMeasureColumn\": \"[parameters('analysisServiceMonitoring').alertRules.processingPoolJobQueueLength.metricMeasureColumn]\",\r\n                                      \"resourceIdColumn\": \"[if(empty(parameters('logAnalyticsWorkspaceResourceId')), '_ResourceId', null())]\",\r\n                                      \"operator\": \"[parameters('analysisServiceMonitoring').alertRules.processingPoolJobQueueLength.operator]\",\r\n                                      \"threshold\": \"[parameters('analysisServiceMonitoring').alertRules.processingPoolJobQueueLength.threshold]\",\r\n                                      \"failingPeriods\": {\r\n                                        \"minFailingPeriodsToAlert\": \"[parameters('analysisServiceMonitoring').alertRules.processingPoolJobQueueLength.minFailingPeriodsToAlert]\",\r\n                                        \"numberOfEvaluationPeriods\": \"[parameters('analysisServiceMonitoring').alertRules.processingPoolJobQueueLength.numberOfEvaluationPeriods]\"\r\n                                      },\r\n                                      \"dimensions\": \"[if(empty(parameters('analysisServiceMonitoring').alertRules.processingPoolJobQueueLength.dimensions), union(if(empty(parameters('logAnalyticsWorkspaceResourceId')), createArray(), variables('defaultDimension')), variables('alertRules').processingPoolJobQueueLength.dimensions), parameters('analysisServiceMonitoring').alertRules.processingPoolJobQueueLength.dimensions)]\"\r\n                                    }\r\n                                  ]\r\n                                },\r\n                                \"actions\": {\r\n                                  \"copy\": [\r\n                                    {\r\n                                      \"name\": \"actionGroups\",\r\n                                      \"count\": \"[length(parameters('actionGroups'))]\",\r\n                                      \"input\": \"[extensionResourceId(format('/subscriptions/{0}/resourceGroups/{1}', parameters('actionGroups')[copyIndex('actionGroups')].subscriptionId, parameters('actionGroups')[copyIndex('actionGroups')].resourceGroup), 'microsoft.insights/actionGroups', parameters('actionGroups')[copyIndex('actionGroups')].name)]\"\r\n                                    }\r\n                                  ],\r\n                                  \"customProperties\": \"[parameters('analysisServiceMonitoring').alertRules.processingPoolJobQueueLength.customProperties]\"\r\n                                },\r\n                                \"skipQueryValidation\": \"[parameters('analysisServiceMonitoring').alertRules.processingPoolJobQueueLength.skipQueryValidation]\",\r\n                                \"checkWorkspaceAlertsStorageConfigured\": \"[parameters('analysisServiceMonitoring').alertRules.processingPoolJobQueueLength.checkWorkspaceAlertsStorageConfigured]\"\r\n                              }\r\n                            }\r\n                          ]\r\n                        }\r\n                      }\r\n                    }\r\n                  ]\r\n                }\r\n              },\r\n              \"dependsOn\": [\r\n                \"[subscriptionResourceId('Microsoft.Resources/resourceGroups', parameters('resourceGroups')[copyIndex()].name)]\"\r\n              ]\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"DeploymentStackDeploymentFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"DeploymentFailed\",\r\n                  \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\",\r\n                  \"details\": [\r\n                    {\r\n                      \"code\": \"DeploymentFailed\",\r\n                      \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\"\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"tsunkaraneni@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-16T23:17:33.6981155Z\",\r\n        \"lastModifiedBy\": \"tsunkaraneni@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-16T23:31:28.1053874Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ghImplicit\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ghImplicit\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionegwphp/snapshots/2021-11-17-20-18-26-378e6\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-11-17-20-18-26-378e6\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-17T20:17:25.3276637Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-17T20:18:26.5874089Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionegwphp\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionegwphp\"\r\n    },\r\n    {\r\n      \"location\": \"westus\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/resource-group\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"DeploymentStackDeploymentFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"ResourceGroupNotFound\",\r\n                  \"message\": \"Resource group 'resource-group' could not be found.\",\r\n                  \"details\": [],\r\n                  \"additionalInfo\": []\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-17T20:58:13.256519Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-18T20:44:40.7588571Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hp_prod_sub_create_checje\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hp_prod_sub_create_checje\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptioncio6eg/snapshots/2021-11-17-21-03-16-860a6\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-11-17-21-03-16-860a6\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-17T21:02:09.9177231Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-17T21:03:16.4615691Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptioncio6eg\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptioncio6eg\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscription53xmqc/snapshots/2021-11-18-20-42-37-e61e7\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-11-18-20-42-37-e61e7\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-18T20:41:35.3698362Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-18T20:42:37.6788971Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscription53xmqc\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscription53xmqc\"\r\n    },\r\n    {\r\n      \"location\": \"westus\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/deployment-scope-check-hp/snapshots/2021-11-22-16-13-15-0eef8\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/deployment-scope-check-hp-2021-11-22-16-13-15-0eef8\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-22T16:13:15.1673603Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-22T16:13:15.1673603Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/deployment-scope-check-hp\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"deployment-scope-check-hp\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptiongj7jxt/snapshots/2021-11-18-21-02-19-64f5e\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-11-18-21-02-19-64f5e\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-18T21:01:12.9792533Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-18T21:02:19.3094872Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptiongj7jxt\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptiongj7jxt\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionfayx2g/snapshots/2021-11-18-21-09-35-16ebd\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-11-18-21-09-35-16ebd\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-18T21:08:34.3282811Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-18T21:09:35.8321305Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionfayx2g\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionfayx2g\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptiongsl66g/snapshots/2021-11-19-15-47-39-bcc03\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-11-19-15-47-39-bcc03\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-19T15:46:36.9976152Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-19T15:47:38.9223058Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptiongsl66g\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptiongsl66g\"\r\n    },\r\n    {\r\n      \"location\": \"westus\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/deployment-scope-check-2/snapshots/2021-11-22-16-13-37-7052c\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/deployment-scope-check-2-2021-11-22-16-13-37-7052c\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-22T16:13:37.2232093Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-22T16:13:37.2232093Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/deployment-scope-check-2\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"deployment-scope-check-2\"\r\n    },\r\n    {\r\n      \"location\": \"westus\",\r\n      \"properties\": {\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/deployment-scope-check-3-2021-11-22-16-20-06-ca8e4\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountType\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"Standard_LRS\",\r\n              \"allowedValues\": [\r\n                \"Standard_LRS\",\r\n                \"Standard_GRS\",\r\n                \"Standard_ZRS\",\r\n                \"Premium_LRS\"\r\n              ],\r\n              \"metadata\": {\r\n                \"description\": \"Storage Account type\"\r\n              }\r\n            },\r\n            \"location\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"westus\",\r\n              \"metadata\": {\r\n                \"description\": \"Location for all resources.\"\r\n              }\r\n            }\r\n          },\r\n          \"variables\": {\r\n            \"storageAccountName\": \"deploymentscopetest\"\r\n          },\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Storage/storageAccounts\",\r\n              \"apiVersion\": \"2019-06-01\",\r\n              \"name\": \"[variables('storageAccountName')]\",\r\n              \"location\": \"[parameters('location')]\",\r\n              \"sku\": {\r\n                \"name\": \"[parameters('storageAccountType')]\"\r\n              },\r\n              \"kind\": \"StorageV2\",\r\n              \"properties\": {}\r\n            }\r\n          ],\r\n          \"outputs\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[variables('storageAccountName')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"DeploymentStackDeploymentFailed\",\r\n              \"message\": \"One or more resources could not be deployed.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"DeploymentFailed\",\r\n                  \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\",\r\n                  \"details\": [\r\n                    {\r\n                      \"code\": \"ResourceNotFound\",\r\n                      \"message\": \"The Resource 'Microsoft.Storage/storageAccounts/deploymentscopetest' under resource group '<null>' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix\"\r\n                    }\r\n                  ]\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-22T16:17:46.80745Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-22T16:20:05.9319831Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/deployment-scope-check-3\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"deployment-scope-check-3\"\r\n    }\r\n  ],\r\n  \"nextLink\": \"https://management.azure.com/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks?api-version=2021-05-01-preview&%24skiptoken=zY7bboIwAIbfhWy7WqUcFDQxC0MGOHEqnubNgqVog9Lacja%2b%2bzR7if35Lv%2fk%2b65Shut8QrJUSIOr5FjhchVKA%2bmY50wMZPkcZdEBn3GWd6K24LiD6FkWxV4gTlhOaCbkSNknUU%2frgkTdJ0BXEwWYvX0XmLqJeoaeIE1VZMZpSWLMhRwQxKmgSd5ZYEELjrCQY8xOtHlYwjxCqXiLGAHl%2fX0XDFWoKgB2AVQA47gkuJJepY3zCFX%2fe%2bnLk0gJW9IUZ0NPF771N8fyi2JN%2bLiFxnRljEN4MJp44l4umt0uPQ%2fGlaiISceogjXyFjC2dvZGKU%2f03eI%2b2Mx9F3G%2fCkY79HMI7NEM9rdJI9qVEtQoXGH2OXLK2Xo7vpwom9bT1P2w0qnh2M3IqmIRTE4u49%2bVZ9b4q3%2bcP6KetfiOdLv9Ag%3d%3d\"\r\n}",
      "StatusCode": 200
    },
    {
      "RequestUri": "/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks?api-version=2021-05-01-preview&%24skiptoken=zY7bboIwAIbfhWy7WqUcFDQxC0MGOHEqnubNgqVog9Lacja%2b%2bzR7if35Lv%2fk%2b65Shut8QrJUSIOr5FjhchVKA%2bmY50wMZPkcZdEBn3GWd6K24LiD6FkWxV4gTlhOaCbkSNknUU%2frgkTdJ0BXEwWYvX0XmLqJeoaeIE1VZMZpSWLMhRwQxKmgSd5ZYEELjrCQY8xOtHlYwjxCqXiLGAHl%2fX0XDFWoKgB2AVQA47gkuJJepY3zCFX%2fe%2bnLk0gJW9IUZ0NPF771N8fyi2JN%2bLiFxnRljEN4MJp44l4umt0uPQ%2fGlaiISceogjXyFjC2dvZGKU%2f03eI%2b2Mx9F3G%2fCkY79HMI7NEM9rdJI9qVEtQoXGH2OXLK2Xo7vpwom9bT1P2w0qnh2M3IqmIRTE4u49%2bVZ9b4q3%2bcP6KetfiOdLv9Ag%3d%3d",
      "EncodedRequestUri": "L3N1YnNjcmlwdGlvbnMvYTFiZmE2MzUtZjJiZi00MmYxLTg2YjUtODQ4YzY3NGZjMzIxL3Byb3ZpZGVycy9NaWNyb3NvZnQuUmVzb3VyY2VzL2RlcGxveW1lbnRTdGFja3M/YXBpLXZlcnNpb249MjAyMS0wNS0wMS1wcmV2aWV3JiUyNHNraXB0b2tlbj16WTdiYm9Jd0FJYmZoV3k3V3FVY0ZEUXhDME1HT0hFcW51Yk5ncVZvZzlMYWNqYSUyYiUyYnpSN2lmMzVMdiUyZmslMmI2NVNodXQ4UXJKVVNJT3I1RmpoY2hWS0ElMmJtWTUwd01aUGtjWmRFQm4zR1dkNksyNExpRDZGa1d4VjRnVGxoT2FDYmtTTmtuVVUlMmZyZ2tUZEowQlhFd1dZdlgwWG1McUplb2FlSUUxVlpNWnBTV0xNaFJ3UXhLbWdTZDVaWUVFTGpyQ1FZOHhPdEhsWXdqeENxWGlMR0FIbCUyZlgwWERGV29LZ0IyQVZRQTQ3Z2t1SkplcFkzekNGWCUyZmUlMmJuTGswZ0pXOUlVWjBOUEY3NzFOOGZ5aTJKTiUyYkxpRnhuUmxqRU40TUpwNDRsNHVtdDB1UFElMmZHbGFpSVNjZW9nalh5RmpDMmR2WkdLVSUyZjAzZUklMmIyTXg5RjNHJTJmQ2tZNzlITUk3TkVNOXJkSkk5cVZFdFFvWEdIMk9YTEsyWG83dnB3b205YlQxUDJ3MHFuaDJNM0lxbUlSVEU0dTQ5JTJiVlo5YjRxMyUyYmNQNktldGZpT2RMdjlBZyUzZCUzZA==",
      "RequestMethod": "GET",
      "RequestBody": "",
      "RequestHeaders": {
        "x-ms-client-request-id": [
          "a6f6296f-f47c-4a87-9bd2-ac9f4f5cc121"
        ],
        "Accept-Language": [
          "en-US"
        ],
        "User-Agent": [
          "FxVersion/4.6.30411.01",
          "OSName/Windows",
          "OSVersion/Microsoft.Windows.10.0.22000.",
          "Microsoft.Azure.Management.ResourceManager.DeploymentStacksClient/3.13.2.0"
        ]
      },
      "ResponseHeaders": {
        "Cache-Control": [
          "no-cache"
        ],
        "Pragma": [
          "no-cache"
        ],
        "x-ms-original-request-ids": [
          "7c406081-60b2-42fa-aab7-7765aff7021c",
          "93be959d-8454-4eea-8af0-5dcf655060eb"
        ],
        "x-ms-ratelimit-remaining-subscription-reads": [
          "11997"
        ],
        "x-ms-request-id": [
          "67e09b26-b156-4c62-8a4a-8409ce00fea3"
        ],
        "x-ms-correlation-request-id": [
          "67e09b26-b156-4c62-8a4a-8409ce00fea3"
        ],
        "x-ms-routing-request-id": [
          "EASTUS2:20220425T184215Z:67e09b26-b156-4c62-8a4a-8409ce00fea3"
        ],
        "Strict-Transport-Security": [
          "max-age=31536000; includeSubDomains"
        ],
        "X-Content-Type-Options": [
          "nosniff"
        ],
        "Date": [
          "Mon, 25 Apr 2022 18:42:15 GMT"
        ],
        "Content-Type": [
          "application/json; charset=utf-8"
        ],
        "Expires": [
          "-1"
        ],
        "Content-Length": [
          "164167"
        ],
        "Retry-After": [
          "0"
        ]
      },
      "ResponseBody": "{\r\n  \"value\": [\r\n    {\r\n      \"location\": \"westus\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/deployment-scope-check-4/snapshots/2021-11-29-21-39-53-0b595\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/harshpatel/providers/Microsoft.Resources/deployments/deployment-scope-check-4-2021-11-29-21-39-53-0b595\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/harshpatel\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-22T16:24:17.4398839Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-29T21:39:53.5762409Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/deployment-scope-check-4\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"deployment-scope-check-4\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionitmkv7/snapshots/2021-11-22-16-36-51-5d65c\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-11-22-16-36-51-5d65c\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-22T16:35:48.7273275Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-22T16:36:51.51709Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionitmkv7\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionitmkv7\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-subscriptionva3sz7wrzqtf33l/snapshots/2021-11-22-20-12-41-5ff21\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-subsc-2021-11-22-20-12-41-5ff21\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-22T20:12:40.5996915Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-22T20:12:40.5996915Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-subscriptionva3sz7wrzqtf33l\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-subscriptionva3sz7wrzqtf33l\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionarqnxn/snapshots/2021-11-22-20-22-41-73158\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-11-22-20-22-41-73158\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-22T20:21:38.9965642Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-22T20:22:40.9252552Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionarqnxn\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionarqnxn\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-get-deployment-stack-subscriptionsiz2prxi6vbxyh2etp/snapshots/2021-11-23-17-18-24-26d26\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-get-deployment-stack-subscrip-2021-11-23-17-18-24-26d26\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-23T17:18:23.5873971Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-23T17:18:23.5873971Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-get-deployment-stack-subscriptionsiz2prxi6vbxyh2etp\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-get-deployment-stack-subscriptionsiz2prxi6vbxyh2etp\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-get-deployment-stack-subscriptionf75asqy2mhgj2sqpsm/snapshots/2021-11-23-17-21-41-10fda\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-get-deployment-stack-subscrip-2021-11-23-17-21-41-10fda\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-23T17:21:40.7597628Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-23T17:21:40.7597628Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-get-deployment-stack-subscriptionf75asqy2mhgj2sqpsm\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-get-deployment-stack-subscriptionf75asqy2mhgj2sqpsm\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-get-deployment-stack-subscription6vdfchz43hjnt7kwxo/snapshots/2021-11-23-17-33-24-43bef\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-get-deployment-stack-subscrip-2021-11-23-17-33-24-43bef\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-23T17:33:23.6396632Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-23T17:33:23.6396632Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-get-deployment-stack-subscription6vdfchz43hjnt7kwxo\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-get-deployment-stack-subscription6vdfchz43hjnt7kwxo\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-get-deployment-stack-subscriptiono5wqh3aoiohzvzfcfm/snapshots/2021-11-23-17-37-39-6d955\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-get-deployment-stack-subscrip-2021-11-23-17-37-39-6d955\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-23T17:37:38.8156461Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-23T17:37:38.8156461Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-get-deployment-stack-subscriptiono5wqh3aoiohzvzfcfm\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-get-deployment-stack-subscriptiono5wqh3aoiohzvzfcfm\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-get-deployment-stack-subscriptionjuctbdvbkjguzitx7f/snapshots/2021-11-23-17-38-50-889de\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-get-deployment-stack-subscrip-2021-11-23-17-38-50-889de\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-23T17:38:50.3614385Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-23T17:38:50.3614385Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-get-deployment-stack-subscriptionjuctbdvbkjguzitx7f\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-get-deployment-stack-subscriptionjuctbdvbkjguzitx7f\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-get-deployment-stack-subscriptionh5bkrfgbccrtfbdhz5/snapshots/2021-11-23-17-41-06-92248\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-get-deployment-stack-subscrip-2021-11-23-17-41-06-92248\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-23T17:41:05.5285802Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-23T17:41:05.5285802Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-get-deployment-stack-subscriptionh5bkrfgbccrtfbdhz5\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-get-deployment-stack-subscriptionh5bkrfgbccrtfbdhz5\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-get-deployment-stack-subscriptionknaejm3og5bas5jkpz/snapshots/2021-11-23-17-42-38-ba2a6\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-get-deployment-stack-subscrip-2021-11-23-17-42-38-ba2a6\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-23T17:42:37.8691995Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-23T17:42:37.8691995Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-get-deployment-stack-subscriptionknaejm3og5bas5jkpz\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-get-deployment-stack-subscriptionknaejm3og5bas5jkpz\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-get-deployment-stack-subscriptionzzplkusf2zvsmhzggk/snapshots/2021-11-23-17-44-03-9ce80\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-get-deployment-stack-subscrip-2021-11-23-17-44-03-9ce80\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-23T17:44:02.9006464Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-23T17:44:02.9006464Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-get-deployment-stack-subscriptionzzplkusf2zvsmhzggk\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-get-deployment-stack-subscriptionzzplkusf2zvsmhzggk\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-subscriptionvowj2gofyk6buj2/snapshots/2021-11-23-17-51-59-ff40b\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-create-deployment-stack-subsc-2021-11-23-17-51-59-ff40b\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-23T17:51:59.16261Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-23T17:51:59.16261Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-subscriptionvowj2gofyk6buj2\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-create-deployment-stack-subscriptionvowj2gofyk6buj2\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-subscription32tbzwoxcw3o47p/snapshots/2021-11-23-17-52-22-3d72e\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-subsc-2021-11-23-17-52-22-3d72e\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-23T17:52:21.6718689Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-23T17:52:21.6718689Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-subscription32tbzwoxcw3o47p\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-subscription32tbzwoxcw3o47p\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscription73aijj/snapshots/2021-11-23-17-52-30-e1430\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-11-23-17-52-30-e1430\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-23T17:52:29.8700557Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-23T17:52:29.8700557Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscription73aijj\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscription73aijj\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-subscriptionh4n5xztslllhw4x/snapshots/2021-11-23-17-56-09-844fa\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/cli_test_deployment_stacksoqgwqussexxg66ymrst543wpub3upnbdmkmhiyfocpa3xxemt/providers/Microsoft.Resources/deployments/cli-test-create-deployment-stack-subsc-2021-11-23-17-56-09-844fa\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/cli_test_deployment_stacksoqgwqussexxg66ymrst543wpub3upnbdmkmhiyfocpa3xxemt\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-23T17:56:09.0326907Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-23T17:56:09.0326907Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-subscriptionh4n5xztslllhw4x\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-create-deployment-stack-subscriptionh4n5xztslllhw4x\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptioni6kvoq/snapshots/2021-11-23-17-56-18-0ce56\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-11-23-17-56-18-0ce56\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-23T17:56:18.6935485Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-23T17:56:18.6935485Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptioni6kvoq\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptioni6kvoq\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-subscription7fxkppfo7zjxops/snapshots/2021-11-23-17-56-31-0c0df\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-subsc-2021-11-23-17-56-31-0c0df\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-23T17:56:31.5462705Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-23T17:56:31.5462705Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-subscription7fxkppfo7zjxops\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-subscription7fxkppfo7zjxops\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-snapshot-subscriptionj7fhg6ue/snapshots/2021-11-23-17-56-34-7899c\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-list-deployment-stack-snapsho-2021-11-23-17-56-34-7899c\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-23T17:56:33.4824847Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-23T17:56:33.4824847Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-snapshot-subscriptionj7fhg6ue\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-list-deployment-stack-snapshot-subscriptionj7fhg6ue\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscription5jbz4eroeykx26fve/snapshots/2021-11-23-17-56-38-552ef\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-list-deployment-stack-subscri-2021-11-23-17-56-38-552ef\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-23T17:56:37.4966065Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-23T17:56:37.4966065Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscription5jbz4eroeykx26fve\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-list-deployment-stack-subscription5jbz4eroeykx26fve\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionbzsjj5/snapshots/2021-11-23-17-59-27-8d937\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-11-23-17-59-27-8d937\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-23T17:58:26.3342468Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-23T17:59:27.4845119Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionbzsjj5\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionbzsjj5\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionsybkq5/snapshots/2021-11-23-18-06-21-55c40\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-11-23-18-06-21-55c40\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-23T18:05:20.1114392Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-23T18:06:20.8912269Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionsybkq5\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionsybkq5\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionga7dp7/snapshots/2021-11-23-19-25-55-8fd86\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-11-23-19-25-55-8fd86\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-23T19:25:12.9619798Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-23T19:25:54.9529578Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionga7dp7\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionga7dp7\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-subscriptionfh6wfecrtjj5zdx/snapshots/2021-11-23-19-25-37-ffb78\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-subsc-2021-11-23-19-25-37-ffb78\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-23T19:25:36.6371094Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-23T19:25:36.6371094Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-subscriptionfh6wfecrtjj5zdx\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-subscriptionfh6wfecrtjj5zdx\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscriptionikiwhbxw5ndot3xit/snapshots/2021-11-23-19-25-59-c950b\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-list-deployment-stack-subscri-2021-11-23-19-25-59-c950b\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-23T19:25:59.2032539Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-23T19:25:59.2032539Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscriptionikiwhbxw5ndot3xit\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-list-deployment-stack-subscriptionikiwhbxw5ndot3xit\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionlqiyme/snapshots/2021-11-23-19-31-44-5240a\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-11-23-19-31-44-5240a\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-23T19:30:41.5756247Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-23T19:31:43.7650206Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionlqiyme\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionlqiyme\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-subscription66ypa5upg2pfb3t/snapshots/2021-11-24-19-16-36-e6867\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-create-deployment-stack-subsc-2021-11-24-19-16-36-e6867\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-24T19:16:35.7893118Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-24T19:16:35.7893118Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-subscription66ypa5upg2pfb3t\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-create-deployment-stack-subscription66ypa5upg2pfb3t\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionywq5r7/snapshots/2021-11-24-19-16-58-c2832\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-11-24-19-16-58-c2832\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-24T19:16:57.5576844Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-24T19:16:57.5576844Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionywq5r7\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionywq5r7\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-subscriptionfadujkg3a6q4fjk/snapshots/2021-11-24-19-16-59-f87dd\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-subsc-2021-11-24-19-16-59-f87dd\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-24T19:16:58.7502198Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-24T19:16:58.7502198Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-subscriptionfadujkg3a6q4fjk\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-subscriptionfadujkg3a6q4fjk\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-subscriptionkgifwkoqops7vm3/snapshots/2021-11-24-19-19-34-88ace\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-subsc-2021-11-24-19-19-34-88ace\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-24T19:19:33.747136Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-24T19:19:33.747136Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-subscriptionkgifwkoqops7vm3\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-subscriptionkgifwkoqops7vm3\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptioncbshrd/snapshots/2021-11-24-19-31-08-86781\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-11-24-19-31-08-86781\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-24T19:30:05.2703765Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-24T19:31:08.3046328Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptioncbshrd\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptioncbshrd\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionvr4edm/snapshots/2021-11-29-19-13-40-17aac\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-11-29-19-13-40-17aac\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-29T19:12:38.6813601Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-29T19:13:40.0640104Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionvr4edm\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionvr4edm\"\r\n    },\r\n    {\r\n      \"location\": \"westus\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hp_without_g/snapshots/2021-11-29-21-42-10-c2009\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/hp_without_g-2021-11-29-21-42-10-c2009\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-29T21:42:09.5934083Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-29T21:42:09.5934083Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hp_without_g\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hp_without_g\"\r\n    },\r\n    {\r\n      \"location\": \"westus\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hp_with_g/snapshots/2021-12-07-20-49-53-051df\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/harshpatel/providers/Microsoft.Resources/deployments/hp_with_g-2021-12-07-20-49-53-051df\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/harshpatel\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-12-03T15:28:17.4309366Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-12-07T20:49:52.8940999Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hp_with_g\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hp_with_g\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionbfjyut/snapshots/2021-11-29-22-14-59-8a737\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-11-29-22-14-59-8a737\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-29T22:13:57.3024898Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-29T22:14:59.1562923Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionbfjyut\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionbfjyut\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionnqdmkd/snapshots/2021-11-29-22-29-28-b2644\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-11-29-22-29-28-b2644\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-11-29T22:28:26.0648359Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-11-29T22:29:28.6266343Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionnqdmkd\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionnqdmkd\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionsrtls3/snapshots/2021-12-02-15-00-43-29357\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-12-02-15-00-43-29357\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-12-02T14:59:40.9859015Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-12-02T15:00:42.9381807Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionsrtls3\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionsrtls3\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-subscriptionzfynbbwfl4dxu3c/snapshots/2021-12-02-17-53-24-e989d\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-subsc-2021-12-02-17-53-24-e989d\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-12-02T17:53:23.9806146Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-12-02T17:53:23.9806146Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-subscriptionzfynbbwfl4dxu3c\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-subscriptionzfynbbwfl4dxu3c\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionmbw2n4/snapshots/2021-12-02-17-53-33-f4862\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-12-02-17-53-33-f4862\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-12-02T17:53:32.9424808Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-12-02T17:53:32.9424808Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionmbw2n4\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionmbw2n4\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionhdjd3v/snapshots/2021-12-02-17-56-03-19895\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-12-02-17-56-03-19895\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-12-02T17:55:01.8710575Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-12-02T17:56:03.5791959Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionhdjd3v\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionhdjd3v\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscription4fxqgd/snapshots/2021-12-07-20-00-51-b5ff5\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-12-07-20-00-51-b5ff5\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-12-07T19:59:50.6643582Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-12-07T20:00:51.6062934Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscription4fxqgd\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscription4fxqgd\"\r\n    },\r\n    {\r\n      \"location\": \"westus\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hp_with_sub/snapshots/2021-12-08-16-32-43-c2452\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/hp_with_sub-2021-12-08-16-32-43-c2452\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-12-08T16:32:42.9595282Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-12-08T16:32:42.9595282Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hp_with_sub\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hp_with_sub\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptiony5ldy5/snapshots/2021-12-08-17-15-19-2cd64\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-12-08-17-15-19-2cd64\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-12-08T17:14:18.8752611Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-12-08T17:15:19.7054891Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptiony5ldy5\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptiony5ldy5\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionw5ivt6/snapshots/2021-12-08-18-12-17-a4884\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-12-08-18-12-17-a4884\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-12-08T18:11:14.7778945Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-12-08T18:12:16.8398105Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionw5ivt6\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionw5ivt6\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-get-deployment-stack-subscriptiontqixn5ilo5hqdews7b/snapshots/2021-12-08-18-12-25-34cfc\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-get-deployment-stack-subscrip-2021-12-08-18-12-25-34cfc\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-12-08T18:12:24.7886153Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-12-08T18:12:24.7886153Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-get-deployment-stack-subscriptiontqixn5ilo5hqdews7b\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-get-deployment-stack-subscriptiontqixn5ilo5hqdews7b\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-get-deployment-stack-subscriptiongvjpymhca6dfuqoka7/snapshots/2021-12-08-18-12-27-1f788\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-get-deployment-stack-subscrip-2021-12-08-18-12-27-1f788\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-12-08T18:12:26.9790623Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-12-08T18:12:26.9790623Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-get-deployment-stack-subscriptiongvjpymhca6dfuqoka7\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-get-deployment-stack-subscriptiongvjpymhca6dfuqoka7\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscriptionepsh6zjkaskaeu3if/snapshots/2021-12-08-18-12-30-8c463\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-list-deployment-stack-subscri-2021-12-08-18-12-30-8c463\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-12-08T18:12:30.1262328Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-12-08T18:12:30.1262328Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscriptionepsh6zjkaskaeu3if\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-list-deployment-stack-subscriptionepsh6zjkaskaeu3if\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionvbg4nd/snapshots/2021-12-08-18-18-13-d1105\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-12-08-18-18-13-d1105\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-12-08T18:17:11.0038958Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-12-08T18:18:13.0350768Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionvbg4nd\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionvbg4nd\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscription4jhuf4/snapshots/2021-12-08-21-56-34-9ba7f\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-12-08-21-56-34-9ba7f\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-12-08T21:55:32.8240914Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-12-08T21:56:34.8040817Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscription4jhuf4\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscription4jhuf4\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionahpf7q/snapshots/2021-12-15-18-08-12-2075b\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-12-15-18-08-12-2075b\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-12-15T18:07:09.9834741Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-12-15T18:08:12.7517585Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionahpf7q\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionahpf7q\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptiontd4wii/snapshots/2021-12-15-19-18-02-c11d3\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-12-15-19-18-02-c11d3\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-12-15T19:17:01.3010016Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-12-15T19:18:02.1098855Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptiontd4wii\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptiontd4wii\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionabpjp6/snapshots/2021-12-21-22-24-43-76005\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-12-21-22-24-43-76005\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-12-21T22:23:44.1601094Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-12-21T22:24:43.7751834Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionabpjp6\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionabpjp6\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionvufmyb/snapshots/2021-12-21-22-39-21-17769\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-12-21-22-39-21-17769\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-12-21T22:38:20.0706502Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-12-21T22:39:21.1471439Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionvufmyb\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionvufmyb\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionluulko/snapshots/2021-12-21-22-46-47-56b9b\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2021-12-21-22-46-47-56b9b\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2021-12-21T22:45:47.6087235Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2021-12-21T22:46:47.4344306Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionluulko\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionluulko\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptiong2ggle/snapshots/2022-01-05-15-53-43-0f40f\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2022-01-05-15-53-43-0f40f\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-01-05T15:53:42.6439783Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-01-05T15:53:42.6439783Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptiong2ggle\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptiong2ggle\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-subscriptioniq5a5dy3j2c6niw/snapshots/2022-01-05-15-53-50-4e74f\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-subsc-2022-01-05-15-53-50-4e74f\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-01-05T15:53:50.1247419Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-01-05T15:53:50.1247419Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-subscriptioniq5a5dy3j2c6niw\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-subscriptioniq5a5dy3j2c6niw\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionmdlsnz/snapshots/2022-01-05-15-57-25-e6d2b\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2022-01-05-15-57-25-e6d2b\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-01-05T15:56:24.3582098Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-01-05T15:57:25.4526327Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionmdlsnz\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionmdlsnz\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionducg7f/snapshots/2022-01-05-16-03-42-c8508\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2022-01-05-16-03-42-c8508\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-01-05T16:02:42.8167456Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-01-05T16:03:42.3665918Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionducg7f\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionducg7f\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionfgqsud/snapshots/2022-01-11-18-36-06-dda2b\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2022-01-11-18-36-06-dda2b\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-01-11T18:35:05.7116139Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-01-11T18:36:06.2338629Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionfgqsud\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionfgqsud\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscription4i5azd/snapshots/2022-01-14-18-15-27-acdd6\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2022-01-14-18-15-27-acdd6\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-01-14T18:14:26.0487064Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-01-14T18:15:27.3400342Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscription4i5azd\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscription4i5azd\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionz52gwn/snapshots/2022-01-20-17-10-04-cc503\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2022-01-20-17-10-04-cc503\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-01-20T17:09:02.7770183Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-01-20T17:10:04.5304519Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionz52gwn\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionz52gwn\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionvrvr2z/snapshots/2022-01-20-17-35-50-c43db\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2022-01-20-17-35-50-c43db\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-01-20T17:34:37.6417781Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-01-20T17:35:49.9794586Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionvrvr2z\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionvrvr2z\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionfw7ehk/snapshots/2022-01-21-17-54-52-14e95\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2022-01-21-17-54-52-14e95\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-01-21T17:53:52.4200522Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-01-21T17:54:52.1105374Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionfw7ehk\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionfw7ehk\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptiongqk6z5/snapshots/2022-01-21-18-18-34-422f3\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2022-01-21-18-18-34-422f3\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-01-21T18:17:33.515563Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-01-21T18:18:34.5338837Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptiongqk6z5\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptiongqk6z5\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionxnsk3a/snapshots/2022-01-21-20-29-54-523ac\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2022-01-21-20-29-54-523ac\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-01-21T20:28:53.5745706Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-01-21T20:29:54.3253438Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionxnsk3a\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionxnsk3a\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptiontpp2a2/snapshots/2022-01-21-20-37-38-3d91a\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2022-01-21-20-37-38-3d91a\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-01-21T20:36:39.5196848Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-01-21T20:37:38.8504394Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptiontpp2a2\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptiontpp2a2\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionajnwak/snapshots/2022-01-26-00-05-11-e8bab\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2022-01-26-00-05-11-e8bab\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-01-26T00:04:10.5949153Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-01-26T00:05:11.5105878Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionajnwak\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionajnwak\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hpmatrix_sub_create_tf/snapshots/2022-01-28-16-32-13-851e0\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/hpmatrix_sub_create_tf-2022-01-28-16-32-13-851e0\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"description\": \"john doe\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-01-26T19:08:31.1000817Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-01-28T16:32:13.4336579Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hpmatrix_sub_create_tf\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hpmatrix_sub_create_tf\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptiond4eoud/snapshots/2022-01-28-16-25-40-dac1c\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2022-01-28-16-25-40-dac1c\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-01-28T16:24:39.5681099Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-01-28T16:25:40.5841768Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptiond4eoud\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptiond4eoud\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hp-template-sub/snapshots/2022-02-25-19-24-11-02c37\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/hp-template-sub-2022-02-25-19-24-11-02c37\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"templateLink\": {\r\n          \"uri\": \"https://hpstorageaccount1000.blob.core.windows.net/hpcontainer/simpletemplate\"\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-01-31T20:25:27.5973396Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-02-25T19:24:11.172495Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hp-template-sub\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hp-template-sub\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-subscriptionttxowuccsnmrsca/snapshots/2022-01-31-20-47-02-aa353\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-subsc-2022-01-31-20-47-02-aa353\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-01-31T20:47:01.4659459Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-01-31T20:47:01.4659459Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-subscriptionttxowuccsnmrsca\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-subscriptionttxowuccsnmrsca\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionvnmmdb/snapshots/2022-01-31-20-47-09-1fc68\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2022-01-31-20-47-09-1fc68\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-01-31T20:47:09.1565385Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-01-31T20:47:09.1565385Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionvnmmdb\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionvnmmdb\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-subscription5asxa3myyxfyofd/snapshots/2022-01-31-20-49-55-f898a\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/cli_test_deployment_stacksixdxr522wqd67xg6alem5x3t5krdgprl5epfvcxbajmtv524b/providers/Microsoft.Resources/deployments/cli-test-create-deployment-stack-subsc-2022-01-31-20-49-55-f898a\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/cli_test_deployment_stacksixdxr522wqd67xg6alem5x3t5krdgprl5epfvcxbajmtv524b\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-01-31T20:49:54.3536113Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-01-31T20:49:54.3536113Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-subscription5asxa3myyxfyofd\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-create-deployment-stack-subscription5asxa3myyxfyofd\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionhotem7/snapshots/2022-01-31-20-50-04-c02d1\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2022-01-31-20-50-04-c02d1\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-01-31T20:50:03.393749Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-01-31T20:50:03.393749Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionhotem7\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionhotem7\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-subscriptionqwutbkouacph3pr/snapshots/2022-01-31-20-50-11-cf3cf\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-subsc-2022-01-31-20-50-11-cf3cf\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-01-31T20:50:10.4900414Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-01-31T20:50:10.4900414Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-subscriptionqwutbkouacph3pr\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-subscriptionqwutbkouacph3pr\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-snapshot-subscription27jhysvm/snapshots/2022-01-31-20-50-11-b3e71\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-list-deployment-stack-snapsho-2022-01-31-20-50-11-b3e71\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-01-31T20:50:10.8186278Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-01-31T20:50:10.8186278Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-snapshot-subscription27jhysvm\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-list-deployment-stack-snapshot-subscription27jhysvm\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-subscription46ncqkgl4xiighm/snapshots/2022-01-31-21-09-46-a690b\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/cli_test_deployment_stackssp3hyepijtqinygsfestxpmy2baujbgyx35kixbfktjtlyhed\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"metadata\": {\r\n            \"_generator\": {\r\n              \"name\": \"bicep\",\r\n              \"version\": \"0.4.1008.15138\",\r\n              \"templateHash\": \"18335756685998555005\"\r\n            }\r\n          },\r\n          \"parameters\": {\r\n            \"location\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"centralus\"\r\n            },\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"uniquestorage001\",\r\n              \"maxLength\": 24,\r\n              \"minLength\": 3\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Providers.Test/statefulResources\",\r\n              \"apiVersion\": \"2014-04-01\",\r\n              \"name\": \"[parameters('storageAccountName')]\",\r\n              \"location\": \"[parameters('location')]\"\r\n            }\r\n          ],\r\n          \"outputs\": {\r\n            \"storageId\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[resourceId('Providers.Test/statefulResources', parameters('storageAccountName'))]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed. See snapshot '/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-subscription46ncqkgl4xiighm/snapshots/2022-01-31-21-09-46-a690b' for more details.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"InvalidTemplate\",\r\n              \"message\": \"Deployment template validation failed: 'The template parameters 'foo, bar' in the parameters file are not valid; they are not present in the original template and can therefore not be provided at deployment time. The only supported parameters for this template are 'location, storageAccountName'. Please see https://aka.ms/arm-deploy/#parameter-file for usage details.'.\",\r\n              \"details\": [],\r\n              \"additionalInfo\": [\r\n                {\r\n                  \"type\": \"TemplateViolation\",\r\n                  \"info\": {\r\n                    \"lineNumber\": 0,\r\n                    \"linePosition\": 0,\r\n                    \"path\": \"\"\r\n                  }\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-01-31T21:09:45.6147851Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-01-31T21:09:45.6147851Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-subscription46ncqkgl4xiighm\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-create-deployment-stack-subscription46ncqkgl4xiighm\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-snapshot-subscription64cljb42/snapshots/2022-01-31-21-09-44-2850a\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-list-deployment-stack-snapsho-2022-01-31-21-09-44-2850a\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-01-31T21:09:43.5220936Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-01-31T21:09:43.5220936Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-snapshot-subscription64cljb42\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-list-deployment-stack-snapshot-subscription64cljb42\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionsn3rfp/snapshots/2022-01-31-21-09-44-8c7f7\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2022-01-31-21-09-44-8c7f7\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-01-31T21:09:43.6644255Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-01-31T21:09:43.6644255Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionsn3rfp\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionsn3rfp\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscriptiontkdtbagmlsyno6njn/snapshots/2022-01-31-21-09-51-7f2c6\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-list-deployment-stack-subscri-2022-01-31-21-09-51-7f2c6\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-01-31T21:09:51.4231225Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-01-31T21:09:51.4231225Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscriptiontkdtbagmlsyno6njn\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-list-deployment-stack-subscriptiontkdtbagmlsyno6njn\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-subscriptiondwow5r3xvmct24n/snapshots/2022-01-31-21-09-52-1e397\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-subsc-2022-01-31-21-09-52-1e397\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-01-31T21:09:51.3977049Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-01-31T21:09:51.3977049Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-subscriptiondwow5r3xvmct24n\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-subscriptiondwow5r3xvmct24n\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-subscriptionemts7ybhsorjfov/snapshots/2022-01-31-21-15-31-65bdc\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/cli_test_deployment_stacksqtskf55ul4u6tdlzndkdkphwnzrug2zlaz5gejlf4r4b32rfn\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"metadata\": {\r\n            \"_generator\": {\r\n              \"name\": \"bicep\",\r\n              \"version\": \"0.4.1008.15138\",\r\n              \"templateHash\": \"18335756685998555005\"\r\n            }\r\n          },\r\n          \"parameters\": {\r\n            \"location\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"centralus\"\r\n            },\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"uniquestorage001\",\r\n              \"maxLength\": 24,\r\n              \"minLength\": 3\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Providers.Test/statefulResources\",\r\n              \"apiVersion\": \"2014-04-01\",\r\n              \"name\": \"[parameters('storageAccountName')]\",\r\n              \"location\": \"[parameters('location')]\"\r\n            }\r\n          ],\r\n          \"outputs\": {\r\n            \"storageId\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[resourceId('Providers.Test/statefulResources', parameters('storageAccountName'))]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of deploymentStack update failed. See snapshot '/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-subscriptionemts7ybhsorjfov/snapshots/2022-01-31-21-15-31-65bdc' for more details.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"InvalidTemplate\",\r\n              \"message\": \"Deployment template validation failed: 'The template parameters 'foo, bar' in the parameters file are not valid; they are not present in the original template and can therefore not be provided at deployment time. The only supported parameters for this template are 'location, storageAccountName'. Please see https://aka.ms/arm-deploy/#parameter-file for usage details.'.\",\r\n              \"details\": [],\r\n              \"additionalInfo\": [\r\n                {\r\n                  \"type\": \"TemplateViolation\",\r\n                  \"info\": {\r\n                    \"lineNumber\": 0,\r\n                    \"linePosition\": 0,\r\n                    \"path\": \"\"\r\n                  }\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-01-31T21:15:30.9753025Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-01-31T21:15:30.9753025Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-create-deployment-stack-subscriptionemts7ybhsorjfov\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-create-deployment-stack-subscriptionemts7ybhsorjfov\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptiondbvorp/snapshots/2022-01-31-21-15-47-c195b\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2022-01-31-21-15-47-c195b\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-01-31T21:15:27.8976011Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-01-31T21:15:47.3485819Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptiondbvorp\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptiondbvorp\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscriptionvhlamdfam2di6327v/snapshots/2022-01-31-21-15-47-372f7\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-list-deployment-stack-subscri-2022-01-31-21-15-47-372f7\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-01-31T21:15:47.1545726Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-01-31T21:15:47.1545726Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscriptionvhlamdfam2di6327v\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-list-deployment-stack-subscriptionvhlamdfam2di6327v\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-subscriptiondio6hv5bbtenwfn/snapshots/2022-01-31-21-15-52-4485d\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-subsc-2022-01-31-21-15-52-4485d\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-01-31T21:15:52.0489531Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-01-31T21:15:52.0489531Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-subscriptiondio6hv5bbtenwfn\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-subscriptiondio6hv5bbtenwfn\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-get-deployment-stack-subscriptionojaq6tv6hjecor4cxj/snapshots/2022-01-31-21-15-57-551cf\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-get-deployment-stack-subscrip-2022-01-31-21-15-57-551cf\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-01-31T21:15:57.5343753Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-01-31T21:15:57.5343753Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-get-deployment-stack-subscriptionojaq6tv6hjecor4cxj\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-get-deployment-stack-subscriptionojaq6tv6hjecor4cxj\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-get-deployment-stack-subscriptionxbn3n33a3yl4aazwty/snapshots/2022-01-31-21-16-00-8a2b9\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-get-deployment-stack-subscrip-2022-01-31-21-16-00-8a2b9\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-01-31T21:15:59.6123268Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-01-31T21:15:59.6123268Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-get-deployment-stack-subscriptionxbn3n33a3yl4aazwty\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-get-deployment-stack-subscriptionxbn3n33a3yl4aazwty\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionk6jn5l/snapshots/2022-01-31-21-19-31-cc84c\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2022-01-31-21-19-31-cc84c\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-01-31T21:18:31.5879148Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-01-31T21:19:31.6976428Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionk6jn5l\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionk6jn5l\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hp77/snapshots/2022-04-25-18-25-15-c7aff\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/hp77-2022-04-25-18-25-15-c7aff\",\r\n        \"parameters\": {\r\n          \"sku\": {\r\n            \"value\": \"Basic\"\r\n          },\r\n          \"workerSize\": {\r\n            \"value\": 0\r\n          },\r\n          \"hostingPlanName\": {\r\n            \"value\": \"xDeploymentTestHost26669\"\r\n          },\r\n          \"siteLocation\": {\r\n            \"value\": \"East US\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"http://schema.management.azure.com/schemas/2014-04-01-preview/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"hostingPlanName\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"siteLocation\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"sku\": {\r\n              \"type\": \"string\",\r\n              \"allowedValues\": [\r\n                \"Free\",\r\n                \"Shared\",\r\n                \"Basic\",\r\n                \"Standard\"\r\n              ],\r\n              \"defaultValue\": \"Free\"\r\n            },\r\n            \"workerSize\": {\r\n              \"type\": \"int\",\r\n              \"allowedValues\": [\r\n                0,\r\n                1,\r\n                2\r\n              ],\r\n              \"defaultValue\": 0\r\n            }\r\n          },\r\n          \"resources\": [\r\n            {\r\n              \"apiVersion\": \"2014-04-01\",\r\n              \"name\": \"[parameters('hostingPlanName')]\",\r\n              \"type\": \"Microsoft.Web/serverfarms\",\r\n              \"location\": \"[parameters('siteLocation')]\",\r\n              \"properties\": {\r\n                \"name\": \"[parameters('hostingPlanName')]\",\r\n                \"sku\": \"[parameters('sku')]\",\r\n                \"workerSize\": \"[parameters('workerSize')]\",\r\n                \"numberOfWorkers\": 1\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of the deploymentStack failed. See snapshot '/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hp77/snapshots/2022-04-25-18-25-15-c7aff' for more details.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"DeploymentFailed\",\r\n              \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"ResourceNotFound\",\r\n                  \"message\": \"The Resource 'Microsoft.Web/serverFarms/xDeploymentTestHost26669' under resource group '<null>' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix\"\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-04-11T15:44:34.5616677Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-04-25T18:25:14.5149821Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hp77\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hp77\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionuyruv3/snapshots/2022-04-11-17-06-09-dc3dc\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2022-04-11-17-06-09-dc3dc\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-04-11T17:05:19.5709979Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-04-11T17:06:08.2890473Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscriptionuyruv3\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscriptionuyruv3\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscription7je46pkv4ly2w7sdt/snapshots/2022-04-11-17-05-36-5884b\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-list-deployment-stack-subscri-2022-04-11-17-05-36-5884b\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-04-11T17:05:34.9404604Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-04-11T17:05:34.9404604Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscription7je46pkv4ly2w7sdt\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-list-deployment-stack-subscription7je46pkv4ly2w7sdt\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-subscriptionawdwgojr2azfies/snapshots/2022-04-11-17-05-59-02f1d\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-subsc-2022-04-11-17-05-59-02f1d\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-04-11T17:05:57.7866312Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-04-11T17:05:57.7866312Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-subscriptionawdwgojr2azfies\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-subscriptionawdwgojr2azfies\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-get-deployment-stack-subscriptiono2u76jatulle7jxhjf/snapshots/2022-04-11-17-06-09-8433b\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-get-deployment-stack-subscrip-2022-04-11-17-06-09-8433b\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-04-11T17:06:08.197594Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-04-11T17:06:08.197594Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-get-deployment-stack-subscriptiono2u76jatulle7jxhjf\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-get-deployment-stack-subscriptiono2u76jatulle7jxhjf\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-get-deployment-stack-subscription4wd5bhjmz6soao5lee/snapshots/2022-04-11-17-06-11-ddf64\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-get-deployment-stack-subscrip-2022-04-11-17-06-11-ddf64\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-04-11T17:06:09.3601536Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-04-11T17:06:09.3601536Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-get-deployment-stack-subscription4wd5bhjmz6soao5lee\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-get-deployment-stack-subscription4wd5bhjmz6soao5lee\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscription5hi54v/snapshots/2022-04-11-17-09-08-2aedf\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-snaps-2022-04-11-17-09-08-2aedf\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-04-11T17:08:15.9398492Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-04-11T17:09:07.7562419Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-snapshot-subscription5hi54v\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-snapshot-subscription5hi54v\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscriptiontds4i2di4gqv4ikk4/snapshots/2022-04-11-17-08-37-7e9d6\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-list-deployment-stack-subscri-2022-04-11-17-08-37-7e9d6\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-04-11T17:08:35.4317746Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-04-11T17:08:35.4317746Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscriptiontds4i2di4gqv4ikk4\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-list-deployment-stack-subscriptiontds4i2di4gqv4ikk4\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-subscriptionny3opsthmn5kvl7/snapshots/2022-04-11-17-09-06-0fa1a\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-delete-deployment-stack-subsc-2022-04-11-17-09-06-0fa1a\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-04-11T17:09:03.1785622Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-04-11T17:09:03.1785622Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-delete-deployment-stack-subscriptionny3opsthmn5kvl7\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-delete-deployment-stack-subscriptionny3opsthmn5kvl7\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-get-deployment-stack-subscriptionoulsxedw52jvdiqpjn/snapshots/2022-04-11-17-09-11-08ec1\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-get-deployment-stack-subscrip-2022-04-11-17-09-11-08ec1\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-04-11T17:09:08.9243576Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-04-11T17:09:08.9243576Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-get-deployment-stack-subscriptionoulsxedw52jvdiqpjn\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-get-deployment-stack-subscriptionoulsxedw52jvdiqpjn\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-get-deployment-stack-subscriptionn23qblpzc27zivvotn/snapshots/2022-04-11-17-09-15-a6fb0\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-get-deployment-stack-subscrip-2022-04-11-17-09-15-a6fb0\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-04-11T17:09:13.4236281Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-04-11T17:09:13.4236281Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-get-deployment-stack-subscriptionn23qblpzc27zivvotn\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-get-deployment-stack-subscriptionn23qblpzc27zivvotn\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscriptionnlqtjrafznkqelasu/snapshots/2022-04-11-17-11-52-2b52e\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-list-deployment-stack-subscri-2022-04-11-17-11-52-2b52e\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-04-11T17:11:50.1377153Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-04-11T17:11:50.1377153Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscriptionnlqtjrafznkqelasu\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-list-deployment-stack-subscriptionnlqtjrafznkqelasu\"\r\n    }\r\n  ],\r\n  \"nextLink\": \"https://management.azure.com/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks?api-version=2021-05-01-preview&%24skiptoken=zc7dboIwAIbheyHLjlYpiIomZkEEfyJmU5nTk6W2hXUorW0BwXjv0%2bwm9h1%2fyftcjZxe9ILlmTIGVyPw1pt4bQyMb62FGpjmCeUopSea6xZqCklbmJ9MVRwUlkxoxnNlIuuQoG67AxL7kADHTizgdg8d4Dou7vacBLdtyxSSl4xQqcyIYckVT3RrRRUvJKbKJFQcef2orDXCmXpFgoHy%2fr4Hhja0LQA7AFpASFoyWhkvxjZ4QO3%2fLn1%2bUhkTG57RfDh11Mz7W%2bDNiuKDyXkDe8u4N1%2fDtFeTxeR8bvvNZjqFpFIVc7ndT9MLnq4g8fb%2b1iqPfOTJHdi%2bzyZY7qpovMdfaeSrn33c%2f0xq1cRW1OA6JgItgvJtFc%2bRPgtyibJJ6GWkCXw2HlfLdLmw%2fLPcwdALR76CfvhgGbfbLw%3d%3d\"\r\n}",
      "StatusCode": 200
    },
    {
      "RequestUri": "/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks?api-version=2021-05-01-preview&%24skiptoken=zc7dboIwAIbheyHLjlYpiIomZkEEfyJmU5nTk6W2hXUorW0BwXjv0%2bwm9h1%2fyftcjZxe9ILlmTIGVyPw1pt4bQyMb62FGpjmCeUopSea6xZqCklbmJ9MVRwUlkxoxnNlIuuQoG67AxL7kADHTizgdg8d4Dou7vacBLdtyxSSl4xQqcyIYckVT3RrRRUvJKbKJFQcef2orDXCmXpFgoHy%2fr4Hhja0LQA7AFpASFoyWhkvxjZ4QO3%2fLn1%2bUhkTG57RfDh11Mz7W%2bDNiuKDyXkDe8u4N1%2fDtFeTxeR8bvvNZjqFpFIVc7ndT9MLnq4g8fb%2b1iqPfOTJHdi%2bzyZY7qpovMdfaeSrn33c%2f0xq1cRW1OA6JgItgvJtFc%2bRPgtyibJJ6GWkCXw2HlfLdLmw%2fLPcwdALR76CfvhgGbfbLw%3d%3d",
      "EncodedRequestUri": "L3N1YnNjcmlwdGlvbnMvYTFiZmE2MzUtZjJiZi00MmYxLTg2YjUtODQ4YzY3NGZjMzIxL3Byb3ZpZGVycy9NaWNyb3NvZnQuUmVzb3VyY2VzL2RlcGxveW1lbnRTdGFja3M/YXBpLXZlcnNpb249MjAyMS0wNS0wMS1wcmV2aWV3JiUyNHNraXB0b2tlbj16YzdkYm9Jd0FJYmhleUhMamxZcGlJb21aa0VFZnlKbVU1blRrNlcyaFhVb3JXMEJ3WGp2MCUyYndtOWgxJTJmeWZ0Y2paeGU5SUxsbVRJR1Z5UHcxcHQ0YlF5TWI2MkZHcGptQ2VVb3BTZWE2eFpxQ2tsYm1KOU1WUndVbGt4b3huTmxJdXVRb0c2N0F4TDdrQURIVGl6Z2RnOGQ0RG91N3ZhY0JMZHR5eFNTbDR4UXFjeUlZY2tWVDNSclJSVXZKS2JLSkZRY2VmMm9yRFhDbVhwRmdvSHklMmZyNEhoamEwTFFBN0FGcEFTRm95V2hrdnhqWjRRTzMlMmZMbjElMmJVaGtURzU3UmZEaDExTXo3VyUyYkROaXVLRHlYa0RlOHU0TjElMmZEdEZlVHhlUjhidnZOWmpxRnBGSVZjN25kVDlNTG5xNGc4ZmIlMmIxaXFQZk9USkhkaSUyYnp5Wlk3cXBvdk1kZmFlU3JuMzNjJTJmMHhxMWNSVzFPQTZKZ0l0Z3ZKdEZjJTJiUlBndHlpYkpKNkdXa0NYdzJIbGZMZExtdyUyZkxQY3dkQUxSNzZDZnZoZ0diZmJMdyUzZCUzZA==",
      "RequestMethod": "GET",
      "RequestBody": "",
      "RequestHeaders": {
        "x-ms-client-request-id": [
          "a6f6296f-f47c-4a87-9bd2-ac9f4f5cc121"
        ],
        "Accept-Language": [
          "en-US"
        ],
        "User-Agent": [
          "FxVersion/4.6.30411.01",
          "OSName/Windows",
          "OSVersion/Microsoft.Windows.10.0.22000.",
          "Microsoft.Azure.Management.ResourceManager.DeploymentStacksClient/3.13.2.0"
        ]
      },
      "ResponseHeaders": {
        "Cache-Control": [
          "no-cache"
        ],
        "Pragma": [
          "no-cache"
        ],
        "x-ms-original-request-ids": [
          "7095a24d-d56d-4dda-91db-631031ab63fa",
          "63a459ab-bbe8-42cc-9485-663355119e28"
        ],
        "x-ms-ratelimit-remaining-subscription-reads": [
          "11996"
        ],
        "x-ms-request-id": [
          "57ff32e3-f670-469f-bfd7-039c11c63cbd"
        ],
        "x-ms-correlation-request-id": [
          "57ff32e3-f670-469f-bfd7-039c11c63cbd"
        ],
        "x-ms-routing-request-id": [
          "EASTUS2:20220425T184216Z:57ff32e3-f670-469f-bfd7-039c11c63cbd"
        ],
        "Strict-Transport-Security": [
          "max-age=31536000; includeSubDomains"
        ],
        "X-Content-Type-Options": [
          "nosniff"
        ],
        "Date": [
          "Mon, 25 Apr 2022 18:42:16 GMT"
        ],
        "Content-Type": [
          "application/json; charset=utf-8"
        ],
        "Expires": [
          "-1"
        ],
        "Content-Length": [
          "55068"
        ],
        "Retry-After": [
          "0"
        ]
      },
      "ResponseBody": "{\r\n  \"value\": [\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscriptionpuoh26b6axfjpjbgs/snapshots/2022-04-11-17-14-01-9c921\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/cli-test-list-deployment-stack-subscri-2022-04-11-17-14-01-9c921\",\r\n        \"deploymentScope\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321\",\r\n        \"parameters\": {\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          },\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"foo\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"bar\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-04-11T17:13:59.5897268Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-04-11T17:13:59.5897268Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/cli-test-list-deployment-stack-subscriptionpuoh26b6axfjpjbgs\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"cli-test-list-deployment-stack-subscriptionpuoh26b6axfjpjbgs\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hp23/snapshots/2022-04-19-19-53-26-26125\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"parameters\": {},\r\n        \"templateLink\": {\r\n          \"uri\": \"https://hpstorageaccount1000.blob.core.windows.net/hpcontainer/simpletemplat\"\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of the deploymentStack failed. See snapshot '/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hp23/snapshots/2022-04-19-19-53-26-26125' for more details.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"InvalidContentLink\",\r\n              \"message\": \"Unable to download deployment content from 'https://hpstorageaccount1000.blob.core.windows.net/hpcontainer/simpletemplat'. The tracking Id is '411f217a-ffdc-43fe-bf71-24b75e6b2a55'. Please see https://aka.ms/arm-deploy for usage details.\",\r\n              \"details\": [],\r\n              \"additionalInfo\": []\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-04-19T19:53:24.0334447Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-04-19T19:53:24.0334447Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hp23\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hp23\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hp82/snapshots/2022-04-21-18-57-25-ae0bd\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"parameters\": {},\r\n        \"templateLink\": {\r\n          \"uri\": \"https://hpstorageaccount1000.blob.core.windows.net/hpcontainer/simpletemplat\"\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of the deploymentStack failed. See snapshot '/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hp82/snapshots/2022-04-21-18-57-25-ae0bd' for more details.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"InvalidContentLink\",\r\n              \"message\": \"Unable to download deployment content from 'https://hpstorageaccount1000.blob.core.windows.net/hpcontainer/simpletemplat'. The tracking Id is '0fc50863-9f11-491c-be2f-26bc1813e556'. Please see https://aka.ms/arm-deploy for usage details.\",\r\n              \"details\": [],\r\n              \"additionalInfo\": []\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"harshpatel@microsoft.com\",\r\n        \"createdByType\": \"User\",\r\n        \"createdAt\": \"2022-04-21T18:57:22.9382114Z\",\r\n        \"lastModifiedBy\": \"harshpatel@microsoft.com\",\r\n        \"lastModifiedByType\": \"User\",\r\n        \"lastModifiedAt\": \"2022-04-21T18:57:22.9382114Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/hp82\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"hp82\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps4306/snapshots/2022-04-22-16-48-19-6e0e2\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps4306-2022-04-22-16-48-19-6e0e2\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2022-04-22T16:46:37.4846781Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2022-04-22T16:48:18.2376819Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps4306\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps4306\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps4441/snapshots/2022-04-22-16-51-09-f271e\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps4441-2022-04-22-16-51-09-f271e\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"templateLink\": {\r\n          \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps2399/providers/Microsoft.Resources/templateSpecs/ps2494/versions/v1\"\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2022-04-22T16:50:33.598735Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2022-04-22T16:51:08.7092523Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps4441\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps4441\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps8719/snapshots/2022-04-22-16-53-52-88805\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps8719-2022-04-22-16-53-52-88805\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2022-04-22T16:53:50.4870495Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2022-04-22T16:53:50.4870495Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps8719\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps8719\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps1307/snapshots/2022-04-22-16-55-15-023dd\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps1307-2022-04-22-16-55-15-023dd\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2022-04-22T16:55:12.7052984Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2022-04-22T16:55:12.7052984Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps1307\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps1307\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps3275/snapshots/2022-04-22-17-03-16-899fe\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps3275-2022-04-22-17-03-16-899fe\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2022-04-22T17:02:41.1244637Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2022-04-22T17:03:15.1082627Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps3275\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps3275\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps2022/snapshots/2022-04-22-17-08-10-c1758\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps2022-2022-04-22-17-08-10-c1758\",\r\n        \"parameters\": {\r\n          \"bar\": {\r\n            \"value\": \"xyz\"\r\n          },\r\n          \"foo\": {\r\n            \"value\": \"abc\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"metadata\": {\r\n                \"description\": \"description\"\r\n              }\r\n            }\r\n          },\r\n          \"functions\": [],\r\n          \"variables\": {},\r\n          \"resources\": [],\r\n          \"outputs\": {\r\n            \"foo\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('foo')]\"\r\n            },\r\n            \"bar\": {\r\n              \"type\": \"string\",\r\n              \"value\": \"[parameters('bar')]\"\r\n            }\r\n          }\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2022-04-22T17:08:07.8577681Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2022-04-22T17:08:07.8577681Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps2022\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps2022\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps1913/snapshots/2022-04-22-17-31-58-8ecee\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps1913-2022-04-22-17-31-58-8ecee\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2022-04-22T17:30:23.5098344Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2022-04-22T17:31:56.7883282Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps1913\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps1913\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps5815/snapshots/2022-04-22-17-34-13-629ba\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps5815-2022-04-22-17-34-13-629ba\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"templateLink\": {\r\n          \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps8794/providers/Microsoft.Resources/templateSpecs/ps283/versions/v1\"\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2022-04-22T17:33:25.815992Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2022-04-22T17:34:12.9983797Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps5815\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps5815\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps832/snapshots/2022-04-22-17-37-11-73ef9\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps832-2022-04-22-17-37-11-73ef9\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2022-04-22T17:37:09.0011353Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2022-04-22T17:37:09.0011353Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps832\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps832\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps8224/snapshots/2022-04-22-17-38-26-a1b80\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps8224-2022-04-22-17-38-26-a1b80\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2022-04-22T17:38:24.0548236Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2022-04-22T17:38:24.0548236Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps8224\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps8224\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps5967/snapshots/2022-04-25-17-00-49-29ee3\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps5967-2022-04-25-17-00-49-29ee3\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2022-04-25T16:55:03.7751295Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2022-04-25T17:00:46.5883527Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps5967\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps5967\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps1886/snapshots/2022-04-25-17-02-47-b923e\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps1886-2022-04-25-17-02-47-b923e\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"templateLink\": {\r\n          \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps8033/providers/Microsoft.Resources/templateSpecs/ps1794/versions/v1\"\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2022-04-25T17:02:07.7242282Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2022-04-25T17:02:45.470847Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps1886\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps1886\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps2292/snapshots/2022-04-25-17-05-31-ded65\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps2292-2022-04-25-17-05-31-ded65\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2022-04-25T17:05:28.4068234Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2022-04-25T17:05:28.4068234Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps2292\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps2292\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps2994/snapshots/2022-04-25-17-06-45-05ecf\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps2994-2022-04-25-17-06-45-05ecf\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2022-04-25T17:06:43.0639185Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2022-04-25T17:06:43.0639185Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps2994\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps2994\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps9521/snapshots/2022-04-25-17-14-25-5f3bb\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps9521-2022-04-25-17-14-25-5f3bb\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2022-04-25T17:13:52.3029272Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2022-04-25T17:14:24.7369532Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps9521\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps9521\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps2090/snapshots/2022-04-25-17-22-25-70ea1\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps2090-2022-04-25-17-22-25-70ea1\",\r\n        \"parameters\": {\r\n          \"hostingPlanName\": {\r\n            \"value\": \"xDeploymentTestHost26669\"\r\n          },\r\n          \"workerSize\": {\r\n            \"value\": 0\r\n          },\r\n          \"sku\": {\r\n            \"value\": \"Basic\"\r\n          },\r\n          \"siteLocation\": {\r\n            \"value\": \"East US\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"http://schema.management.azure.com/schemas/2014-04-01-preview/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"hostingPlanName\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"siteLocation\": {\r\n              \"type\": \"string\"\r\n            },\r\n            \"sku\": {\r\n              \"type\": \"string\",\r\n              \"allowedValues\": [\r\n                \"Free\",\r\n                \"Shared\",\r\n                \"Basic\",\r\n                \"Standard\"\r\n              ],\r\n              \"defaultValue\": \"Free\"\r\n            },\r\n            \"workerSize\": {\r\n              \"type\": \"int\",\r\n              \"allowedValues\": [\r\n                0,\r\n                1,\r\n                2\r\n              ],\r\n              \"defaultValue\": 0\r\n            }\r\n          },\r\n          \"resources\": [\r\n            {\r\n              \"apiVersion\": \"2014-04-01\",\r\n              \"name\": \"[parameters('hostingPlanName')]\",\r\n              \"type\": \"Microsoft.Web/serverfarms\",\r\n              \"location\": \"[parameters('siteLocation')]\",\r\n              \"properties\": {\r\n                \"name\": \"[parameters('hostingPlanName')]\",\r\n                \"sku\": \"[parameters('sku')]\",\r\n                \"workerSize\": \"[parameters('workerSize')]\",\r\n                \"numberOfWorkers\": 1\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [],\r\n        \"provisioningState\": \"failed\",\r\n        \"error\": {\r\n          \"code\": \"DeploymentStackUpdateFailed\",\r\n          \"message\": \"One or more stages of the deploymentStack failed. See snapshot '/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps2090/snapshots/2022-04-25-17-22-25-70ea1' for more details.\",\r\n          \"details\": [\r\n            {\r\n              \"code\": \"DeploymentFailed\",\r\n              \"message\": \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\",\r\n              \"details\": [\r\n                {\r\n                  \"code\": \"ResourceNotFound\",\r\n                  \"message\": \"The Resource 'Microsoft.Web/serverFarms/xDeploymentTestHost26669' under resource group '<null>' was not found. For more details please go to https://aka.ms/ARMResourceNotFoundFix\"\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        }\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2022-04-25T17:22:23.3588989Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2022-04-25T17:22:23.3588989Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps2090\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps2090\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps9456/snapshots/2022-04-25-18-36-57-b58e4\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps9456-2022-04-25-18-36-57-b58e4\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2022-04-25T18:35:09.0556409Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2022-04-25T18:36:55.1551166Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps9456\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps9456\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps1667/snapshots/2022-04-25-18-38-51-288d4\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps1667-2022-04-25-18-38-51-288d4\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"templateLink\": {\r\n          \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps4008/providers/Microsoft.Resources/templateSpecs/ps6226/versions/v1\"\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2022-04-25T18:38:15.3633486Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2022-04-25T18:38:50.4274414Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps1667\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps1667\"\r\n    },\r\n    {\r\n      \"location\": \"westus2\",\r\n      \"properties\": {\r\n        \"snapshotId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps6461/snapshots/2022-04-25-18-41-35-25f36\",\r\n        \"updateBehavior\": \"detachResources\",\r\n        \"deploymentId\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deployments/ps6461-2022-04-25-18-41-35-25f36\",\r\n        \"parameters\": {\r\n          \"storageAccountName\": {\r\n            \"value\": \"armbuilddemo18123\"\r\n          }\r\n        },\r\n        \"template\": {\r\n          \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n          \"contentVersion\": \"1.0.0.0\",\r\n          \"parameters\": {\r\n            \"storageAccountName\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"armbuilddemo18122\"\r\n            },\r\n            \"nestedDeploymentRG\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"ps_test_subscription_deployment\"\r\n            },\r\n            \"policyLocation\": {\r\n              \"type\": \"string\",\r\n              \"defaultValue\": \"northeurope\"\r\n            }\r\n          },\r\n          \"variables\": {},\r\n          \"resources\": [\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyDefinitions\",\r\n              \"name\": \"policy2\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"properties\": {\r\n                \"policyType\": \"Custom\",\r\n                \"parameters\": {},\r\n                \"policyRule\": {\r\n                  \"if\": {\r\n                    \"field\": \"location\",\r\n                    \"equals\": \"[parameters('policyLocation')]\"\r\n                  },\r\n                  \"then\": {\r\n                    \"effect\": \"deny\"\r\n                  }\r\n                }\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Authorization/policyAssignments\",\r\n              \"name\": \"location-lock\",\r\n              \"apiVersion\": \"2016-12-01\",\r\n              \"dependsOn\": [\r\n                \"policy2\"\r\n              ],\r\n              \"properties\": {\r\n                \"scope\": \"[subscription().id]\",\r\n                \"policyDefinitionId\": \"[resourceId('Microsoft.Authorization/policyDefinitions', 'policy2')]\"\r\n              }\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/resourceGroups\",\r\n              \"name\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"location\": \"West US\",\r\n              \"apiVersion\": \"2019-05-01\",\r\n              \"properties\": {}\r\n            },\r\n            {\r\n              \"type\": \"Microsoft.Resources/deployments\",\r\n              \"name\": \"rg-nested\",\r\n              \"apiVersion\": \"2017-05-10\",\r\n              \"resourceGroup\": \"[parameters('nestedDeploymentRG')]\",\r\n              \"dependsOn\": [\r\n                \"[parameters('nestedDeploymentRG')]\"\r\n              ],\r\n              \"properties\": {\r\n                \"template\": {\r\n                  \"$schema\": \"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\",\r\n                  \"contentVersion\": \"1.0.0.0\",\r\n                  \"parameters\": {},\r\n                  \"variables\": {},\r\n                  \"resources\": [\r\n                    {\r\n                      \"type\": \"Microsoft.Storage/storageAccounts\",\r\n                      \"name\": \"[parameters('storageAccountName')]\",\r\n                      \"apiVersion\": \"2015-06-15\",\r\n                      \"location\": \"East US\",\r\n                      \"properties\": {\r\n                        \"accountType\": \"Standard_LRS\"\r\n                      }\r\n                    }\r\n                  ]\r\n                },\r\n                \"mode\": \"Incremental\"\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        \"managedResources\": [\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyAssignments/location-lock\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Authorization/policyDefinitions/policy2\"\r\n          },\r\n          {\r\n            \"lockMode\": \"none\",\r\n            \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/resourceGroups/ps_test_subscription_deployment/providers/Microsoft.Storage/storageAccounts/armbuilddemo18123\"\r\n          }\r\n        ],\r\n        \"provisioningState\": \"succeeded\"\r\n      },\r\n      \"systemData\": {\r\n        \"createdBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"createdByType\": \"Application\",\r\n        \"createdAt\": \"2022-04-25T18:41:32.3821421Z\",\r\n        \"lastModifiedBy\": \"546094f3-32fa-493c-824c-bd9575b0d2fe\",\r\n        \"lastModifiedByType\": \"Application\",\r\n        \"lastModifiedAt\": \"2022-04-25T18:41:32.3821421Z\"\r\n      },\r\n      \"id\": \"/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks/ps6461\",\r\n      \"type\": \"Microsoft.Resources/deploymentStacks\",\r\n      \"name\": \"ps6461\"\r\n    }\r\n  ],\r\n  \"nextLink\": \"https://management.azure.com/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks?api-version=2021-05-01-preview&%24skiptoken=Fc1LDsIgFADAu7CnFPqxaWKMC3e6sXoAwIeSWiA8Wj9N727dTzIzcfBOR%2bt6JO1MDvvucu1ISx4pBWwZG6STdxjApUx%2bxwiZ9gPDUaGONiTrHTLJlZF1UVEjlKGlMJw2tapoUza63pRGF4KzEP1kbxCRnayOHr1J2RnQj1EDshuEp%2f%2f8ly5J3eNOBkunVa%2fBVuSC07yiOachwmThRZblBw%3d%3d\"\r\n}",
      "StatusCode": 200
    },
    {
      "RequestUri": "/subscriptions/a1bfa635-f2bf-42f1-86b5-848c674fc321/providers/Microsoft.Resources/deploymentStacks?api-version=2021-05-01-preview&%24skiptoken=Fc1LDsIgFADAu7CnFPqxaWKMC3e6sXoAwIeSWiA8Wj9N727dTzIzcfBOR%2bt6JO1MDvvucu1ISx4pBWwZG6STdxjApUx%2bxwiZ9gPDUaGONiTrHTLJlZF1UVEjlKGlMJw2tapoUza63pRGF4KzEP1kbxCRnayOHr1J2RnQj1EDshuEp%2f%2f8ly5J3eNOBkunVa%2fBVuSC07yiOachwmThRZblBw%3d%3d",
      "EncodedRequestUri": "L3N1YnNjcmlwdGlvbnMvYTFiZmE2MzUtZjJiZi00MmYxLTg2YjUtODQ4YzY3NGZjMzIxL3Byb3ZpZGVycy9NaWNyb3NvZnQuUmVzb3VyY2VzL2RlcGxveW1lbnRTdGFja3M/YXBpLXZlcnNpb249MjAyMS0wNS0wMS1wcmV2aWV3JiUyNHNraXB0b2tlbj1GYzFMRHNJZ0ZBREF1N0NuRlBxeGFXS01DM2U2c1hvQXdJZVNXaUE4V2o5TjcyN2RUekl6Y2ZCT1IlMmJ0NkpPMU1EdnZ1Y3UxSVN4NHBCV3daRzZTVGR4akFwVXglMmJ4d2laOWdQRFVhR09OaVRySFRMSmxaRjFVVkVqbEtHbE1KdzJ0YXBvVXphNjNwUkdGNEt6RVAxa2J4Q1JuYXlPSHIxSjJSblFqMUVEc2h1RXAlMmYlMmY4bHk1SjNlTk9Ca3VuVmElMmZCVnVTQzA3eWlPYWNod21UaFJaYmxCdyUzZCUzZA==",
      "RequestMethod": "GET",
      "RequestBody": "",
      "RequestHeaders": {
        "x-ms-client-request-id": [
          "a6f6296f-f47c-4a87-9bd2-ac9f4f5cc121"
        ],
        "Accept-Language": [
          "en-US"
        ],
        "User-Agent": [
          "FxVersion/4.6.30411.01",
          "OSName/Windows",
          "OSVersion/Microsoft.Windows.10.0.22000.",
          "Microsoft.Azure.Management.ResourceManager.DeploymentStacksClient/3.13.2.0"
        ]
      },
      "ResponseHeaders": {
        "Cache-Control": [
          "no-cache"
        ],
        "Pragma": [
          "no-cache"
        ],
        "x-ms-failure-cause": [
          "service"
        ],
        "x-ms-request-id": [
          "8b5cb147-10af-473c-9f94-5991f3b46e9c"
        ],
        "x-ms-correlation-request-id": [
          "8b5cb147-10af-473c-9f94-5991f3b46e9c"
        ],
        "x-ms-routing-request-id": [
          "EASTUS2:20220425T184246Z:8b5cb147-10af-473c-9f94-5991f3b46e9c"
        ],
        "Strict-Transport-Security": [
          "max-age=31536000; includeSubDomains"
        ],
        "X-Content-Type-Options": [
          "nosniff"
        ],
        "Date": [
          "Mon, 25 Apr 2022 18:42:46 GMT"
        ],
        "Connection": [
          "close"
        ],
        "Content-Type": [
          "application/json; charset=utf-8"
        ],
        "Expires": [
          "-1"
        ],
        "Content-Length": [
          "152"
        ],
        "Retry-After": [
          "0"
        ]
      },
      "ResponseBody": "{\r\n  \"error\": {\r\n    \"code\": \"ProviderError\",\r\n    \"message\": \"Resource provider 'Microsoft.Resources' failed to return collection response for type 'deploymentStacks'.\"\r\n  }\r\n}",
      "StatusCode": 502
    }
  ],
  "Names": {
    "Test-GetSubscriptionDeploymentStack": [
      "ps8481",
      "ps6461"
    ]
  },
  "Variables": {
    "SubscriptionId": "a1bfa635-f2bf-42f1-86b5-848c674fc321"
  }
}