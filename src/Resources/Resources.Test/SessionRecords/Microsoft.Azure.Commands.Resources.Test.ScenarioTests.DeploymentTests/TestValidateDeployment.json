{
  "Entries": [
    {
      "RequestUri": "/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourcegroups/ps4100?api-version=2018-05-01",
      "EncodedRequestUri": "L3N1YnNjcmlwdGlvbnMvYzljYmQ5MjAtYzAwYy00MjdjLTg1MmItOGFhZjM4YmFkYWViL3Jlc291cmNlZ3JvdXBzL3BzNDEwMD9hcGktdmVyc2lvbj0yMDE4LTA1LTAx",
      "RequestMethod": "HEAD",
      "RequestBody": "",
      "RequestHeaders": {
        "x-ms-client-request-id": [
          "0cd4ea1f-d7a0-4fca-a8f2-83872ba4c869"
        ],
        "Accept-Language": [
          "en-US"
        ],
        "User-Agent": [
          "FxVersion/4.6.27129.04",
          "OSName/Windows",
          "OSVersion/Microsoft.Windows.10.0.17763.",
          "Microsoft.Azure.Management.ResourceManager.ResourceManagementClient/1.9.1.0"
        ]
      },
      "ResponseHeaders": {
        "Cache-Control": [
          "no-cache"
        ],
        "Pragma": [
          "no-cache"
        ],
        "x-ms-failure-cause": [
          "gateway"
        ],
        "x-ms-ratelimit-remaining-subscription-reads": [
          "11999"
        ],
        "x-ms-request-id": [
          "b66e3f4d-e305-4cac-8955-eb859a65469d"
        ],
        "x-ms-correlation-request-id": [
          "b66e3f4d-e305-4cac-8955-eb859a65469d"
        ],
        "x-ms-routing-request-id": [
          "WESTUS2:20190226T205216Z:b66e3f4d-e305-4cac-8955-eb859a65469d"
        ],
        "Strict-Transport-Security": [
          "max-age=31536000; includeSubDomains"
        ],
        "X-Content-Type-Options": [
          "nosniff"
        ],
        "Date": [
          "Tue, 26 Feb 2019 20:52:16 GMT"
        ],
        "Content-Length": [
          "98"
        ],
        "Content-Type": [
          "application/json; charset=utf-8"
        ],
        "Expires": [
          "-1"
        ],
        "Retry-After": [
          "0"
        ]
      },
      "ResponseBody": "",
      "StatusCode": 404
    },
    {
      "RequestUri": "/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourcegroups/ps4100?api-version=2018-05-01",
      "EncodedRequestUri": "L3N1YnNjcmlwdGlvbnMvYzljYmQ5MjAtYzAwYy00MjdjLTg1MmItOGFhZjM4YmFkYWViL3Jlc291cmNlZ3JvdXBzL3BzNDEwMD9hcGktdmVyc2lvbj0yMDE4LTA1LTAx",
      "RequestMethod": "PUT",
      "RequestBody": "{\r\n  \"location\": \"West US 2\"\r\n}",
      "RequestHeaders": {
        "x-ms-client-request-id": [
          "91bd04a8-2a94-456d-b058-3083ab605e88"
        ],
        "Accept-Language": [
          "en-US"
        ],
        "User-Agent": [
          "FxVersion/4.6.27129.04",
          "OSName/Windows",
          "OSVersion/Microsoft.Windows.10.0.17763.",
          "Microsoft.Azure.Management.ResourceManager.ResourceManagementClient/1.9.1.0"
        ],
        "Content-Type": [
          "application/json; charset=utf-8"
        ],
        "Content-Length": [
          "31"
        ]
      },
      "ResponseHeaders": {
        "Cache-Control": [
          "no-cache"
        ],
        "Pragma": [
          "no-cache"
        ],
        "x-ms-ratelimit-remaining-subscription-writes": [
          "1199"
        ],
        "x-ms-request-id": [
          "e80175f1-ee4c-484d-85f3-63dba01a66dd"
        ],
        "x-ms-correlation-request-id": [
          "e80175f1-ee4c-484d-85f3-63dba01a66dd"
        ],
        "x-ms-routing-request-id": [
          "WESTUS2:20190226T205217Z:e80175f1-ee4c-484d-85f3-63dba01a66dd"
        ],
        "Strict-Transport-Security": [
          "max-age=31536000; includeSubDomains"
        ],
        "X-Content-Type-Options": [
          "nosniff"
        ],
        "Date": [
          "Tue, 26 Feb 2019 20:52:17 GMT"
        ],
        "Content-Length": [
          "166"
        ],
        "Content-Type": [
          "application/json; charset=utf-8"
        ],
        "Expires": [
          "-1"
        ],
        "Retry-After": [
          "0"
        ]
      },
      "ResponseBody": "{\r\n  \"id\": \"/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourceGroups/ps4100\",\r\n  \"name\": \"ps4100\",\r\n  \"location\": \"westus2\",\r\n  \"properties\": {\r\n    \"provisioningState\": \"Succeeded\"\r\n  }\r\n}",
      "StatusCode": 201
    },
    {
      "RequestUri": "/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourcegroups/ps4100/providers/Microsoft.Resources/deployments/fe61ecbc-1779-46be-a6a5-cf068cb54556/validate?api-version=2018-05-01",
      "EncodedRequestUri": "L3N1YnNjcmlwdGlvbnMvYzljYmQ5MjAtYzAwYy00MjdjLTg1MmItOGFhZjM4YmFkYWViL3Jlc291cmNlZ3JvdXBzL3BzNDEwMC9wcm92aWRlcnMvTWljcm9zb2Z0LlJlc291cmNlcy9kZXBsb3ltZW50cy9mZTYxZWNiYy0xNzc5LTQ2YmUtYTZhNS1jZjA2OGNiNTQ1NTYvdmFsaWRhdGU/YXBpLXZlcnNpb249MjAxOC0wNS0wMQ==",
      "RequestMethod": "POST",
      "RequestBody": "{\r\n  \"properties\": {\r\n    \"template\": {\r\n      \"$schema\": \"http://johngosmanage.blob.core.windows.net/schemas/2014-04-01-preview/deploymentTemplate.json\",\r\n      \"contentVersion\": \"1.0.0.0\",\r\n      \"parameters\": {\r\n        \"siteName\": {\r\n          \"type\": \"string\"\r\n        },\r\n        \"hostingPlanName\": {\r\n          \"type\": \"string\"\r\n        },\r\n        \"siteLocation\": {\r\n          \"type\": \"string\"\r\n        },\r\n        \"sku\": {\r\n          \"type\": \"string\",\r\n          \"allowedValues\": [\r\n            \"Free\",\r\n            \"Shared\",\r\n            \"Basic\",\r\n            \"Standard\"\r\n          ]\r\n        },\r\n        \"workerSize\": {\r\n          \"type\": \"string\",\r\n          \"allowedValues\": [\r\n            \"0\",\r\n            \"1\",\r\n            \"2\"\r\n          ]\r\n        }\r\n      },\r\n      \"resources\": [\r\n        {\r\n          \"apiVersion\": \"2014-04-01\",\r\n          \"name\": \"[parameters('hostingPlanName')]\",\r\n          \"type\": \"Microsoft.Web/serverfarms\",\r\n          \"location\": \"[parameters('siteLocation')]\",\r\n          \"properties\": {\r\n            \"name\": \"[parameters('hostingPlanName')]\",\r\n            \"sku\": \"[parameters('sku')]\",\r\n            \"workerSize\": \"0\",\r\n            \"numberOfWorkers\": 0\r\n          }\r\n        },\r\n        {\r\n          \"apiVersion\": \"2014-04-01\",\r\n          \"name\": \"[parameters('siteName')]\",\r\n          \"type\": \"Microsoft.Web/sites\",\r\n          \"location\": \"[parameters('siteLocation')]\",\r\n          \"tags\": {\r\n            \"[concat('hidden-related:', resourceGroup().id, '/providers/Microsoft.Web/serverfarms/', parameters('hostingPlanName'))]\": \"empty\"\r\n          },\r\n          \"dependsOn\": [\r\n            \"[concat('Microsoft.Web/serverfarms/', parameters('hostingPlanName'))]\"\r\n          ],\r\n          \"properties\": {\r\n            \"name\": \"[parameters('siteName')]\",\r\n            \"serverFarm\": \"[parameters('hostingPlanName')]\"\r\n          },\r\n          \"resources\": [\r\n            {\r\n              \"apiVersion\": \"01-01-2014\",\r\n              \"name\": \"MSDeploy\",\r\n              \"type\": \"Extensions\",\r\n              \"dependsOn\": [\r\n                \"[concat('Microsoft.Web/Sites/', parameters('siteName'))]\"\r\n              ],\r\n              \"properties\": {\r\n                \"packageUri\": \"https://templatetest.blob.core.windows.net/deployments/ClipMeme.zip\",\r\n                \"dbType\": \"None\",\r\n                \"connectionString\": \"\",\r\n                \"setParameters\": {\r\n                  \"IIS Web Application Name\": \"[parameters('siteName')]\"\r\n                }\r\n              }\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          \"apiVersion\": \"2014-04\",\r\n          \"name\": \"[concat(parameters('hostingPlanName'), '-', resourceGroup().name)]\",\r\n          \"type\": \"microsoft.insights/autoscalesettings\",\r\n          \"location\": \"East US\",\r\n          \"tags\": {\r\n            \"[concat('hidden-link:', resourceGroup().id, '/providers/Microsoft.Web/serverfarms/', parameters('hostingPlanName'))]\": \"empty\"\r\n          },\r\n          \"dependsOn\": [\r\n            \"[concat('Microsoft.Web/serverfarms/', parameters('hostingPlanName'))]\"\r\n          ],\r\n          \"properties\": {\r\n            \"profiles\": [\r\n              {\r\n                \"name\": \"Default\",\r\n                \"capacity\": {\r\n                  \"minimum\": \"1\",\r\n                  \"maximum\": \"10\",\r\n                  \"default\": \"1\"\r\n                },\r\n                \"rules\": [\r\n                  {\r\n                    \"metricTrigger\": {\r\n                      \"metricName\": \"CpuPercentage\",\r\n                      \"metricResourceUri\": \"[concat(resourceGroup().id, '/providers/Microsoft.Web/serverfarms/', parameters('hostingPlanName'))]\",\r\n                      \"timeGrain\": \"PT1M\",\r\n                      \"statistic\": \"Average\",\r\n                      \"timeWindow\": \"PT10M\",\r\n                      \"timeAggregation\": \"Average\",\r\n                      \"operator\": \"GreaterThan\",\r\n                      \"threshold\": 80.0\r\n                    },\r\n                    \"scaleAction\": {\r\n                      \"direction\": \"Increase\",\r\n                      \"type\": \"ChangeCount\",\r\n                      \"value\": \"1\",\r\n                      \"cooldown\": \"PT10M\"\r\n                    }\r\n                  },\r\n                  {\r\n                    \"metricTrigger\": {\r\n                      \"metricName\": \"CpuPercentage\",\r\n                      \"metricResourceUri\": \"[concat(resourceGroup().id, '/providers/Microsoft.Web/serverfarms/', parameters('hostingPlanName'))]\",\r\n                      \"timeGrain\": \"PT1M\",\r\n                      \"statistic\": \"Average\",\r\n                      \"timeWindow\": \"PT1H\",\r\n                      \"timeAggregation\": \"Average\",\r\n                      \"operator\": \"LessThan\",\r\n                      \"threshold\": 60.0\r\n                    },\r\n                    \"scaleAction\": {\r\n                      \"direction\": \"Decrease\",\r\n                      \"type\": \"ChangeCount\",\r\n                      \"value\": \"1\",\r\n                      \"cooldown\": \"PT1H\"\r\n                    }\r\n                  }\r\n                ]\r\n              }\r\n            ],\r\n            \"enabled\": false,\r\n            \"name\": \"[concat(parameters('hostingPlanName'), '-', resourceGroup().name)]\",\r\n            \"targetResourceUri\": \"[concat(resourceGroup().id, '/providers/Microsoft.Web/serverfarms/', parameters('hostingPlanName'))]\"\r\n          }\r\n        },\r\n        {\r\n          \"apiVersion\": \"2014-04\",\r\n          \"name\": \"[concat('ServerErrors', parameters('siteName'))]\",\r\n          \"type\": \"microsoft.insights/alertrules\",\r\n          \"location\": \"East US\",\r\n          \"dependsOn\": [\r\n            \"[concat('Microsoft.Web/sites/', parameters('siteName'))]\"\r\n          ],\r\n          \"properties\": {\r\n            \"name\": \"[concat('ServerErrors', parameters('siteName'))]\",\r\n            \"description\": \"[concat(parameters('siteName'), ' has some server errors, status code 5xx.')]\",\r\n            \"isEnabled\": false,\r\n            \"condition\": {\r\n              \"odata.type\": \"Microsoft.WindowsAzure.Management.Monitoring.Alerts.Models.ThresholdRuleCondition\",\r\n              \"dataSource\": {\r\n                \"odata.type\": \"Microsoft.WindowsAzure.Management.Monitoring.Alerts.Models.RuleMetricDataSource\",\r\n                \"resourceUri\": \"[concat(resourceGroup().id, '/providers/Microsoft.Web/sites/', parameters('siteName'))]\",\r\n                \"metricName\": \"Http5xx\"\r\n              },\r\n              \"operator\": \"GreaterThan\",\r\n              \"threshold\": 0.0,\r\n              \"windowSize\": \"PT5M\"\r\n            },\r\n            \"action\": {\r\n              \"odata.type\": \"Microsoft.WindowsAzure.Management.Monitoring.Alerts.Models.RuleEmailAction\",\r\n              \"sendToServiceOwners\": true,\r\n              \"customEmails\": []\r\n            }\r\n          }\r\n        },\r\n        {\r\n          \"apiVersion\": \"2014-04\",\r\n          \"name\": \"[concat('ForbiddenRequests', parameters('siteName'))]\",\r\n          \"type\": \"microsoft.insights/alertrules\",\r\n          \"location\": \"East US\",\r\n          \"dependsOn\": [\r\n            \"[concat('microsoft.insights/alertrules/', 'ServerErrors', parameters('siteName'))]\"\r\n          ],\r\n          \"properties\": {\r\n            \"name\": \"[concat('ForbiddenRequests', parameters('siteName'))]\",\r\n            \"description\": \"[concat(parameters('siteName'), ' has some requests that are forbidden, status code 403.')]\",\r\n            \"isEnabled\": false,\r\n            \"condition\": {\r\n              \"odata.type\": \"Microsoft.WindowsAzure.Management.Monitoring.Alerts.Models.ThresholdRuleCondition\",\r\n              \"dataSource\": {\r\n                \"odata.type\": \"Microsoft.WindowsAzure.Management.Monitoring.Alerts.Models.RuleMetricDataSource\",\r\n                \"resourceUri\": \"[concat(resourceGroup().id, '/providers/Microsoft.Web/sites/', parameters('siteName'))]\",\r\n                \"metricName\": \"Http403\"\r\n              },\r\n              \"operator\": \"GreaterThan\",\r\n              \"threshold\": 0,\r\n              \"windowSize\": \"PT5M\"\r\n            },\r\n            \"action\": {\r\n              \"odata.type\": \"Microsoft.WindowsAzure.Management.Monitoring.Alerts.Models.RuleEmailAction\",\r\n              \"sendToServiceOwners\": true,\r\n              \"customEmails\": []\r\n            }\r\n          }\r\n        },\r\n        {\r\n          \"apiVersion\": \"2014-04\",\r\n          \"name\": \"[concat('CPUHigh', parameters('hostingPlanName'))]\",\r\n          \"type\": \"microsoft.insights/alertrules\",\r\n          \"location\": \"East US\",\r\n          \"dependsOn\": [\r\n            \"[concat('Microsoft.Web/serverfarms/', parameters('hostingPlanName'))]\",\r\n            \"[concat('microsoft.insights/alertrules/', 'ForbiddenRequests', parameters('siteName'))]\"\r\n          ],\r\n          \"properties\": {\r\n            \"name\": \"[concat('CPUHigh', parameters('hostingPlanName'))]\",\r\n            \"description\": \"[concat('The average CPU is high across all the instances of ', parameters('hostingPlanName'))]\",\r\n            \"isEnabled\": false,\r\n            \"condition\": {\r\n              \"odata.type\": \"Microsoft.WindowsAzure.Management.Monitoring.Alerts.Models.ThresholdRuleCondition\",\r\n              \"dataSource\": {\r\n                \"odata.type\": \"Microsoft.WindowsAzure.Management.Monitoring.Alerts.Models.RuleMetricDataSource\",\r\n                \"resourceUri\": \"[concat(resourceGroup().id, '/providers/Microsoft.Web/serverfarms/', parameters('hostingPlanName'))]\",\r\n                \"metricName\": \"CpuPercentage\"\r\n              },\r\n              \"operator\": \"GreaterThan\",\r\n              \"threshold\": 90,\r\n              \"windowSize\": \"PT15M\"\r\n            },\r\n            \"action\": {\r\n              \"odata.type\": \"Microsoft.WindowsAzure.Management.Monitoring.Alerts.Models.RuleEmailAction\",\r\n              \"sendToServiceOwners\": true,\r\n              \"customEmails\": []\r\n            }\r\n          }\r\n        }\r\n      ]\r\n    },\r\n    \"parameters\": {\r\n      \"hostingPlanName\": {\r\n        \"value\": \"ps3119\"\r\n      },\r\n      \"siteLocation\": {\r\n        \"value\": \"West US 2\"\r\n      },\r\n      \"workerSize\": {\r\n        \"value\": \"0\"\r\n      },\r\n      \"sku\": {\r\n        \"value\": \"Free\"\r\n      },\r\n      \"siteName\": {\r\n        \"value\": \"ps3119\"\r\n      }\r\n    },\r\n    \"mode\": \"Incremental\"\r\n  }\r\n}",
      "RequestHeaders": {
        "x-ms-client-request-id": [
          "feacaf6b-2031-4334-8d36-63a1b0c079fa"
        ],
        "Accept-Language": [
          "en-US"
        ],
        "User-Agent": [
          "FxVersion/4.6.27129.04",
          "OSName/Windows",
          "OSVersion/Microsoft.Windows.10.0.17763.",
          "Microsoft.Azure.Management.ResourceManager.ResourceManagementClient/1.9.1.0"
        ],
        "Content-Type": [
          "application/json; charset=utf-8"
        ],
        "Content-Length": [
          "10138"
        ]
      },
      "ResponseHeaders": {
        "Cache-Control": [
          "no-cache"
        ],
        "Pragma": [
          "no-cache"
        ],
        "x-ms-ratelimit-remaining-subscription-writes": [
          "1199"
        ],
        "x-ms-request-id": [
          "6fdd6b60-88e6-479b-a60a-caf7d979cdf7"
        ],
        "x-ms-correlation-request-id": [
          "6fdd6b60-88e6-479b-a60a-caf7d979cdf7"
        ],
        "x-ms-routing-request-id": [
          "WESTUS2:20190226T205220Z:6fdd6b60-88e6-479b-a60a-caf7d979cdf7"
        ],
        "Strict-Transport-Security": [
          "max-age=31536000; includeSubDomains"
        ],
        "X-Content-Type-Options": [
          "nosniff"
        ],
        "Date": [
          "Tue, 26 Feb 2019 20:52:20 GMT"
        ],
        "Content-Length": [
          "10400"
        ],
        "Content-Type": [
          "application/json; charset=utf-8"
        ],
        "Expires": [
          "-1"
        ],
        "Retry-After": [
          "0"
        ]
      },
      "ResponseBody": "{\r\n  \"id\": \"/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourceGroups/ps4100/providers/Microsoft.Resources/deployments/fe61ecbc-1779-46be-a6a5-cf068cb54556\",\r\n  \"name\": \"fe61ecbc-1779-46be-a6a5-cf068cb54556\",\r\n  \"properties\": {\r\n    \"templateHash\": \"18131819003901614099\",\r\n    \"parameters\": {\r\n      \"siteName\": {\r\n        \"type\": \"String\",\r\n        \"value\": \"ps3119\"\r\n      },\r\n      \"hostingPlanName\": {\r\n        \"type\": \"String\",\r\n        \"value\": \"ps3119\"\r\n      },\r\n      \"siteLocation\": {\r\n        \"type\": \"String\",\r\n        \"value\": \"West US 2\"\r\n      },\r\n      \"sku\": {\r\n        \"type\": \"String\",\r\n        \"value\": \"Free\"\r\n      },\r\n      \"workerSize\": {\r\n        \"type\": \"String\",\r\n        \"value\": \"0\"\r\n      }\r\n    },\r\n    \"mode\": \"Incremental\",\r\n    \"provisioningState\": \"Succeeded\",\r\n    \"timestamp\": \"2019-02-26T20:52:19.6146984Z\",\r\n    \"duration\": \"PT0S\",\r\n    \"correlationId\": \"6fdd6b60-88e6-479b-a60a-caf7d979cdf7\",\r\n    \"providers\": [\r\n      {\r\n        \"namespace\": \"Microsoft.Web\",\r\n        \"resourceTypes\": [\r\n          {\r\n            \"resourceType\": \"serverfarms\",\r\n            \"locations\": [\r\n              \"westus2\"\r\n            ]\r\n          },\r\n          {\r\n            \"resourceType\": \"sites\",\r\n            \"locations\": [\r\n              \"westus2\"\r\n            ]\r\n          },\r\n          {\r\n            \"resourceType\": \"sites/Extensions\",\r\n            \"locations\": [\r\n              null\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"namespace\": \"microsoft.insights\",\r\n        \"resourceTypes\": [\r\n          {\r\n            \"resourceType\": \"autoscalesettings\",\r\n            \"locations\": [\r\n              \"eastus\"\r\n            ]\r\n          },\r\n          {\r\n            \"resourceType\": \"alertrules\",\r\n            \"locations\": [\r\n              \"eastus\"\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n    ],\r\n    \"dependencies\": [\r\n      {\r\n        \"dependsOn\": [\r\n          {\r\n            \"id\": \"/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourceGroups/ps4100/providers/Microsoft.Web/serverfarms/ps3119\",\r\n            \"resourceType\": \"Microsoft.Web/serverfarms\",\r\n            \"resourceName\": \"ps3119\"\r\n          }\r\n        ],\r\n        \"id\": \"/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourceGroups/ps4100/providers/Microsoft.Web/sites/ps3119\",\r\n        \"resourceType\": \"Microsoft.Web/sites\",\r\n        \"resourceName\": \"ps3119\"\r\n      },\r\n      {\r\n        \"dependsOn\": [\r\n          {\r\n            \"id\": \"/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourceGroups/ps4100/providers/Microsoft.Web/sites/ps3119\",\r\n            \"resourceType\": \"Microsoft.Web/sites\",\r\n            \"resourceName\": \"ps3119\"\r\n          }\r\n        ],\r\n        \"id\": \"/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourceGroups/ps4100/providers/Microsoft.Web/sites/ps3119/Extensions/MSDeploy\",\r\n        \"resourceType\": \"Microsoft.Web/sites/Extensions\",\r\n        \"resourceName\": \"ps3119/MSDeploy\"\r\n      },\r\n      {\r\n        \"dependsOn\": [\r\n          {\r\n            \"id\": \"/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourceGroups/ps4100/providers/Microsoft.Web/serverfarms/ps3119\",\r\n            \"resourceType\": \"Microsoft.Web/serverfarms\",\r\n            \"resourceName\": \"ps3119\"\r\n          }\r\n        ],\r\n        \"id\": \"/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourceGroups/ps4100/providers/microsoft.insights/autoscalesettings/ps3119-ps4100\",\r\n        \"resourceType\": \"microsoft.insights/autoscalesettings\",\r\n        \"resourceName\": \"ps3119-ps4100\"\r\n      },\r\n      {\r\n        \"dependsOn\": [\r\n          {\r\n            \"id\": \"/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourceGroups/ps4100/providers/Microsoft.Web/sites/ps3119\",\r\n            \"resourceType\": \"Microsoft.Web/sites\",\r\n            \"resourceName\": \"ps3119\"\r\n          }\r\n        ],\r\n        \"id\": \"/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourceGroups/ps4100/providers/microsoft.insights/alertrules/ServerErrorsps3119\",\r\n        \"resourceType\": \"microsoft.insights/alertrules\",\r\n        \"resourceName\": \"ServerErrorsps3119\"\r\n      },\r\n      {\r\n        \"dependsOn\": [\r\n          {\r\n            \"id\": \"/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourceGroups/ps4100/providers/microsoft.insights/alertrules/ServerErrorsps3119\",\r\n            \"resourceType\": \"microsoft.insights/alertrules\",\r\n            \"resourceName\": \"ServerErrorsps3119\"\r\n          }\r\n        ],\r\n        \"id\": \"/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourceGroups/ps4100/providers/microsoft.insights/alertrules/ForbiddenRequestsps3119\",\r\n        \"resourceType\": \"microsoft.insights/alertrules\",\r\n        \"resourceName\": \"ForbiddenRequestsps3119\"\r\n      },\r\n      {\r\n        \"dependsOn\": [\r\n          {\r\n            \"id\": \"/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourceGroups/ps4100/providers/Microsoft.Web/serverfarms/ps3119\",\r\n            \"resourceType\": \"Microsoft.Web/serverfarms\",\r\n            \"resourceName\": \"ps3119\"\r\n          },\r\n          {\r\n            \"id\": \"/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourceGroups/ps4100/providers/microsoft.insights/alertrules/ForbiddenRequestsps3119\",\r\n            \"resourceType\": \"microsoft.insights/alertrules\",\r\n            \"resourceName\": \"ForbiddenRequestsps3119\"\r\n          }\r\n        ],\r\n        \"id\": \"/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourceGroups/ps4100/providers/microsoft.insights/alertrules/CPUHighps3119\",\r\n        \"resourceType\": \"microsoft.insights/alertrules\",\r\n        \"resourceName\": \"CPUHighps3119\"\r\n      }\r\n    ],\r\n    \"validatedResources\": [\r\n      {\r\n        \"apiVersion\": \"2014-04-01\",\r\n        \"id\": \"/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourceGroups/ps4100/providers/Microsoft.Web/serverfarms/ps3119\",\r\n        \"name\": \"ps3119\",\r\n        \"type\": \"Microsoft.Web/serverfarms\",\r\n        \"location\": \"West US 2\",\r\n        \"properties\": {\r\n          \"name\": \"ps3119\",\r\n          \"sku\": \"Free\",\r\n          \"workerSize\": \"0\",\r\n          \"numberOfWorkers\": 0\r\n        }\r\n      },\r\n      {\r\n        \"dependsOn\": [\r\n          \"/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourceGroups/ps4100/providers/Microsoft.Web/serverfarms/ps3119\"\r\n        ],\r\n        \"apiVersion\": \"2014-04-01\",\r\n        \"id\": \"/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourceGroups/ps4100/providers/Microsoft.Web/sites/ps3119\",\r\n        \"name\": \"ps3119\",\r\n        \"type\": \"Microsoft.Web/sites\",\r\n        \"location\": \"West US 2\",\r\n        \"tags\": {\r\n          \"hidden-related:/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourceGroups/ps4100/providers/Microsoft.Web/serverfarms/ps3119\": \"empty\"\r\n        },\r\n        \"properties\": {\r\n          \"name\": \"ps3119\",\r\n          \"serverFarm\": \"ps3119\"\r\n        }\r\n      },\r\n      {\r\n        \"dependsOn\": [\r\n          \"/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourceGroups/ps4100/providers/Microsoft.Web/sites/ps3119\"\r\n        ],\r\n        \"apiVersion\": \"01-01-2014\",\r\n        \"id\": \"/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourceGroups/ps4100/providers/Microsoft.Web/sites/ps3119/Extensions/MSDeploy\",\r\n        \"name\": \"ps3119/MSDeploy\",\r\n        \"type\": \"Microsoft.Web/sites/Extensions\",\r\n        \"properties\": {\r\n          \"packageUri\": \"https://templatetest.blob.core.windows.net/deployments/ClipMeme.zip\",\r\n          \"dbType\": \"None\",\r\n          \"connectionString\": \"\",\r\n          \"setParameters\": {\r\n            \"IIS Web Application Name\": \"ps3119\"\r\n          }\r\n        }\r\n      },\r\n      {\r\n        \"dependsOn\": [\r\n          \"/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourceGroups/ps4100/providers/Microsoft.Web/serverfarms/ps3119\"\r\n        ],\r\n        \"apiVersion\": \"2014-04\",\r\n        \"id\": \"/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourceGroups/ps4100/providers/microsoft.insights/autoscalesettings/ps3119-ps4100\",\r\n        \"name\": \"ps3119-ps4100\",\r\n        \"type\": \"microsoft.insights/autoscalesettings\",\r\n        \"location\": \"East US\",\r\n        \"tags\": {\r\n          \"hidden-link:/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourceGroups/ps4100/providers/Microsoft.Web/serverfarms/ps3119\": \"empty\"\r\n        },\r\n        \"properties\": {\r\n          \"profiles\": [\r\n            {\r\n              \"name\": \"Default\",\r\n              \"capacity\": {\r\n                \"minimum\": \"1\",\r\n                \"maximum\": \"10\",\r\n                \"default\": \"1\"\r\n              },\r\n              \"rules\": [\r\n                {\r\n                  \"metricTrigger\": {\r\n                    \"metricName\": \"CpuPercentage\",\r\n                    \"metricResourceUri\": \"/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourceGroups/ps4100/providers/Microsoft.Web/serverfarms/ps3119\",\r\n                    \"timeGrain\": \"PT1M\",\r\n                    \"statistic\": \"Average\",\r\n                    \"timeWindow\": \"PT10M\",\r\n                    \"timeAggregation\": \"Average\",\r\n                    \"operator\": \"GreaterThan\",\r\n                    \"threshold\": 80.0\r\n                  },\r\n                  \"scaleAction\": {\r\n                    \"direction\": \"Increase\",\r\n                    \"type\": \"ChangeCount\",\r\n                    \"value\": \"1\",\r\n                    \"cooldown\": \"PT10M\"\r\n                  }\r\n                },\r\n                {\r\n                  \"metricTrigger\": {\r\n                    \"metricName\": \"CpuPercentage\",\r\n                    \"metricResourceUri\": \"/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourceGroups/ps4100/providers/Microsoft.Web/serverfarms/ps3119\",\r\n                    \"timeGrain\": \"PT1M\",\r\n                    \"statistic\": \"Average\",\r\n                    \"timeWindow\": \"PT1H\",\r\n                    \"timeAggregation\": \"Average\",\r\n                    \"operator\": \"LessThan\",\r\n                    \"threshold\": 60.0\r\n                  },\r\n                  \"scaleAction\": {\r\n                    \"direction\": \"Decrease\",\r\n                    \"type\": \"ChangeCount\",\r\n                    \"value\": \"1\",\r\n                    \"cooldown\": \"PT1H\"\r\n                  }\r\n                }\r\n              ]\r\n            }\r\n          ],\r\n          \"enabled\": false,\r\n          \"name\": \"ps3119-ps4100\",\r\n          \"targetResourceUri\": \"/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourceGroups/ps4100/providers/Microsoft.Web/serverfarms/ps3119\"\r\n        }\r\n      },\r\n      {\r\n        \"dependsOn\": [\r\n          \"/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourceGroups/ps4100/providers/Microsoft.Web/sites/ps3119\"\r\n        ],\r\n        \"apiVersion\": \"2014-04\",\r\n        \"id\": \"/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourceGroups/ps4100/providers/microsoft.insights/alertrules/ServerErrorsps3119\",\r\n        \"name\": \"ServerErrorsps3119\",\r\n        \"type\": \"microsoft.insights/alertrules\",\r\n        \"location\": \"East US\",\r\n        \"properties\": {\r\n          \"name\": \"ServerErrorsps3119\",\r\n          \"description\": \"ps3119 has some server errors, status code 5xx.\",\r\n          \"isEnabled\": false,\r\n          \"condition\": {\r\n            \"odata.type\": \"Microsoft.WindowsAzure.Management.Monitoring.Alerts.Models.ThresholdRuleCondition\",\r\n            \"dataSource\": {\r\n              \"odata.type\": \"Microsoft.WindowsAzure.Management.Monitoring.Alerts.Models.RuleMetricDataSource\",\r\n              \"resourceUri\": \"/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourceGroups/ps4100/providers/Microsoft.Web/sites/ps3119\",\r\n              \"metricName\": \"Http5xx\"\r\n            },\r\n            \"operator\": \"GreaterThan\",\r\n            \"threshold\": 0.0,\r\n            \"windowSize\": \"PT5M\"\r\n          },\r\n          \"action\": {\r\n            \"odata.type\": \"Microsoft.WindowsAzure.Management.Monitoring.Alerts.Models.RuleEmailAction\",\r\n            \"sendToServiceOwners\": true,\r\n            \"customEmails\": []\r\n          }\r\n        }\r\n      },\r\n      {\r\n        \"dependsOn\": [\r\n          \"/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourceGroups/ps4100/providers/microsoft.insights/alertrules/ServerErrorsps3119\"\r\n        ],\r\n        \"apiVersion\": \"2014-04\",\r\n        \"id\": \"/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourceGroups/ps4100/providers/microsoft.insights/alertrules/ForbiddenRequestsps3119\",\r\n        \"name\": \"ForbiddenRequestsps3119\",\r\n        \"type\": \"microsoft.insights/alertrules\",\r\n        \"location\": \"East US\",\r\n        \"properties\": {\r\n          \"name\": \"ForbiddenRequestsps3119\",\r\n          \"description\": \"ps3119 has some requests that are forbidden, status code 403.\",\r\n          \"isEnabled\": false,\r\n          \"condition\": {\r\n            \"odata.type\": \"Microsoft.WindowsAzure.Management.Monitoring.Alerts.Models.ThresholdRuleCondition\",\r\n            \"dataSource\": {\r\n              \"odata.type\": \"Microsoft.WindowsAzure.Management.Monitoring.Alerts.Models.RuleMetricDataSource\",\r\n              \"resourceUri\": \"/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourceGroups/ps4100/providers/Microsoft.Web/sites/ps3119\",\r\n              \"metricName\": \"Http403\"\r\n            },\r\n            \"operator\": \"GreaterThan\",\r\n            \"threshold\": 0,\r\n            \"windowSize\": \"PT5M\"\r\n          },\r\n          \"action\": {\r\n            \"odata.type\": \"Microsoft.WindowsAzure.Management.Monitoring.Alerts.Models.RuleEmailAction\",\r\n            \"sendToServiceOwners\": true,\r\n            \"customEmails\": []\r\n          }\r\n        }\r\n      },\r\n      {\r\n        \"dependsOn\": [\r\n          \"/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourceGroups/ps4100/providers/Microsoft.Web/serverfarms/ps3119\",\r\n          \"/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourceGroups/ps4100/providers/microsoft.insights/alertrules/ForbiddenRequestsps3119\"\r\n        ],\r\n        \"apiVersion\": \"2014-04\",\r\n        \"id\": \"/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourceGroups/ps4100/providers/microsoft.insights/alertrules/CPUHighps3119\",\r\n        \"name\": \"CPUHighps3119\",\r\n        \"type\": \"microsoft.insights/alertrules\",\r\n        \"location\": \"East US\",\r\n        \"properties\": {\r\n          \"name\": \"CPUHighps3119\",\r\n          \"description\": \"The average CPU is high across all the instances of ps3119\",\r\n          \"isEnabled\": false,\r\n          \"condition\": {\r\n            \"odata.type\": \"Microsoft.WindowsAzure.Management.Monitoring.Alerts.Models.ThresholdRuleCondition\",\r\n            \"dataSource\": {\r\n              \"odata.type\": \"Microsoft.WindowsAzure.Management.Monitoring.Alerts.Models.RuleMetricDataSource\",\r\n              \"resourceUri\": \"/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourceGroups/ps4100/providers/Microsoft.Web/serverfarms/ps3119\",\r\n              \"metricName\": \"CpuPercentage\"\r\n            },\r\n            \"operator\": \"GreaterThan\",\r\n            \"threshold\": 90,\r\n            \"windowSize\": \"PT15M\"\r\n          },\r\n          \"action\": {\r\n            \"odata.type\": \"Microsoft.WindowsAzure.Management.Monitoring.Alerts.Models.RuleEmailAction\",\r\n            \"sendToServiceOwners\": true,\r\n            \"customEmails\": []\r\n          }\r\n        }\r\n      }\r\n    ]\r\n  }\r\n}",
      "StatusCode": 200
    }
  ],
  "Names": {
    "Test-ValidateDeployment": [
      "ps4100",
      "ps3119"
    ]
  },
  "Variables": {
    "SubscriptionId": "c9cbd920-c00c-427c-852b-8aaf38badaeb"
  }
}