{
  "resourceType": "namespaces/migrationConfigurations",
  "apiVersion": "2022-10-01-preview",
  "learnMore": {
    "url": "https://learn.microsoft.com/powershell/module/az.servicebus"
  },
  "commands": [
    {
      "name": "Complete-AzServiceBusMigration",
      "description": "This operation Completes Migration of entities by pointing the connection strings to Premium namespace and any entities created after the operation will be under Premium Namespace.\nCompleteMigration operation will fail when entity migration is in-progress.",
      "path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ServiceBus/namespaces/{namespaceName}/migrationConfigurations/{configName}/upgrade",
      "help": {
        "learnMore": {
          "url": "https://learn.microsoft.com/powershell/module/az.servicebus/complete-azservicebusmigration"
        },
        "parameterSets": [
          {
            "parameters": [
              "-NamespaceName <String>",
              "-ResourceGroupName <String>",
              "[-SubscriptionId <String>]"
            ]
          }
        ]
      },
      "examples": [
        {
          "description": "This operation Completes Migration of entities by pointing the connection strings to Premium namespace and any entities created after the operation will be under Premium Namespace. CompleteMigration operation will fail when entity migration is in-progress.",
          "parameters": [
            {
              "name": "-NamespaceName",
              "value": "[Path.namespaceName]"
            },
            {
              "name": "-ResourceGroupName",
              "value": "[Path.resourceGroupName]"
            },
            {
              "name": "-SubscriptionId",
              "value": "[Path.subscriptionId]"
            }
          ]
        }
      ]
    },
    {
      "name": "Get-AzServiceBusMigration",
      "description": "Retrieves Migration Config",
      "path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ServiceBus/namespaces/{namespaceName}/migrationConfigurations/{configName}",
      "help": {
        "learnMore": {
          "url": "https://learn.microsoft.com/powershell/module/az.servicebus/get-azservicebusmigration"
        },
        "parameterSets": [
          {
            "parameters": [
              "-NamespaceName <String>",
              "-ResourceGroupName <String>",
              "[-SubscriptionId <String[]>]"
            ]
          }
        ]
      },
      "examples": [
        {
          "description": "Retrieves Migration Config",
          "parameters": [
            {
              "name": "-NamespaceName",
              "value": "[Path.namespaceName]"
            },
            {
              "name": "-ResourceGroupName",
              "value": "[Path.resourceGroupName]"
            },
            {
              "name": "-SubscriptionId",
              "value": "[Path.subscriptionId]"
            }
          ]
        }
      ]
    },
    {
      "name": "Remove-AzServiceBusMigration",
      "description": "Deletes a MigrationConfiguration",
      "path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ServiceBus/namespaces/{namespaceName}/migrationConfigurations/{configName}",
      "help": {
        "learnMore": {
          "url": "https://learn.microsoft.com/powershell/module/az.servicebus/remove-azservicebusmigration"
        },
        "parameterSets": [
          {
            "parameters": [
              "-NamespaceName <String>",
              "-ResourceGroupName <String>",
              "[-SubscriptionId <String>]"
            ]
          }
        ]
      },
      "examples": [
        {
          "description": "Deletes a MigrationConfiguration",
          "parameters": [
            {
              "name": "-NamespaceName",
              "value": "[Path.namespaceName]"
            },
            {
              "name": "-ResourceGroupName",
              "value": "[Path.resourceGroupName]"
            },
            {
              "name": "-SubscriptionId",
              "value": "[Path.subscriptionId]"
            }
          ]
        }
      ]
    },
    {
      "name": "Stop-AzServiceBusMigration",
      "description": "This operation reverts Migration",
      "path": "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ServiceBus/namespaces/{namespaceName}/migrationConfigurations/{configName}/revert",
      "help": {
        "learnMore": {
          "url": "https://learn.microsoft.com/powershell/module/az.servicebus/stop-azservicebusmigration"
        },
        "parameterSets": [
          {
            "parameters": [
              "-NamespaceName <String>",
              "-ResourceGroupName <String>",
              "[-SubscriptionId <String>]"
            ]
          }
        ]
      },
      "examples": [
        {
          "description": "This operation reverts Migration",
          "parameters": [
            {
              "name": "-NamespaceName",
              "value": "[Path.namespaceName]"
            },
            {
              "name": "-ResourceGroupName",
              "value": "[Path.resourceGroupName]"
            },
            {
              "name": "-SubscriptionId",
              "value": "[Path.subscriptionId]"
            }
          ]
        }
      ]
    }
  ]
}
