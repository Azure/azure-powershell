{
  "Invoke-AzDynatraceManageMonitorAgentInstallation+ManageExpanded Install action (validation then expected failure)+Actual install expected to throw+$POST+https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrg45en7g/providers/Dynatrace.Observability/monitors/dyob83ctr7/manageAgentInstallation?api-version=2024-04-24+1": {
    "Request": {
      "Method": "POST",
      "RequestUri": "https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrg45en7g/providers/Dynatrace.Observability/monitors/dyob83ctr7/manageAgentInstallation?api-version=2024-04-24",
      "Content": "{\n  \"manageAgentInstallationList\": [\n    {\n      \"id\": \"/subscriptions//resourceGroups/dyobrg45en7g/providers/Microsoft.Compute/virtualMachines/sampleVM1\"\n    }\n  ],\n  \"action\": \"Install\"\n}",
      "isContentBase64": false,
      "Headers": {
      },
      "ContentHeaders": {
        "Content-Type": [ "application/json" ],
        "Content-Length": [ "189" ]
      }
    },
    "Response": {
      "StatusCode": 500,
      "Headers": {
        "Cache-Control": [ "no-cache" ],
        "Pragma": [ "no-cache" ],
        "x-ms-failure-cause": [ "gateway" ],
        "x-ms-request-id": [ "65b7a379-bc82-4de8-a8bb-8062ed3c3e54" ],
        "x-ms-correlation-request-id": [ "65b7a379-bc82-4de8-a8bb-8062ed3c3e54" ],
        "x-ms-routing-request-id": [ "EASTUS:20251112T110342Z:65b7a379-bc82-4de8-a8bb-8062ed3c3e54" ],
        "Strict-Transport-Security": [ "max-age=31536000; includeSubDomains" ],
        "X-Content-Type-Options": [ "nosniff" ],
        "X-Cache": [ "CONFIG_NOCACHE" ],
        "X-MSEdge-Ref": [ "Ref A: CE820EE65F384AB8ACC4F9CE552FEA33 Ref B: JKT201051407042 Ref C: 2025-11-12T11:03:41Z" ],
        "Date": [ "Wed, 12 Nov 2025 11:03:41 GMT" ]
      },
      "ContentHeaders": {
        "Content-Length": [ "312" ],
        "Content-Type": [ "application/json; charset=utf-8" ],
        "Expires": [ "-1" ]
      },
      "Content": "{\"error\":{\"code\":\"InternalServerError\",\"message\":\"Encountered internal server error. Diagnostic information: timestamp \u002720251112T110342Z\u0027, subscription id \u0027b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c\u0027, tracking id \u002765b7a379-bc82-4de8-a8bb-8062ed3c3e54\u0027, request correlation id \u002765b7a379-bc82-4de8-a8bb-8062ed3c3e54\u0027.\"}}",
      "isContentBase64": false
    }
  },
  "Invoke-AzDynatraceManageMonitorAgentInstallation+ManageExpanded Uninstall action (validation then expected failure)+Actual uninstall expected to throw+$POST+https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrg45en7g/providers/Dynatrace.Observability/monitors/dyob83ctr7/manageAgentInstallation?api-version=2024-04-24+1": {
    "Request": {
      "Method": "POST",
      "RequestUri": "https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrg45en7g/providers/Dynatrace.Observability/monitors/dyob83ctr7/manageAgentInstallation?api-version=2024-04-24",
      "Content": "{\n  \"manageAgentInstallationList\": [\n    {\n      \"id\": \"/subscriptions//resourceGroups/dyobrg45en7g/providers/Microsoft.Compute/virtualMachines/sampleVM1\"\n    }\n  ],\n  \"action\": \"Uninstall\"\n}",
      "isContentBase64": false,
      "Headers": {
      },
      "ContentHeaders": {
        "Content-Type": [ "application/json" ],
        "Content-Length": [ "191" ]
      }
    },
    "Response": {
      "StatusCode": 500,
      "Headers": {
        "Cache-Control": [ "no-cache" ],
        "Pragma": [ "no-cache" ],
        "x-ms-failure-cause": [ "gateway" ],
        "x-ms-request-id": [ "d0551403-f0d6-4411-9bcf-41f044d92c0a" ],
        "x-ms-correlation-request-id": [ "d0551403-f0d6-4411-9bcf-41f044d92c0a" ],
        "x-ms-routing-request-id": [ "EASTUS:20251112T110346Z:d0551403-f0d6-4411-9bcf-41f044d92c0a" ],
        "Strict-Transport-Security": [ "max-age=31536000; includeSubDomains" ],
        "X-Content-Type-Options": [ "nosniff" ],
        "X-Cache": [ "CONFIG_NOCACHE" ],
        "X-MSEdge-Ref": [ "Ref A: B32EDD5550CA40EA86B67700EB5ED754 Ref B: JKT201051407060 Ref C: 2025-11-12T11:03:45Z" ],
        "Date": [ "Wed, 12 Nov 2025 11:03:46 GMT" ]
      },
      "ContentHeaders": {
        "Content-Length": [ "312" ],
        "Content-Type": [ "application/json; charset=utf-8" ],
        "Expires": [ "-1" ]
      },
      "Content": "{\"error\":{\"code\":\"InternalServerError\",\"message\":\"Encountered internal server error. Diagnostic information: timestamp \u002720251112T110346Z\u0027, subscription id \u0027b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c\u0027, tracking id \u0027d0551403-f0d6-4411-9bcf-41f044d92c0a\u0027, request correlation id \u0027d0551403-f0d6-4411-9bcf-41f044d92c0a\u0027.\"}}",
      "isContentBase64": false
    }
  },
  "Invoke-AzDynatraceManageMonitorAgentInstallation+Manage parameter set with Request object (validation then expected failure)+Actual install with request object expected to throw+$POST+https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrg45en7g/providers/Dynatrace.Observability/monitors/dyob83ctr7/manageAgentInstallation?api-version=2024-04-24+1": {
    "Request": {
      "Method": "POST",
      "RequestUri": "https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrg45en7g/providers/Dynatrace.Observability/monitors/dyob83ctr7/manageAgentInstallation?api-version=2024-04-24",
      "Content": "{\n  \"manageAgentInstallationList\": [\n    {\n      \"id\": \"/subscriptions//resourceGroups/dyobrg45en7g/providers/Microsoft.Compute/virtualMachines/sampleVM1\"\n    }\n  ],\n  \"action\": \"Install\"\n}",
      "isContentBase64": false,
      "Headers": {
      },
      "ContentHeaders": {
        "Content-Type": [ "application/json" ],
        "Content-Length": [ "189" ]
      }
    },
    "Response": {
      "StatusCode": 500,
      "Headers": {
        "Cache-Control": [ "no-cache" ],
        "Pragma": [ "no-cache" ],
        "x-ms-failure-cause": [ "gateway" ],
        "x-ms-request-id": [ "d17528bc-fdff-478c-b09c-b2805d9eb9b1" ],
        "x-ms-correlation-request-id": [ "d17528bc-fdff-478c-b09c-b2805d9eb9b1" ],
        "x-ms-routing-request-id": [ "EASTUS:20251112T110350Z:d17528bc-fdff-478c-b09c-b2805d9eb9b1" ],
        "Strict-Transport-Security": [ "max-age=31536000; includeSubDomains" ],
        "X-Content-Type-Options": [ "nosniff" ],
        "X-Cache": [ "CONFIG_NOCACHE" ],
        "X-MSEdge-Ref": [ "Ref A: 8632288A3CD74ACC9A4117F1265A3208 Ref B: JKT201051406023 Ref C: 2025-11-12T11:03:50Z" ],
        "Date": [ "Wed, 12 Nov 2025 11:03:50 GMT" ]
      },
      "ContentHeaders": {
        "Content-Length": [ "312" ],
        "Content-Type": [ "application/json; charset=utf-8" ],
        "Expires": [ "-1" ]
      },
      "Content": "{\"error\":{\"code\":\"InternalServerError\",\"message\":\"Encountered internal server error. Diagnostic information: timestamp \u002720251112T110350Z\u0027, subscription id \u0027b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c\u0027, tracking id \u0027d17528bc-fdff-478c-b09c-b2805d9eb9b1\u0027, request correlation id \u0027d17528bc-fdff-478c-b09c-b2805d9eb9b1\u0027.\"}}",
      "isContentBase64": false
    }
  },
  "Invoke-AzDynatraceManageMonitorAgentInstallation+ManageViaIdentity Expanded (validation then expected failure)+Validates identity + expanded params with WhatIf (pipe monitor object)+$GET+https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrg45en7g/providers/Dynatrace.Observability/monitors/dyob83ctr7?api-version=2024-04-24+1": {
    "Request": {
      "Method": "GET",
      "RequestUri": "https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrg45en7g/providers/Dynatrace.Observability/monitors/dyob83ctr7?api-version=2024-04-24",
      "Content": null,
      "isContentBase64": false,
      "Headers": {
        "x-ms-unique-id": [ "41" ],
        "x-ms-client-request-id": [ "49ec5ef2-f931-42b9-b538-1ed7a425bd6b" ],
        "CommandName": [ "Get-AzDynatraceMonitor" ],
        "FullCommandName": [ "Get-AzDynatraceMonitor_Get" ],
        "ParameterSetName": [ "__AllParameterSets" ],
        "User-Agent": [ "AzurePowershell/v0.0.0", "PSVersion/v7.4.11", "Az.DynatraceObservability/0.1.0" ],
        "Authorization": [ "[Filtered]" ]
      },
      "ContentHeaders": {
      }
    },
    "Response": {
      "StatusCode": 200,
      "Headers": {
        "Cache-Control": [ "no-cache" ],
        "Pragma": [ "no-cache" ],
        "ETag": [ "\"7d009b71-0000-0100-0000-691467cf0000\"" ],
        "x-ms-ratelimit-remaining-subscription-reads": [ "249" ],
        "x-ms-providerhub-traffic": [ "True" ],
        "x-ms-request-id": [ "d22833b0-2411-472d-b0a1-81199be17b1b" ],
        "x-ms-correlation-request-id": [ "20acf625-7a41-4422-b8c5-ce096b6a007b" ],
        "x-ms-ratelimit-remaining-subscription-global-reads": [ "3749" ],
        "x-ms-routing-request-id": [ "EASTUS:20251112T110351Z:20acf625-7a41-4422-b8c5-ce096b6a007b" ],
        "Strict-Transport-Security": [ "max-age=31536000; includeSubDomains" ],
        "X-Content-Type-Options": [ "nosniff" ],
        "X-Cache": [ "CONFIG_NOCACHE" ],
        "X-MSEdge-Ref": [ "Ref A: 0F2E003EA2494D7DAE88A32CC4363735 Ref B: JKT201051406023 Ref C: 2025-11-12T11:03:51Z" ],
        "Date": [ "Wed, 12 Nov 2025 11:03:50 GMT" ]
      },
      "ContentHeaders": {
        "Content-Length": [ "1436" ],
        "Content-Type": [ "application/json; charset=utf-8" ],
        "Expires": [ "-1" ]
      },
      "Content": "{\"id\":\"/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrg45en7g/providers/Dynatrace.Observability/monitors/dyob83ctr7\",\"name\":\"dyob83ctr7\",\"type\":\"dynatrace.observability/monitors\",\"location\":\"eastus\",\"systemData\":{\"createdBy\":\"arushiarora@microsoft.com\",\"createdByType\":\"User\",\"createdAt\":\"2025-11-12T10:53:04.0192759Z\",\"lastModifiedBy\":\"dba650ed-9577-4bc0-9b5f-ef73e2d5bdfc\",\"lastModifiedByType\":\"Application\",\"lastModifiedAt\":\"2025-11-12T10:56:14.997419Z\"},\"properties\":{\"monitoringStatus\":\"Enabled\",\"marketplaceSubscriptionStatus\":\"Active\",\"dynatraceEnvironmentProperties\":{\"userId\":\"8500638c-1bac-4583-a231-730d194f3316\",\"accountInfo\":{\"accountId\":\"c8c08bfe-ce8a-4f4a-ba69-965ac51e1b56\",\"regionId\":\"eastus\"},\"environmentInfo\":{\"environmentId\":\"nhi56296\",\"logsIngestionEndpoint\":\"https://nhi56296.live.dynatrace.com/api/v2/logs/ingest\",\"landingURL\":\"https://nhi56296.live.dynatrace.com/\"},\"singleSignOnProperties\":{\"singleSignOnState\":\"Initial\",\"aadDomains\":[\"mpliftrlogz20210811outlook.onmicrosoft.com\"],\"provisioningState\":\"Accepted\"}},\"userInfo\":{\"firstName\":\"Lucas\",\"lastName\":\"Yao\",\"emailAddress\":\"agarwalshiv@microsoft.com\"},\"planData\":{\"usageType\":\"COMMITTED\",\"billingCycle\":\"MONTHLY\",\"planDetails\":\"azureportalintegration_privatepreview@TIDgmz7xq9ge3py\",\"effectiveDate\":\"2025-11-12T10:55:58.8466199Z\"},\"liftrResourceCategory\":\"MonitorLogs\",\"liftrResourcePreference\":0,\"provisioningState\":\"Succeeded\"}}",
      "isContentBase64": false
    }
  },
  "Invoke-AzDynatraceManageMonitorAgentInstallation+ManageViaIdentity Expanded (validation then expected failure)+Actual install via identity expected to throw (backend error)+$GET+https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrg45en7g/providers/Dynatrace.Observability/monitors/dyob83ctr7?api-version=2024-04-24+1": {
    "Request": {
      "Method": "GET",
      "RequestUri": "https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrg45en7g/providers/Dynatrace.Observability/monitors/dyob83ctr7?api-version=2024-04-24",
      "Content": null,
      "isContentBase64": false,
      "Headers": {
        "x-ms-unique-id": [ "42" ],
        "x-ms-client-request-id": [ "1dd151dc-9b41-42ac-a3ea-574f1dd0c0b1" ],
        "CommandName": [ "Get-AzDynatraceMonitor" ],
        "FullCommandName": [ "Get-AzDynatraceMonitor_Get" ],
        "ParameterSetName": [ "__AllParameterSets" ],
        "User-Agent": [ "AzurePowershell/v0.0.0", "PSVersion/v7.4.11", "Az.DynatraceObservability/0.1.0" ],
        "Authorization": [ "[Filtered]" ]
      },
      "ContentHeaders": {
      }
    },
    "Response": {
      "StatusCode": 200,
      "Headers": {
        "Cache-Control": [ "no-cache" ],
        "Pragma": [ "no-cache" ],
        "ETag": [ "\"7d009b71-0000-0100-0000-691467cf0000\"" ],
        "x-ms-ratelimit-remaining-subscription-reads": [ "249" ],
        "x-ms-providerhub-traffic": [ "True" ],
        "x-ms-request-id": [ "f08e436f-6f9a-4e1e-9b78-fb7f47c5c16b" ],
        "x-ms-correlation-request-id": [ "ab691b39-2968-43ea-a4cb-82b33352e7ee" ],
        "x-ms-ratelimit-remaining-subscription-global-reads": [ "3748" ],
        "x-ms-routing-request-id": [ "EASTUS:20251112T110352Z:ab691b39-2968-43ea-a4cb-82b33352e7ee" ],
        "Strict-Transport-Security": [ "max-age=31536000; includeSubDomains" ],
        "X-Content-Type-Options": [ "nosniff" ],
        "X-Cache": [ "CONFIG_NOCACHE" ],
        "X-MSEdge-Ref": [ "Ref A: C6E2D78ECBF745828B3FD7E95B1D7D46 Ref B: JKT201051406023 Ref C: 2025-11-12T11:03:52Z" ],
        "Date": [ "Wed, 12 Nov 2025 11:03:52 GMT" ]
      },
      "ContentHeaders": {
        "Content-Length": [ "1436" ],
        "Content-Type": [ "application/json; charset=utf-8" ],
        "Expires": [ "-1" ]
      },
      "Content": "{\"id\":\"/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrg45en7g/providers/Dynatrace.Observability/monitors/dyob83ctr7\",\"name\":\"dyob83ctr7\",\"type\":\"dynatrace.observability/monitors\",\"location\":\"eastus\",\"systemData\":{\"createdBy\":\"arushiarora@microsoft.com\",\"createdByType\":\"User\",\"createdAt\":\"2025-11-12T10:53:04.0192759Z\",\"lastModifiedBy\":\"dba650ed-9577-4bc0-9b5f-ef73e2d5bdfc\",\"lastModifiedByType\":\"Application\",\"lastModifiedAt\":\"2025-11-12T10:56:14.997419Z\"},\"properties\":{\"monitoringStatus\":\"Enabled\",\"marketplaceSubscriptionStatus\":\"Active\",\"dynatraceEnvironmentProperties\":{\"userId\":\"8500638c-1bac-4583-a231-730d194f3316\",\"accountInfo\":{\"accountId\":\"c8c08bfe-ce8a-4f4a-ba69-965ac51e1b56\",\"regionId\":\"eastus\"},\"environmentInfo\":{\"environmentId\":\"nhi56296\",\"logsIngestionEndpoint\":\"https://nhi56296.live.dynatrace.com/api/v2/logs/ingest\",\"landingURL\":\"https://nhi56296.live.dynatrace.com/\"},\"singleSignOnProperties\":{\"singleSignOnState\":\"Initial\",\"aadDomains\":[\"mpliftrlogz20210811outlook.onmicrosoft.com\"],\"provisioningState\":\"Accepted\"}},\"userInfo\":{\"firstName\":\"Lucas\",\"lastName\":\"Yao\",\"emailAddress\":\"agarwalshiv@microsoft.com\"},\"planData\":{\"usageType\":\"COMMITTED\",\"billingCycle\":\"MONTHLY\",\"planDetails\":\"azureportalintegration_privatepreview@TIDgmz7xq9ge3py\",\"effectiveDate\":\"2025-11-12T10:55:58.8466199Z\"},\"liftrResourceCategory\":\"MonitorLogs\",\"liftrResourcePreference\":0,\"provisioningState\":\"Succeeded\"}}",
      "isContentBase64": false
    }
  },
  "Invoke-AzDynatraceManageMonitorAgentInstallation+ManageViaIdentity Expanded (validation then expected failure)+Actual install via identity expected to throw (backend error)+$POST+https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrg45en7g/providers/Dynatrace.Observability/monitors/dyob83ctr7/manageAgentInstallation?api-version=2024-04-24+2": {
    "Request": {
      "Method": "POST",
      "RequestUri": "https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrg45en7g/providers/Dynatrace.Observability/monitors/dyob83ctr7/manageAgentInstallation?api-version=2024-04-24",
      "Content": "{\n  \"manageAgentInstallationList\": [\n    {\n      \"id\": \"/subscriptions//resourceGroups/dyobrg45en7g/providers/Microsoft.Compute/virtualMachines/sampleVM1\"\n    }\n  ],\n  \"action\": \"Install\"\n}",
      "isContentBase64": false,
      "Headers": {
      },
      "ContentHeaders": {
        "Content-Type": [ "application/json" ],
        "Content-Length": [ "189" ]
      }
    },
    "Response": {
      "StatusCode": 500,
      "Headers": {
        "Cache-Control": [ "no-cache" ],
        "Pragma": [ "no-cache" ],
        "x-ms-failure-cause": [ "gateway" ],
        "x-ms-request-id": [ "c9c31c0f-d209-4d32-95ef-357d767d657f" ],
        "x-ms-correlation-request-id": [ "c9c31c0f-d209-4d32-95ef-357d767d657f" ],
        "x-ms-routing-request-id": [ "EASTUS:20251112T110355Z:c9c31c0f-d209-4d32-95ef-357d767d657f" ],
        "Strict-Transport-Security": [ "max-age=31536000; includeSubDomains" ],
        "X-Content-Type-Options": [ "nosniff" ],
        "X-Cache": [ "CONFIG_NOCACHE" ],
        "X-MSEdge-Ref": [ "Ref A: A5F090E84A3D4B0CB3ADA37EF61AFFC5 Ref B: JKT201051407042 Ref C: 2025-11-12T11:03:55Z" ],
        "Date": [ "Wed, 12 Nov 2025 11:03:55 GMT" ]
      },
      "ContentHeaders": {
        "Content-Length": [ "312" ],
        "Content-Type": [ "application/json; charset=utf-8" ],
        "Expires": [ "-1" ]
      },
      "Content": "{\"error\":{\"code\":\"InternalServerError\",\"message\":\"Encountered internal server error. Diagnostic information: timestamp \u002720251112T110355Z\u0027, subscription id \u0027b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c\u0027, tracking id \u0027c9c31c0f-d209-4d32-95ef-357d767d657f\u0027, request correlation id \u0027c9c31c0f-d209-4d32-95ef-357d767d657f\u0027.\"}}",
      "isContentBase64": false
    }
  },
  "Invoke-AzDynatraceManageMonitorAgentInstallation+ManageViaIdentity with Request object (validation then expected failure)+Validates identity + request object with WhatIf (pipe monitor object)+$GET+https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrg45en7g/providers/Dynatrace.Observability/monitors/dyob83ctr7?api-version=2024-04-24+1": {
    "Request": {
      "Method": "GET",
      "RequestUri": "https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrg45en7g/providers/Dynatrace.Observability/monitors/dyob83ctr7?api-version=2024-04-24",
      "Content": null,
      "isContentBase64": false,
      "Headers": {
        "x-ms-unique-id": [ "44" ],
        "x-ms-client-request-id": [ "ee820b29-b873-4e8d-95d7-c9eedca8d612" ],
        "CommandName": [ "Get-AzDynatraceMonitor" ],
        "FullCommandName": [ "Get-AzDynatraceMonitor_Get" ],
        "ParameterSetName": [ "__AllParameterSets" ],
        "User-Agent": [ "AzurePowershell/v0.0.0", "PSVersion/v7.4.11", "Az.DynatraceObservability/0.1.0" ],
        "Authorization": [ "[Filtered]" ]
      },
      "ContentHeaders": {
      }
    },
    "Response": {
      "StatusCode": 200,
      "Headers": {
        "Cache-Control": [ "no-cache" ],
        "Pragma": [ "no-cache" ],
        "ETag": [ "\"7d009b71-0000-0100-0000-691467cf0000\"" ],
        "x-ms-ratelimit-remaining-subscription-reads": [ "249" ],
        "x-ms-providerhub-traffic": [ "True" ],
        "x-ms-request-id": [ "4e60c5f9-7098-479c-9f8a-fee4bd05d3eb" ],
        "x-ms-correlation-request-id": [ "302a873d-175e-4da9-9971-0cbc3294c50c" ],
        "x-ms-ratelimit-remaining-subscription-global-reads": [ "3749" ],
        "x-ms-routing-request-id": [ "EASTUS:20251112T110357Z:302a873d-175e-4da9-9971-0cbc3294c50c" ],
        "Strict-Transport-Security": [ "max-age=31536000; includeSubDomains" ],
        "X-Content-Type-Options": [ "nosniff" ],
        "X-Cache": [ "CONFIG_NOCACHE" ],
        "X-MSEdge-Ref": [ "Ref A: E2603A09637745B89508FA7D14E07827 Ref B: JKT201051407042 Ref C: 2025-11-12T11:03:56Z" ],
        "Date": [ "Wed, 12 Nov 2025 11:03:56 GMT" ]
      },
      "ContentHeaders": {
        "Content-Length": [ "1436" ],
        "Content-Type": [ "application/json; charset=utf-8" ],
        "Expires": [ "-1" ]
      },
      "Content": "{\"id\":\"/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrg45en7g/providers/Dynatrace.Observability/monitors/dyob83ctr7\",\"name\":\"dyob83ctr7\",\"type\":\"dynatrace.observability/monitors\",\"location\":\"eastus\",\"systemData\":{\"createdBy\":\"arushiarora@microsoft.com\",\"createdByType\":\"User\",\"createdAt\":\"2025-11-12T10:53:04.0192759Z\",\"lastModifiedBy\":\"dba650ed-9577-4bc0-9b5f-ef73e2d5bdfc\",\"lastModifiedByType\":\"Application\",\"lastModifiedAt\":\"2025-11-12T10:56:14.997419Z\"},\"properties\":{\"monitoringStatus\":\"Enabled\",\"marketplaceSubscriptionStatus\":\"Active\",\"dynatraceEnvironmentProperties\":{\"userId\":\"8500638c-1bac-4583-a231-730d194f3316\",\"accountInfo\":{\"accountId\":\"c8c08bfe-ce8a-4f4a-ba69-965ac51e1b56\",\"regionId\":\"eastus\"},\"environmentInfo\":{\"environmentId\":\"nhi56296\",\"logsIngestionEndpoint\":\"https://nhi56296.live.dynatrace.com/api/v2/logs/ingest\",\"landingURL\":\"https://nhi56296.live.dynatrace.com/\"},\"singleSignOnProperties\":{\"singleSignOnState\":\"Initial\",\"aadDomains\":[\"mpliftrlogz20210811outlook.onmicrosoft.com\"],\"provisioningState\":\"Accepted\"}},\"userInfo\":{\"firstName\":\"Lucas\",\"lastName\":\"Yao\",\"emailAddress\":\"agarwalshiv@microsoft.com\"},\"planData\":{\"usageType\":\"COMMITTED\",\"billingCycle\":\"MONTHLY\",\"planDetails\":\"azureportalintegration_privatepreview@TIDgmz7xq9ge3py\",\"effectiveDate\":\"2025-11-12T10:55:58.8466199Z\"},\"liftrResourceCategory\":\"MonitorLogs\",\"liftrResourcePreference\":0,\"provisioningState\":\"Succeeded\"}}",
      "isContentBase64": false
    }
  },
  "Invoke-AzDynatraceManageMonitorAgentInstallation+ManageViaIdentity with Request object (validation then expected failure)+Actual uninstall via identity expected to throw (backend error)+$GET+https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrg45en7g/providers/Dynatrace.Observability/monitors/dyob83ctr7?api-version=2024-04-24+1": {
    "Request": {
      "Method": "GET",
      "RequestUri": "https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrg45en7g/providers/Dynatrace.Observability/monitors/dyob83ctr7?api-version=2024-04-24",
      "Content": null,
      "isContentBase64": false,
      "Headers": {
        "x-ms-unique-id": [ "45" ],
        "x-ms-client-request-id": [ "ab0f3da7-abdf-4e7f-969f-6eb6b8e99248" ],
        "CommandName": [ "Get-AzDynatraceMonitor" ],
        "FullCommandName": [ "Get-AzDynatraceMonitor_Get" ],
        "ParameterSetName": [ "__AllParameterSets" ],
        "User-Agent": [ "AzurePowershell/v0.0.0", "PSVersion/v7.4.11", "Az.DynatraceObservability/0.1.0" ],
        "Authorization": [ "[Filtered]" ]
      },
      "ContentHeaders": {
      }
    },
    "Response": {
      "StatusCode": 200,
      "Headers": {
        "Cache-Control": [ "no-cache" ],
        "Pragma": [ "no-cache" ],
        "ETag": [ "\"7d009b71-0000-0100-0000-691467cf0000\"" ],
        "x-ms-ratelimit-remaining-subscription-reads": [ "249" ],
        "x-ms-providerhub-traffic": [ "True" ],
        "x-ms-request-id": [ "d9a47dd6-694d-4e91-8634-45ad3b1a5da3" ],
        "x-ms-correlation-request-id": [ "47532418-5e77-4fb5-b35f-a7475141089e" ],
        "x-ms-ratelimit-remaining-subscription-global-reads": [ "3749" ],
        "x-ms-routing-request-id": [ "EASTUS:20251112T110358Z:47532418-5e77-4fb5-b35f-a7475141089e" ],
        "Strict-Transport-Security": [ "max-age=31536000; includeSubDomains" ],
        "X-Content-Type-Options": [ "nosniff" ],
        "X-Cache": [ "CONFIG_NOCACHE" ],
        "X-MSEdge-Ref": [ "Ref A: 4EC4D59EFF7740F497B8795613F71683 Ref B: JKT201051407042 Ref C: 2025-11-12T11:03:57Z" ],
        "Date": [ "Wed, 12 Nov 2025 11:03:57 GMT" ]
      },
      "ContentHeaders": {
        "Content-Length": [ "1436" ],
        "Content-Type": [ "application/json; charset=utf-8" ],
        "Expires": [ "-1" ]
      },
      "Content": "{\"id\":\"/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrg45en7g/providers/Dynatrace.Observability/monitors/dyob83ctr7\",\"name\":\"dyob83ctr7\",\"type\":\"dynatrace.observability/monitors\",\"location\":\"eastus\",\"systemData\":{\"createdBy\":\"arushiarora@microsoft.com\",\"createdByType\":\"User\",\"createdAt\":\"2025-11-12T10:53:04.0192759Z\",\"lastModifiedBy\":\"dba650ed-9577-4bc0-9b5f-ef73e2d5bdfc\",\"lastModifiedByType\":\"Application\",\"lastModifiedAt\":\"2025-11-12T10:56:14.997419Z\"},\"properties\":{\"monitoringStatus\":\"Enabled\",\"marketplaceSubscriptionStatus\":\"Active\",\"dynatraceEnvironmentProperties\":{\"userId\":\"8500638c-1bac-4583-a231-730d194f3316\",\"accountInfo\":{\"accountId\":\"c8c08bfe-ce8a-4f4a-ba69-965ac51e1b56\",\"regionId\":\"eastus\"},\"environmentInfo\":{\"environmentId\":\"nhi56296\",\"logsIngestionEndpoint\":\"https://nhi56296.live.dynatrace.com/api/v2/logs/ingest\",\"landingURL\":\"https://nhi56296.live.dynatrace.com/\"},\"singleSignOnProperties\":{\"singleSignOnState\":\"Initial\",\"aadDomains\":[\"mpliftrlogz20210811outlook.onmicrosoft.com\"],\"provisioningState\":\"Accepted\"}},\"userInfo\":{\"firstName\":\"Lucas\",\"lastName\":\"Yao\",\"emailAddress\":\"agarwalshiv@microsoft.com\"},\"planData\":{\"usageType\":\"COMMITTED\",\"billingCycle\":\"MONTHLY\",\"planDetails\":\"azureportalintegration_privatepreview@TIDgmz7xq9ge3py\",\"effectiveDate\":\"2025-11-12T10:55:58.8466199Z\"},\"liftrResourceCategory\":\"MonitorLogs\",\"liftrResourcePreference\":0,\"provisioningState\":\"Succeeded\"}}",
      "isContentBase64": false
    }
  },
  "Invoke-AzDynatraceManageMonitorAgentInstallation+ManageViaIdentity with Request object (validation then expected failure)+Actual uninstall via identity expected to throw (backend error)+$POST+https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrg45en7g/providers/Dynatrace.Observability/monitors/dyob83ctr7/manageAgentInstallation?api-version=2024-04-24+2": {
    "Request": {
      "Method": "POST",
      "RequestUri": "https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrg45en7g/providers/Dynatrace.Observability/monitors/dyob83ctr7/manageAgentInstallation?api-version=2024-04-24",
      "Content": "{\n  \"manageAgentInstallationList\": [\n    {\n      \"id\": \"/subscriptions//resourceGroups/dyobrg45en7g/providers/Microsoft.Compute/virtualMachines/sampleVM1\"\n    }\n  ],\n  \"action\": \"Uninstall\"\n}",
      "isContentBase64": false,
      "Headers": {
      },
      "ContentHeaders": {
        "Content-Type": [ "application/json" ],
        "Content-Length": [ "191" ]
      }
    },
    "Response": {
      "StatusCode": 500,
      "Headers": {
        "Cache-Control": [ "no-cache" ],
        "Pragma": [ "no-cache" ],
        "x-ms-failure-cause": [ "gateway" ],
        "x-ms-request-id": [ "50f5a7e5-1a10-4f82-9dda-0e79c5da210d" ],
        "x-ms-correlation-request-id": [ "50f5a7e5-1a10-4f82-9dda-0e79c5da210d" ],
        "x-ms-routing-request-id": [ "EASTUS:20251112T110401Z:50f5a7e5-1a10-4f82-9dda-0e79c5da210d" ],
        "Strict-Transport-Security": [ "max-age=31536000; includeSubDomains" ],
        "X-Content-Type-Options": [ "nosniff" ],
        "X-Cache": [ "CONFIG_NOCACHE" ],
        "X-MSEdge-Ref": [ "Ref A: 61B2D567C48E4ADC9B8DE1CD7E11D4BB Ref B: JKT201051407052 Ref C: 2025-11-12T11:04:01Z" ],
        "Date": [ "Wed, 12 Nov 2025 11:04:01 GMT" ]
      },
      "ContentHeaders": {
        "Content-Length": [ "312" ],
        "Content-Type": [ "application/json; charset=utf-8" ],
        "Expires": [ "-1" ]
      },
      "Content": "{\"error\":{\"code\":\"InternalServerError\",\"message\":\"Encountered internal server error. Diagnostic information: timestamp \u002720251112T110401Z\u0027, subscription id \u0027b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c\u0027, tracking id \u002750f5a7e5-1a10-4f82-9dda-0e79c5da210d\u0027, request correlation id \u002750f5a7e5-1a10-4f82-9dda-0e79c5da210d\u0027.\"}}",
      "isContentBase64": false
    }
  },
  "Invoke-AzDynatraceManageMonitorAgentInstallation+ManageViaJsonString (validation then expected failure)+Actual JSON string install expected to throw+$POST+https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrg45en7g/providers/Dynatrace.Observability/monitors/dyob83ctr7/manageAgentInstallation?api-version=2024-04-24+1": {
    "Request": {
      "Method": "POST",
      "RequestUri": "https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrg45en7g/providers/Dynatrace.Observability/monitors/dyob83ctr7/manageAgentInstallation?api-version=2024-04-24",
      "Content": "{\n  \"manageAgentInstallationList\": [\n    {\n      \"id\": \"/subscriptions//resourceGroups/dyobrg45en7g/providers/Microsoft.Compute/virtualMachines/sampleVM1\"\n    }\n  ],\n  \"action\": \"Install\"\n}",
      "isContentBase64": false,
      "Headers": {
      },
      "ContentHeaders": {
        "Content-Type": [ "application/json" ],
        "Content-Length": [ "189" ]
      }
    },
    "Response": {
      "StatusCode": 500,
      "Headers": {
        "Cache-Control": [ "no-cache" ],
        "Pragma": [ "no-cache" ],
        "x-ms-failure-cause": [ "gateway" ],
        "x-ms-request-id": [ "950968e3-e689-4b0a-95aa-ef86df213fb7" ],
        "x-ms-correlation-request-id": [ "950968e3-e689-4b0a-95aa-ef86df213fb7" ],
        "x-ms-routing-request-id": [ "EASTUS:20251112T110404Z:950968e3-e689-4b0a-95aa-ef86df213fb7" ],
        "Strict-Transport-Security": [ "max-age=31536000; includeSubDomains" ],
        "X-Content-Type-Options": [ "nosniff" ],
        "X-Cache": [ "CONFIG_NOCACHE" ],
        "X-MSEdge-Ref": [ "Ref A: 5EC9172AEC204174823017541556F71A Ref B: JKT201051406036 Ref C: 2025-11-12T11:04:04Z" ],
        "Date": [ "Wed, 12 Nov 2025 11:04:03 GMT" ]
      },
      "ContentHeaders": {
        "Content-Length": [ "312" ],
        "Content-Type": [ "application/json; charset=utf-8" ],
        "Expires": [ "-1" ]
      },
      "Content": "{\"error\":{\"code\":\"InternalServerError\",\"message\":\"Encountered internal server error. Diagnostic information: timestamp \u002720251112T110404Z\u0027, subscription id \u0027b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c\u0027, tracking id \u0027950968e3-e689-4b0a-95aa-ef86df213fb7\u0027, request correlation id \u0027950968e3-e689-4b0a-95aa-ef86df213fb7\u0027.\"}}",
      "isContentBase64": false
    }
  },
  "Invoke-AzDynatraceManageMonitorAgentInstallation+ManageViaJsonFilePath (validation then expected failure)+Actual JSON file path install expected to throw+$POST+https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrg45en7g/providers/Dynatrace.Observability/monitors/dyob83ctr7/manageAgentInstallation?api-version=2024-04-24+1": {
    "Request": {
      "Method": "POST",
      "RequestUri": "https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrg45en7g/providers/Dynatrace.Observability/monitors/dyob83ctr7/manageAgentInstallation?api-version=2024-04-24",
      "Content": "ewogICJtYW5hZ2VBZ2VudEluc3RhbGxhdGlvbkxpc3QiOiBbCiAgICB7CiAgICAgICJpZCI6ICIvc3Vic2NyaXB0aW9ucy8vcmVzb3VyY2VHcm91cHMvZHlvYnJnNDVlbjdnL3Byb3ZpZGVycy9NaWNyb3NvZnQuQ29tcHV0ZS92aXJ0dWFsTWFjaGluZXMvc2FtcGxlVk0xIgogICAgfQogIF0sCiAgImFjdGlvbiI6ICJJbnN0YWxsIgp9Cg==",
      "isContentBase64": false,
      "Headers": {
      },
      "ContentHeaders": {
        "Content-Type": [ "application/json" ],
        "Content-Length": [ "190" ]
      }
    },
    "Response": {
      "StatusCode": 500,
      "Headers": {
        "Cache-Control": [ "no-cache" ],
        "Pragma": [ "no-cache" ],
        "x-ms-failure-cause": [ "gateway" ],
        "x-ms-request-id": [ "a2f191a2-794e-4392-b6a6-309ce222ffd0" ],
        "x-ms-correlation-request-id": [ "a2f191a2-794e-4392-b6a6-309ce222ffd0" ],
        "x-ms-routing-request-id": [ "EASTUS:20251112T110407Z:a2f191a2-794e-4392-b6a6-309ce222ffd0" ],
        "Strict-Transport-Security": [ "max-age=31536000; includeSubDomains" ],
        "X-Content-Type-Options": [ "nosniff" ],
        "X-Cache": [ "CONFIG_NOCACHE" ],
        "X-MSEdge-Ref": [ "Ref A: 76B80EEC09CB4AAC83C167579ECAD270 Ref B: JKT201051407029 Ref C: 2025-11-12T11:04:07Z" ],
        "Date": [ "Wed, 12 Nov 2025 11:04:06 GMT" ]
      },
      "ContentHeaders": {
        "Content-Length": [ "312" ],
        "Content-Type": [ "application/json; charset=utf-8" ],
        "Expires": [ "-1" ]
      },
      "Content": "{\"error\":{\"code\":\"InternalServerError\",\"message\":\"Encountered internal server error. Diagnostic information: timestamp \u002720251112T110407Z\u0027, subscription id \u0027b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c\u0027, tracking id \u0027a2f191a2-794e-4392-b6a6-309ce222ffd0\u0027, request correlation id \u0027a2f191a2-794e-4392-b6a6-309ce222ffd0\u0027.\"}}",
      "isContentBase64": false
    }
  },
  "Invoke-AzDynatraceManageMonitorAgentInstallation+Empty resource list edge (validation only)+Actual call with empty list expected to throw+$POST+https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrg45en7g/providers/Dynatrace.Observability/monitors/dyob83ctr7/manageAgentInstallation?api-version=2024-04-24+1": {
    "Request": {
      "Method": "POST",
      "RequestUri": "https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrg45en7g/providers/Dynatrace.Observability/monitors/dyob83ctr7/manageAgentInstallation?api-version=2024-04-24",
      "Content": "{\n  \"manageAgentInstallationList\": [ ],\n  \"action\": \"Install\"\n}",
      "isContentBase64": false,
      "Headers": {
      },
      "ContentHeaders": {
        "Content-Type": [ "application/json" ],
        "Content-Length": [ "63" ]
      }
    },
    "Response": {
      "StatusCode": 400,
      "Headers": {
        "Cache-Control": [ "no-cache" ],
        "Pragma": [ "no-cache" ],
        "x-ms-operation-identifier": [ "tenantId=888d76fa-54b2-4ced-8ee5-aac1585adee7,objectId=5cd9a09c-ba05-4fc8-8c8a-6d4d17e49a6e/eastus/7bc9d0bc-954e-4f78-9e46-53d203467667" ],
        "x-ms-providerhub-traffic": [ "True" ],
        "Request-Context": [ "appId=cid-v1:fab059ea-d726-424a-9451-6beb3dc74944" ],
        "mise-correlation-id": [ "9deb3f24-1599-4a95-a676-8d6af2c37532" ],
        "Strict-Transport-Security": [ "max-age=31536000; includeSubDomains" ],
        "X-Content-Type-Options": [ "nosniff" ],
        "x-ms-failure-cause": [ "service" ],
        "x-ms-request-id": [ "71ef4098-8569-4e5c-b171-046e981e5432" ],
        "x-ms-correlation-request-id": [ "0337ba9c-dab4-464a-936e-e996c43cbf81" ],
        "x-ms-ratelimit-remaining-subscription-writes": [ "199" ],
        "x-ms-ratelimit-remaining-subscription-global-writes": [ "2999" ],
        "x-ms-routing-request-id": [ "EASTUS:20251112T110408Z:0337ba9c-dab4-464a-936e-e996c43cbf81" ],
        "X-Cache": [ "CONFIG_NOCACHE" ],
        "X-MSEdge-Ref": [ "Ref A: 578CA3BFF77347CA8359217B8F3453BD Ref B: JKT201051407029 Ref C: 2025-11-12T11:04:08Z" ],
        "Date": [ "Wed, 12 Nov 2025 11:04:08 GMT" ]
      },
      "ContentHeaders": {
        "Content-Length": [ "89" ],
        "Content-Type": [ "application/json" ],
        "Expires": [ "-1" ]
      },
      "Content": "{\"error\":{\"code\":\"BadRequest\",\"message\":\"ManageAgentInstallationList is empty or null.\"}}",
      "isContentBase64": false
    }
  },
  "Invoke-AzDynatraceManageMonitorAgentInstallation+Invalid action negative case+Throws for unsupported action value+$POST+https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrg45en7g/providers/Dynatrace.Observability/monitors/dyob83ctr7/manageAgentInstallation?api-version=2024-04-24+1": {
    "Request": {
      "Method": "POST",
      "RequestUri": "https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrg45en7g/providers/Dynatrace.Observability/monitors/dyob83ctr7/manageAgentInstallation?api-version=2024-04-24",
      "Content": "{\n  \"manageAgentInstallationList\": [\n    {\n      \"id\": \"/subscriptions//resourceGroups/dyobrg45en7g/providers/Microsoft.Compute/virtualMachines/sampleVM1\"\n    }\n  ],\n  \"action\": \"Reinstall\"\n}",
      "isContentBase64": false,
      "Headers": {
      },
      "ContentHeaders": {
        "Content-Type": [ "application/json" ],
        "Content-Length": [ "191" ]
      }
    },
    "Response": {
      "StatusCode": 500,
      "Headers": {
        "Cache-Control": [ "no-cache" ],
        "Pragma": [ "no-cache" ],
        "x-ms-failure-cause": [ "gateway" ],
        "x-ms-request-id": [ "af5d2d52-b2d0-485e-b1f1-8e677ec6a3c4" ],
        "x-ms-correlation-request-id": [ "af5d2d52-b2d0-485e-b1f1-8e677ec6a3c4" ],
        "x-ms-routing-request-id": [ "EASTUS:20251112T110412Z:af5d2d52-b2d0-485e-b1f1-8e677ec6a3c4" ],
        "Strict-Transport-Security": [ "max-age=31536000; includeSubDomains" ],
        "X-Content-Type-Options": [ "nosniff" ],
        "X-Cache": [ "CONFIG_NOCACHE" ],
        "X-MSEdge-Ref": [ "Ref A: BE44BC02186E4D6391D3527443463DCC Ref B: JKT201051407060 Ref C: 2025-11-12T11:04:11Z" ],
        "Date": [ "Wed, 12 Nov 2025 11:04:11 GMT" ]
      },
      "ContentHeaders": {
        "Content-Length": [ "312" ],
        "Content-Type": [ "application/json; charset=utf-8" ],
        "Expires": [ "-1" ]
      },
      "Content": "{\"error\":{\"code\":\"InternalServerError\",\"message\":\"Encountered internal server error. Diagnostic information: timestamp \u002720251112T110412Z\u0027, subscription id \u0027b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c\u0027, tracking id \u0027af5d2d52-b2d0-485e-b1f1-8e677ec6a3c4\u0027, request correlation id \u0027af5d2d52-b2d0-485e-b1f1-8e677ec6a3c4\u0027.\"}}",
      "isContentBase64": false
    }
  }
}