{
  "Invoke-AzDynatraceManageMonitorAgentInstallation+ManageExpanded Install action (validation then expected failure)+Actual install expected to throw+$POST+https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrgj2ihkv/providers/Dynatrace.Observability/monitors/dyobj748u3/manageAgentInstallation?api-version=2024-04-24+1": {
    "Request": {
      "Method": "POST",
      "RequestUri": "https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrgj2ihkv/providers/Dynatrace.Observability/monitors/dyobj748u3/manageAgentInstallation?api-version=2024-04-24",
      "Content": "{\n  \"manageAgentInstallationList\": [\n    {\n      \"id\": \"/subscriptions//resourceGroups/dyobrgj2ihkv/providers/Microsoft.Compute/virtualMachines/sampleVM1\"\n    }\n  ],\n  \"action\": \"Install\"\n}",
      "isContentBase64": false,
      "Headers": {
      },
      "ContentHeaders": {
        "Content-Type": [ "application/json" ],
        "Content-Length": [ "189" ]
      }
    },
    "Response": {
      "StatusCode": 500,
      "Headers": {
        "Cache-Control": [ "no-cache" ],
        "Pragma": [ "no-cache" ],
        "x-ms-failure-cause": [ "gateway" ],
        "x-ms-request-id": [ "4c13a6f5-7cf7-4440-826e-30acd5dcf226" ],
        "x-ms-correlation-request-id": [ "4c13a6f5-7cf7-4440-826e-30acd5dcf226" ],
        "x-ms-routing-request-id": [ "EASTUS:20251111T183447Z:4c13a6f5-7cf7-4440-826e-30acd5dcf226" ],
        "Strict-Transport-Security": [ "max-age=31536000; includeSubDomains" ],
        "X-Content-Type-Options": [ "nosniff" ],
        "X-Cache": [ "CONFIG_NOCACHE" ],
        "X-MSEdge-Ref": [ "Ref A: 447D229896CB4BBEA32B655BE0A9D2F2 Ref B: JKT201051406023 Ref C: 2025-11-11T18:34:47Z" ],
        "Date": [ "Tue, 11 Nov 2025 18:34:46 GMT" ]
      },
      "ContentHeaders": {
        "Content-Length": [ "312" ],
        "Content-Type": [ "application/json; charset=utf-8" ],
        "Expires": [ "-1" ]
      },
      "Content": "{\"error\":{\"code\":\"InternalServerError\",\"message\":\"Encountered internal server error. Diagnostic information: timestamp \u002720251111T183447Z\u0027, subscription id \u0027b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c\u0027, tracking id \u00274c13a6f5-7cf7-4440-826e-30acd5dcf226\u0027, request correlation id \u00274c13a6f5-7cf7-4440-826e-30acd5dcf226\u0027.\"}}",
      "isContentBase64": false
    }
  },
  "Invoke-AzDynatraceManageMonitorAgentInstallation+ManageExpanded Uninstall action (validation then expected failure)+Actual uninstall expected to throw+$POST+https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrgj2ihkv/providers/Dynatrace.Observability/monitors/dyobj748u3/manageAgentInstallation?api-version=2024-04-24+1": {
    "Request": {
      "Method": "POST",
      "RequestUri": "https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrgj2ihkv/providers/Dynatrace.Observability/monitors/dyobj748u3/manageAgentInstallation?api-version=2024-04-24",
      "Content": "{\n  \"manageAgentInstallationList\": [\n    {\n      \"id\": \"/subscriptions//resourceGroups/dyobrgj2ihkv/providers/Microsoft.Compute/virtualMachines/sampleVM1\"\n    }\n  ],\n  \"action\": \"Uninstall\"\n}",
      "isContentBase64": false,
      "Headers": {
      },
      "ContentHeaders": {
        "Content-Type": [ "application/json" ],
        "Content-Length": [ "191" ]
      }
    },
    "Response": {
      "StatusCode": 500,
      "Headers": {
        "Cache-Control": [ "no-cache" ],
        "Pragma": [ "no-cache" ],
        "x-ms-failure-cause": [ "gateway" ],
        "x-ms-request-id": [ "4224c44a-bcac-4801-af6e-fdbdf36de82c" ],
        "x-ms-correlation-request-id": [ "4224c44a-bcac-4801-af6e-fdbdf36de82c" ],
        "x-ms-routing-request-id": [ "EASTUS:20251111T183450Z:4224c44a-bcac-4801-af6e-fdbdf36de82c" ],
        "Strict-Transport-Security": [ "max-age=31536000; includeSubDomains" ],
        "X-Content-Type-Options": [ "nosniff" ],
        "X-Cache": [ "CONFIG_NOCACHE" ],
        "X-MSEdge-Ref": [ "Ref A: E5E26EA59E4247F9A67F370786405E66 Ref B: JKT201051407060 Ref C: 2025-11-11T18:34:50Z" ],
        "Date": [ "Tue, 11 Nov 2025 18:34:50 GMT" ]
      },
      "ContentHeaders": {
        "Content-Length": [ "312" ],
        "Content-Type": [ "application/json; charset=utf-8" ],
        "Expires": [ "-1" ]
      },
      "Content": "{\"error\":{\"code\":\"InternalServerError\",\"message\":\"Encountered internal server error. Diagnostic information: timestamp \u002720251111T183450Z\u0027, subscription id \u0027b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c\u0027, tracking id \u00274224c44a-bcac-4801-af6e-fdbdf36de82c\u0027, request correlation id \u00274224c44a-bcac-4801-af6e-fdbdf36de82c\u0027.\"}}",
      "isContentBase64": false
    }
  },
  "Invoke-AzDynatraceManageMonitorAgentInstallation+Manage parameter set with Request object (validation then expected failure)+Actual install with request object expected to throw+$POST+https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrgj2ihkv/providers/Dynatrace.Observability/monitors/dyobj748u3/manageAgentInstallation?api-version=2024-04-24+1": {
    "Request": {
      "Method": "POST",
      "RequestUri": "https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrgj2ihkv/providers/Dynatrace.Observability/monitors/dyobj748u3/manageAgentInstallation?api-version=2024-04-24",
      "Content": "{\n  \"manageAgentInstallationList\": [\n    {\n      \"id\": \"/subscriptions//resourceGroups/dyobrgj2ihkv/providers/Microsoft.Compute/virtualMachines/sampleVM1\"\n    }\n  ],\n  \"action\": \"Install\"\n}",
      "isContentBase64": false,
      "Headers": {
      },
      "ContentHeaders": {
        "Content-Type": [ "application/json" ],
        "Content-Length": [ "189" ]
      }
    },
    "Response": {
      "StatusCode": 500,
      "Headers": {
        "Cache-Control": [ "no-cache" ],
        "Pragma": [ "no-cache" ],
        "x-ms-failure-cause": [ "gateway" ],
        "x-ms-request-id": [ "2895e2bc-93dc-4c81-a053-848ffb63db98" ],
        "x-ms-correlation-request-id": [ "2895e2bc-93dc-4c81-a053-848ffb63db98" ],
        "x-ms-routing-request-id": [ "EASTUS:20251111T183453Z:2895e2bc-93dc-4c81-a053-848ffb63db98" ],
        "Strict-Transport-Security": [ "max-age=31536000; includeSubDomains" ],
        "X-Content-Type-Options": [ "nosniff" ],
        "X-Cache": [ "CONFIG_NOCACHE" ],
        "X-MSEdge-Ref": [ "Ref A: 8147E13CA0194B2BB35C965419B4EBF0 Ref B: JKT201051407034 Ref C: 2025-11-11T18:34:53Z" ],
        "Date": [ "Tue, 11 Nov 2025 18:34:53 GMT" ]
      },
      "ContentHeaders": {
        "Content-Length": [ "312" ],
        "Content-Type": [ "application/json; charset=utf-8" ],
        "Expires": [ "-1" ]
      },
      "Content": "{\"error\":{\"code\":\"InternalServerError\",\"message\":\"Encountered internal server error. Diagnostic information: timestamp \u002720251111T183453Z\u0027, subscription id \u0027b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c\u0027, tracking id \u00272895e2bc-93dc-4c81-a053-848ffb63db98\u0027, request correlation id \u00272895e2bc-93dc-4c81-a053-848ffb63db98\u0027.\"}}",
      "isContentBase64": false
    }
  },
  "Invoke-AzDynatraceManageMonitorAgentInstallation+ManageViaIdentity Expanded (validation then expected failure)+Validates identity + expanded params with WhatIf (pipe monitor object)+$GET+https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrgj2ihkv/providers/Dynatrace.Observability/monitors/dyobj748u3?api-version=2024-04-24+1": {
    "Request": {
      "Method": "GET",
      "RequestUri": "https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrgj2ihkv/providers/Dynatrace.Observability/monitors/dyobj748u3?api-version=2024-04-24",
      "Content": null,
      "isContentBase64": false,
      "Headers": {
        "x-ms-unique-id": [ "40" ],
        "x-ms-client-request-id": [ "1f01c0f7-68c1-4e54-bb36-cad81ae3c408" ],
        "CommandName": [ "Get-AzDynatraceMonitor" ],
        "FullCommandName": [ "Get-AzDynatraceMonitor_Get" ],
        "ParameterSetName": [ "__AllParameterSets" ],
        "User-Agent": [ "AzurePowershell/v0.0.0", "PSVersion/v7.4.11", "Az.DynatraceObservability/0.1.0" ],
        "Authorization": [ "[Filtered]" ]
      },
      "ContentHeaders": {
      }
    },
    "Response": {
      "StatusCode": 200,
      "Headers": {
        "Cache-Control": [ "no-cache" ],
        "Pragma": [ "no-cache" ],
        "ETag": [ "\"76001273-0000-0100-0000-691380870000\"" ],
        "x-ms-ratelimit-remaining-subscription-reads": [ "249" ],
        "x-ms-providerhub-traffic": [ "True" ],
        "x-ms-request-id": [ "dc02d79e-98f8-4dec-9246-c5eda23456ba" ],
        "x-ms-correlation-request-id": [ "0e20f284-ee33-4e24-85bd-bcb3057c8cb7" ],
        "x-ms-ratelimit-remaining-subscription-global-reads": [ "3749" ],
        "x-ms-routing-request-id": [ "EASTUS:20251111T183455Z:0e20f284-ee33-4e24-85bd-bcb3057c8cb7" ],
        "Strict-Transport-Security": [ "max-age=31536000; includeSubDomains" ],
        "X-Content-Type-Options": [ "nosniff" ],
        "X-Cache": [ "CONFIG_NOCACHE" ],
        "X-MSEdge-Ref": [ "Ref A: 4E917C6C19544F1D84EF1FBF0FB9062B Ref B: JKT201051407034 Ref C: 2025-11-11T18:34:54Z" ],
        "Date": [ "Tue, 11 Nov 2025 18:34:54 GMT" ]
      },
      "ContentHeaders": {
        "Content-Length": [ "1437" ],
        "Content-Type": [ "application/json; charset=utf-8" ],
        "Expires": [ "-1" ]
      },
      "Content": "{\"id\":\"/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrgj2ihkv/providers/Dynatrace.Observability/monitors/dyobj748u3\",\"name\":\"dyobj748u3\",\"type\":\"dynatrace.observability/monitors\",\"location\":\"eastus\",\"systemData\":{\"createdBy\":\"arushiarora@microsoft.com\",\"createdByType\":\"User\",\"createdAt\":\"2025-11-11T18:26:44.2215462Z\",\"lastModifiedBy\":\"dba650ed-9577-4bc0-9b5f-ef73e2d5bdfc\",\"lastModifiedByType\":\"Application\",\"lastModifiedAt\":\"2025-11-11T18:29:27.5947251Z\"},\"properties\":{\"monitoringStatus\":\"Enabled\",\"marketplaceSubscriptionStatus\":\"Active\",\"dynatraceEnvironmentProperties\":{\"userId\":\"246a4351-40f4-40d1-855c-f785e9b6530d\",\"accountInfo\":{\"accountId\":\"c8c08bfe-ce8a-4f4a-ba69-965ac51e1b56\",\"regionId\":\"eastus\"},\"environmentInfo\":{\"environmentId\":\"qai88853\",\"logsIngestionEndpoint\":\"https://qai88853.live.dynatrace.com/api/v2/logs/ingest\",\"landingURL\":\"https://qai88853.live.dynatrace.com/\"},\"singleSignOnProperties\":{\"singleSignOnState\":\"Initial\",\"aadDomains\":[\"mpliftrlogz20210811outlook.onmicrosoft.com\"],\"provisioningState\":\"Accepted\"}},\"userInfo\":{\"firstName\":\"Lucas\",\"lastName\":\"Yao\",\"emailAddress\":\"agarwalshiv@microsoft.com\"},\"planData\":{\"usageType\":\"COMMITTED\",\"billingCycle\":\"MONTHLY\",\"planDetails\":\"azureportalintegration_privatepreview@TIDgmz7xq9ge3py\",\"effectiveDate\":\"2025-11-11T18:29:00.1586178Z\"},\"liftrResourceCategory\":\"MonitorLogs\",\"liftrResourcePreference\":0,\"provisioningState\":\"Succeeded\"}}",
      "isContentBase64": false
    }
  },
  "Invoke-AzDynatraceManageMonitorAgentInstallation+ManageViaIdentity Expanded (validation then expected failure)+Actual install via identity expected to throw (backend error)+$GET+https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrgj2ihkv/providers/Dynatrace.Observability/monitors/dyobj748u3?api-version=2024-04-24+1": {
    "Request": {
      "Method": "GET",
      "RequestUri": "https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrgj2ihkv/providers/Dynatrace.Observability/monitors/dyobj748u3?api-version=2024-04-24",
      "Content": null,
      "isContentBase64": false,
      "Headers": {
        "x-ms-unique-id": [ "41" ],
        "x-ms-client-request-id": [ "e2ae78a0-cdf8-461d-a8c8-1aa4617a525b" ],
        "CommandName": [ "Get-AzDynatraceMonitor" ],
        "FullCommandName": [ "Get-AzDynatraceMonitor_Get" ],
        "ParameterSetName": [ "__AllParameterSets" ],
        "User-Agent": [ "AzurePowershell/v0.0.0", "PSVersion/v7.4.11", "Az.DynatraceObservability/0.1.0" ],
        "Authorization": [ "[Filtered]" ]
      },
      "ContentHeaders": {
      }
    },
    "Response": {
      "StatusCode": 200,
      "Headers": {
        "Cache-Control": [ "no-cache" ],
        "Pragma": [ "no-cache" ],
        "ETag": [ "\"76001273-0000-0100-0000-691380870000\"" ],
        "x-ms-ratelimit-remaining-subscription-reads": [ "249" ],
        "x-ms-providerhub-traffic": [ "True" ],
        "x-ms-request-id": [ "9fcbc57a-fe49-4424-bf33-eb2a796e8d4c" ],
        "x-ms-correlation-request-id": [ "075b5179-edcd-4d47-bd27-8a6e47f01924" ],
        "x-ms-ratelimit-remaining-subscription-global-reads": [ "3748" ],
        "x-ms-routing-request-id": [ "EASTUS:20251111T183455Z:075b5179-edcd-4d47-bd27-8a6e47f01924" ],
        "Strict-Transport-Security": [ "max-age=31536000; includeSubDomains" ],
        "X-Content-Type-Options": [ "nosniff" ],
        "X-Cache": [ "CONFIG_NOCACHE" ],
        "X-MSEdge-Ref": [ "Ref A: BF519FA057D94E92A292C79E5884B2AA Ref B: JKT201051407034 Ref C: 2025-11-11T18:34:55Z" ],
        "Date": [ "Tue, 11 Nov 2025 18:34:55 GMT" ]
      },
      "ContentHeaders": {
        "Content-Length": [ "1437" ],
        "Content-Type": [ "application/json; charset=utf-8" ],
        "Expires": [ "-1" ]
      },
      "Content": "{\"id\":\"/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrgj2ihkv/providers/Dynatrace.Observability/monitors/dyobj748u3\",\"name\":\"dyobj748u3\",\"type\":\"dynatrace.observability/monitors\",\"location\":\"eastus\",\"systemData\":{\"createdBy\":\"arushiarora@microsoft.com\",\"createdByType\":\"User\",\"createdAt\":\"2025-11-11T18:26:44.2215462Z\",\"lastModifiedBy\":\"dba650ed-9577-4bc0-9b5f-ef73e2d5bdfc\",\"lastModifiedByType\":\"Application\",\"lastModifiedAt\":\"2025-11-11T18:29:27.5947251Z\"},\"properties\":{\"monitoringStatus\":\"Enabled\",\"marketplaceSubscriptionStatus\":\"Active\",\"dynatraceEnvironmentProperties\":{\"userId\":\"246a4351-40f4-40d1-855c-f785e9b6530d\",\"accountInfo\":{\"accountId\":\"c8c08bfe-ce8a-4f4a-ba69-965ac51e1b56\",\"regionId\":\"eastus\"},\"environmentInfo\":{\"environmentId\":\"qai88853\",\"logsIngestionEndpoint\":\"https://qai88853.live.dynatrace.com/api/v2/logs/ingest\",\"landingURL\":\"https://qai88853.live.dynatrace.com/\"},\"singleSignOnProperties\":{\"singleSignOnState\":\"Initial\",\"aadDomains\":[\"mpliftrlogz20210811outlook.onmicrosoft.com\"],\"provisioningState\":\"Accepted\"}},\"userInfo\":{\"firstName\":\"Lucas\",\"lastName\":\"Yao\",\"emailAddress\":\"agarwalshiv@microsoft.com\"},\"planData\":{\"usageType\":\"COMMITTED\",\"billingCycle\":\"MONTHLY\",\"planDetails\":\"azureportalintegration_privatepreview@TIDgmz7xq9ge3py\",\"effectiveDate\":\"2025-11-11T18:29:00.1586178Z\"},\"liftrResourceCategory\":\"MonitorLogs\",\"liftrResourcePreference\":0,\"provisioningState\":\"Succeeded\"}}",
      "isContentBase64": false
    }
  },
  "Invoke-AzDynatraceManageMonitorAgentInstallation+ManageViaIdentity Expanded (validation then expected failure)+Actual install via identity expected to throw (backend error)+$POST+https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrgj2ihkv/providers/Dynatrace.Observability/monitors/dyobj748u3/manageAgentInstallation?api-version=2024-04-24+2": {
    "Request": {
      "Method": "POST",
      "RequestUri": "https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrgj2ihkv/providers/Dynatrace.Observability/monitors/dyobj748u3/manageAgentInstallation?api-version=2024-04-24",
      "Content": "{\n  \"manageAgentInstallationList\": [\n    {\n      \"id\": \"/subscriptions//resourceGroups/dyobrgj2ihkv/providers/Microsoft.Compute/virtualMachines/sampleVM1\"\n    }\n  ],\n  \"action\": \"Install\"\n}",
      "isContentBase64": false,
      "Headers": {
      },
      "ContentHeaders": {
        "Content-Type": [ "application/json" ],
        "Content-Length": [ "189" ]
      }
    },
    "Response": {
      "StatusCode": 500,
      "Headers": {
        "Cache-Control": [ "no-cache" ],
        "Pragma": [ "no-cache" ],
        "x-ms-failure-cause": [ "gateway" ],
        "x-ms-request-id": [ "a109c513-c6dd-4606-83bd-141b6cb43e0f" ],
        "x-ms-correlation-request-id": [ "a109c513-c6dd-4606-83bd-141b6cb43e0f" ],
        "x-ms-routing-request-id": [ "EASTUS:20251111T183458Z:a109c513-c6dd-4606-83bd-141b6cb43e0f" ],
        "Strict-Transport-Security": [ "max-age=31536000; includeSubDomains" ],
        "X-Content-Type-Options": [ "nosniff" ],
        "X-Cache": [ "CONFIG_NOCACHE" ],
        "X-MSEdge-Ref": [ "Ref A: 96E6105C8D7041AF8CDA2F616066B7D2 Ref B: JKT201051406040 Ref C: 2025-11-11T18:34:57Z" ],
        "Date": [ "Tue, 11 Nov 2025 18:34:57 GMT" ]
      },
      "ContentHeaders": {
        "Content-Length": [ "312" ],
        "Content-Type": [ "application/json; charset=utf-8" ],
        "Expires": [ "-1" ]
      },
      "Content": "{\"error\":{\"code\":\"InternalServerError\",\"message\":\"Encountered internal server error. Diagnostic information: timestamp \u002720251111T183458Z\u0027, subscription id \u0027b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c\u0027, tracking id \u0027a109c513-c6dd-4606-83bd-141b6cb43e0f\u0027, request correlation id \u0027a109c513-c6dd-4606-83bd-141b6cb43e0f\u0027.\"}}",
      "isContentBase64": false
    }
  },
  "Invoke-AzDynatraceManageMonitorAgentInstallation+ManageViaIdentity with Request object (validation then expected failure)+Validates identity + request object with WhatIf (pipe monitor object)+$GET+https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrgj2ihkv/providers/Dynatrace.Observability/monitors/dyobj748u3?api-version=2024-04-24+1": {
    "Request": {
      "Method": "GET",
      "RequestUri": "https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrgj2ihkv/providers/Dynatrace.Observability/monitors/dyobj748u3?api-version=2024-04-24",
      "Content": null,
      "isContentBase64": false,
      "Headers": {
        "x-ms-unique-id": [ "43" ],
        "x-ms-client-request-id": [ "5913dd96-5691-4faa-a12c-d01c03c336c2" ],
        "CommandName": [ "Get-AzDynatraceMonitor" ],
        "FullCommandName": [ "Get-AzDynatraceMonitor_Get" ],
        "ParameterSetName": [ "__AllParameterSets" ],
        "User-Agent": [ "AzurePowershell/v0.0.0", "PSVersion/v7.4.11", "Az.DynatraceObservability/0.1.0" ],
        "Authorization": [ "[Filtered]" ]
      },
      "ContentHeaders": {
      }
    },
    "Response": {
      "StatusCode": 200,
      "Headers": {
        "Cache-Control": [ "no-cache" ],
        "Pragma": [ "no-cache" ],
        "ETag": [ "\"76001273-0000-0100-0000-691380870000\"" ],
        "x-ms-ratelimit-remaining-subscription-reads": [ "249" ],
        "x-ms-providerhub-traffic": [ "True" ],
        "x-ms-request-id": [ "1dc82ac9-c3c2-46d7-9fb1-06fbf1fc53aa" ],
        "x-ms-correlation-request-id": [ "ce0ed70d-3c2c-4164-b132-5098da01d2d2" ],
        "x-ms-ratelimit-remaining-subscription-global-reads": [ "3749" ],
        "x-ms-routing-request-id": [ "EASTUS:20251111T183458Z:ce0ed70d-3c2c-4164-b132-5098da01d2d2" ],
        "Strict-Transport-Security": [ "max-age=31536000; includeSubDomains" ],
        "X-Content-Type-Options": [ "nosniff" ],
        "X-Cache": [ "CONFIG_NOCACHE" ],
        "X-MSEdge-Ref": [ "Ref A: 5F73714047E5488C851537CCA803E3FF Ref B: JKT201051406040 Ref C: 2025-11-11T18:34:58Z" ],
        "Date": [ "Tue, 11 Nov 2025 18:34:58 GMT" ]
      },
      "ContentHeaders": {
        "Content-Length": [ "1437" ],
        "Content-Type": [ "application/json; charset=utf-8" ],
        "Expires": [ "-1" ]
      },
      "Content": "{\"id\":\"/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrgj2ihkv/providers/Dynatrace.Observability/monitors/dyobj748u3\",\"name\":\"dyobj748u3\",\"type\":\"dynatrace.observability/monitors\",\"location\":\"eastus\",\"systemData\":{\"createdBy\":\"arushiarora@microsoft.com\",\"createdByType\":\"User\",\"createdAt\":\"2025-11-11T18:26:44.2215462Z\",\"lastModifiedBy\":\"dba650ed-9577-4bc0-9b5f-ef73e2d5bdfc\",\"lastModifiedByType\":\"Application\",\"lastModifiedAt\":\"2025-11-11T18:29:27.5947251Z\"},\"properties\":{\"monitoringStatus\":\"Enabled\",\"marketplaceSubscriptionStatus\":\"Active\",\"dynatraceEnvironmentProperties\":{\"userId\":\"246a4351-40f4-40d1-855c-f785e9b6530d\",\"accountInfo\":{\"accountId\":\"c8c08bfe-ce8a-4f4a-ba69-965ac51e1b56\",\"regionId\":\"eastus\"},\"environmentInfo\":{\"environmentId\":\"qai88853\",\"logsIngestionEndpoint\":\"https://qai88853.live.dynatrace.com/api/v2/logs/ingest\",\"landingURL\":\"https://qai88853.live.dynatrace.com/\"},\"singleSignOnProperties\":{\"singleSignOnState\":\"Initial\",\"aadDomains\":[\"mpliftrlogz20210811outlook.onmicrosoft.com\"],\"provisioningState\":\"Accepted\"}},\"userInfo\":{\"firstName\":\"Lucas\",\"lastName\":\"Yao\",\"emailAddress\":\"agarwalshiv@microsoft.com\"},\"planData\":{\"usageType\":\"COMMITTED\",\"billingCycle\":\"MONTHLY\",\"planDetails\":\"azureportalintegration_privatepreview@TIDgmz7xq9ge3py\",\"effectiveDate\":\"2025-11-11T18:29:00.1586178Z\"},\"liftrResourceCategory\":\"MonitorLogs\",\"liftrResourcePreference\":0,\"provisioningState\":\"Succeeded\"}}",
      "isContentBase64": false
    }
  },
  "Invoke-AzDynatraceManageMonitorAgentInstallation+ManageViaIdentity with Request object (validation then expected failure)+Actual uninstall via identity expected to throw (backend error)+$GET+https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrgj2ihkv/providers/Dynatrace.Observability/monitors/dyobj748u3?api-version=2024-04-24+1": {
    "Request": {
      "Method": "GET",
      "RequestUri": "https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrgj2ihkv/providers/Dynatrace.Observability/monitors/dyobj748u3?api-version=2024-04-24",
      "Content": null,
      "isContentBase64": false,
      "Headers": {
        "x-ms-unique-id": [ "44" ],
        "x-ms-client-request-id": [ "49c9dcbd-2564-43b2-b725-9290e7b9705f" ],
        "CommandName": [ "Get-AzDynatraceMonitor" ],
        "FullCommandName": [ "Get-AzDynatraceMonitor_Get" ],
        "ParameterSetName": [ "__AllParameterSets" ],
        "User-Agent": [ "AzurePowershell/v0.0.0", "PSVersion/v7.4.11", "Az.DynatraceObservability/0.1.0" ],
        "Authorization": [ "[Filtered]" ]
      },
      "ContentHeaders": {
      }
    },
    "Response": {
      "StatusCode": 200,
      "Headers": {
        "Cache-Control": [ "no-cache" ],
        "Pragma": [ "no-cache" ],
        "ETag": [ "\"76001273-0000-0100-0000-691380870000\"" ],
        "x-ms-ratelimit-remaining-subscription-reads": [ "249" ],
        "x-ms-providerhub-traffic": [ "True" ],
        "x-ms-request-id": [ "21cad4a8-96ba-42d7-b803-48f0ecf0fdcd" ],
        "x-ms-correlation-request-id": [ "7feab238-89f6-4f43-9d1b-c30bee4f7740" ],
        "x-ms-ratelimit-remaining-subscription-global-reads": [ "3749" ],
        "x-ms-routing-request-id": [ "EASTUS:20251111T183459Z:7feab238-89f6-4f43-9d1b-c30bee4f7740" ],
        "Strict-Transport-Security": [ "max-age=31536000; includeSubDomains" ],
        "X-Content-Type-Options": [ "nosniff" ],
        "X-Cache": [ "CONFIG_NOCACHE" ],
        "X-MSEdge-Ref": [ "Ref A: 50AE3F27248A46C0B4ADD0E638C4E84F Ref B: JKT201051406040 Ref C: 2025-11-11T18:34:59Z" ],
        "Date": [ "Tue, 11 Nov 2025 18:34:58 GMT" ]
      },
      "ContentHeaders": {
        "Content-Length": [ "1437" ],
        "Content-Type": [ "application/json; charset=utf-8" ],
        "Expires": [ "-1" ]
      },
      "Content": "{\"id\":\"/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrgj2ihkv/providers/Dynatrace.Observability/monitors/dyobj748u3\",\"name\":\"dyobj748u3\",\"type\":\"dynatrace.observability/monitors\",\"location\":\"eastus\",\"systemData\":{\"createdBy\":\"arushiarora@microsoft.com\",\"createdByType\":\"User\",\"createdAt\":\"2025-11-11T18:26:44.2215462Z\",\"lastModifiedBy\":\"dba650ed-9577-4bc0-9b5f-ef73e2d5bdfc\",\"lastModifiedByType\":\"Application\",\"lastModifiedAt\":\"2025-11-11T18:29:27.5947251Z\"},\"properties\":{\"monitoringStatus\":\"Enabled\",\"marketplaceSubscriptionStatus\":\"Active\",\"dynatraceEnvironmentProperties\":{\"userId\":\"246a4351-40f4-40d1-855c-f785e9b6530d\",\"accountInfo\":{\"accountId\":\"c8c08bfe-ce8a-4f4a-ba69-965ac51e1b56\",\"regionId\":\"eastus\"},\"environmentInfo\":{\"environmentId\":\"qai88853\",\"logsIngestionEndpoint\":\"https://qai88853.live.dynatrace.com/api/v2/logs/ingest\",\"landingURL\":\"https://qai88853.live.dynatrace.com/\"},\"singleSignOnProperties\":{\"singleSignOnState\":\"Initial\",\"aadDomains\":[\"mpliftrlogz20210811outlook.onmicrosoft.com\"],\"provisioningState\":\"Accepted\"}},\"userInfo\":{\"firstName\":\"Lucas\",\"lastName\":\"Yao\",\"emailAddress\":\"agarwalshiv@microsoft.com\"},\"planData\":{\"usageType\":\"COMMITTED\",\"billingCycle\":\"MONTHLY\",\"planDetails\":\"azureportalintegration_privatepreview@TIDgmz7xq9ge3py\",\"effectiveDate\":\"2025-11-11T18:29:00.1586178Z\"},\"liftrResourceCategory\":\"MonitorLogs\",\"liftrResourcePreference\":0,\"provisioningState\":\"Succeeded\"}}",
      "isContentBase64": false
    }
  },
  "Invoke-AzDynatraceManageMonitorAgentInstallation+ManageViaIdentity with Request object (validation then expected failure)+Actual uninstall via identity expected to throw (backend error)+$POST+https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrgj2ihkv/providers/Dynatrace.Observability/monitors/dyobj748u3/manageAgentInstallation?api-version=2024-04-24+2": {
    "Request": {
      "Method": "POST",
      "RequestUri": "https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrgj2ihkv/providers/Dynatrace.Observability/monitors/dyobj748u3/manageAgentInstallation?api-version=2024-04-24",
      "Content": "{\n  \"manageAgentInstallationList\": [\n    {\n      \"id\": \"/subscriptions//resourceGroups/dyobrgj2ihkv/providers/Microsoft.Compute/virtualMachines/sampleVM1\"\n    }\n  ],\n  \"action\": \"Uninstall\"\n}",
      "isContentBase64": false,
      "Headers": {
      },
      "ContentHeaders": {
        "Content-Type": [ "application/json" ],
        "Content-Length": [ "191" ]
      }
    },
    "Response": {
      "StatusCode": 500,
      "Headers": {
        "Cache-Control": [ "no-cache" ],
        "Pragma": [ "no-cache" ],
        "x-ms-failure-cause": [ "gateway" ],
        "x-ms-request-id": [ "72866399-d4d3-4e47-9fd9-af017e8dfa77" ],
        "x-ms-correlation-request-id": [ "72866399-d4d3-4e47-9fd9-af017e8dfa77" ],
        "x-ms-routing-request-id": [ "EASTUS:20251111T183501Z:72866399-d4d3-4e47-9fd9-af017e8dfa77" ],
        "Strict-Transport-Security": [ "max-age=31536000; includeSubDomains" ],
        "X-Content-Type-Options": [ "nosniff" ],
        "X-Cache": [ "CONFIG_NOCACHE" ],
        "X-MSEdge-Ref": [ "Ref A: 82A3560F684D4FC89B4ABB1D927AEFB0 Ref B: JKT201051407054 Ref C: 2025-11-11T18:35:01Z" ],
        "Date": [ "Tue, 11 Nov 2025 18:35:01 GMT" ]
      },
      "ContentHeaders": {
        "Content-Length": [ "312" ],
        "Content-Type": [ "application/json; charset=utf-8" ],
        "Expires": [ "-1" ]
      },
      "Content": "{\"error\":{\"code\":\"InternalServerError\",\"message\":\"Encountered internal server error. Diagnostic information: timestamp \u002720251111T183501Z\u0027, subscription id \u0027b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c\u0027, tracking id \u002772866399-d4d3-4e47-9fd9-af017e8dfa77\u0027, request correlation id \u002772866399-d4d3-4e47-9fd9-af017e8dfa77\u0027.\"}}",
      "isContentBase64": false
    }
  },
  "Invoke-AzDynatraceManageMonitorAgentInstallation+ManageViaJsonString (validation then expected failure)+Actual JSON string install expected to throw+$POST+https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrgj2ihkv/providers/Dynatrace.Observability/monitors/dyobj748u3/manageAgentInstallation?api-version=2024-04-24+1": {
    "Request": {
      "Method": "POST",
      "RequestUri": "https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrgj2ihkv/providers/Dynatrace.Observability/monitors/dyobj748u3/manageAgentInstallation?api-version=2024-04-24",
      "Content": "{\n  \"action\": \"Install\",\n  \"manageAgentInstallationList\": [\n    {\n      \"id\": \"/subscriptions//resourceGroups/dyobrgj2ihkv/providers/Microsoft.Compute/virtualMachines/sampleVM1\"\n    }\n  ]\n}",
      "isContentBase64": false,
      "Headers": {
      },
      "ContentHeaders": {
        "Content-Type": [ "application/json" ],
        "Content-Length": [ "189" ]
      }
    },
    "Response": {
      "StatusCode": 500,
      "Headers": {
        "Cache-Control": [ "no-cache" ],
        "Pragma": [ "no-cache" ],
        "x-ms-failure-cause": [ "gateway" ],
        "x-ms-request-id": [ "e01fb043-9a9b-495a-bc57-debab2ac2f86" ],
        "x-ms-correlation-request-id": [ "e01fb043-9a9b-495a-bc57-debab2ac2f86" ],
        "x-ms-routing-request-id": [ "EASTUS:20251111T183504Z:e01fb043-9a9b-495a-bc57-debab2ac2f86" ],
        "Strict-Transport-Security": [ "max-age=31536000; includeSubDomains" ],
        "X-Content-Type-Options": [ "nosniff" ],
        "X-Cache": [ "CONFIG_NOCACHE" ],
        "X-MSEdge-Ref": [ "Ref A: DDA7A25D9F5F46FFBC8D251F88AB2C52 Ref B: JKT201051407060 Ref C: 2025-11-11T18:35:04Z" ],
        "Date": [ "Tue, 11 Nov 2025 18:35:04 GMT" ]
      },
      "ContentHeaders": {
        "Content-Length": [ "312" ],
        "Content-Type": [ "application/json; charset=utf-8" ],
        "Expires": [ "-1" ]
      },
      "Content": "{\"error\":{\"code\":\"InternalServerError\",\"message\":\"Encountered internal server error. Diagnostic information: timestamp \u002720251111T183504Z\u0027, subscription id \u0027b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c\u0027, tracking id \u0027e01fb043-9a9b-495a-bc57-debab2ac2f86\u0027, request correlation id \u0027e01fb043-9a9b-495a-bc57-debab2ac2f86\u0027.\"}}",
      "isContentBase64": false
    }
  },
  "Invoke-AzDynatraceManageMonitorAgentInstallation+ManageViaJsonFilePath (validation then expected failure)+Actual JSON file path install expected to throw+$POST+https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrgj2ihkv/providers/Dynatrace.Observability/monitors/dyobj748u3/manageAgentInstallation?api-version=2024-04-24+1": {
    "Request": {
      "Method": "POST",
      "RequestUri": "https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrgj2ihkv/providers/Dynatrace.Observability/monitors/dyobj748u3/manageAgentInstallation?api-version=2024-04-24",
      "Content": "ewogICJhY3Rpb24iOiAiSW5zdGFsbCIsCiAgIm1hbmFnZUFnZW50SW5zdGFsbGF0aW9uTGlzdCI6IFsKICAgIHsKICAgICAgImlkIjogIi9zdWJzY3JpcHRpb25zLy9yZXNvdXJjZUdyb3Vwcy9keW9icmdqMmloa3YvcHJvdmlkZXJzL01pY3Jvc29mdC5Db21wdXRlL3ZpcnR1YWxNYWNoaW5lcy9zYW1wbGVWTTEiCiAgICB9CiAgXQp9Cg==",
      "isContentBase64": false,
      "Headers": {
      },
      "ContentHeaders": {
        "Content-Type": [ "application/json" ],
        "Content-Length": [ "190" ]
      }
    },
    "Response": {
      "StatusCode": 500,
      "Headers": {
        "Cache-Control": [ "no-cache" ],
        "Pragma": [ "no-cache" ],
        "x-ms-failure-cause": [ "gateway" ],
        "x-ms-request-id": [ "d9f96b24-39d2-4e61-b6f1-4f19097d47a1" ],
        "x-ms-correlation-request-id": [ "d9f96b24-39d2-4e61-b6f1-4f19097d47a1" ],
        "x-ms-routing-request-id": [ "EASTUS:20251111T183507Z:d9f96b24-39d2-4e61-b6f1-4f19097d47a1" ],
        "Strict-Transport-Security": [ "max-age=31536000; includeSubDomains" ],
        "X-Content-Type-Options": [ "nosniff" ],
        "X-Cache": [ "CONFIG_NOCACHE" ],
        "X-MSEdge-Ref": [ "Ref A: 2FB65F9DE1EE4B9F9659815F14FB5EE8 Ref B: JKT201051407052 Ref C: 2025-11-11T18:35:06Z" ],
        "Date": [ "Tue, 11 Nov 2025 18:35:07 GMT" ]
      },
      "ContentHeaders": {
        "Content-Length": [ "312" ],
        "Content-Type": [ "application/json; charset=utf-8" ],
        "Expires": [ "-1" ]
      },
      "Content": "{\"error\":{\"code\":\"InternalServerError\",\"message\":\"Encountered internal server error. Diagnostic information: timestamp \u002720251111T183507Z\u0027, subscription id \u0027b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c\u0027, tracking id \u0027d9f96b24-39d2-4e61-b6f1-4f19097d47a1\u0027, request correlation id \u0027d9f96b24-39d2-4e61-b6f1-4f19097d47a1\u0027.\"}}",
      "isContentBase64": false
    }
  },
  "Invoke-AzDynatraceManageMonitorAgentInstallation+Empty resource list edge (validation only)+Actual call with empty list expected to throw+$POST+https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrgj2ihkv/providers/Dynatrace.Observability/monitors/dyobj748u3/manageAgentInstallation?api-version=2024-04-24+1": {
    "Request": {
      "Method": "POST",
      "RequestUri": "https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrgj2ihkv/providers/Dynatrace.Observability/monitors/dyobj748u3/manageAgentInstallation?api-version=2024-04-24",
      "Content": "{\n  \"manageAgentInstallationList\": [ ],\n  \"action\": \"Install\"\n}",
      "isContentBase64": false,
      "Headers": {
      },
      "ContentHeaders": {
        "Content-Type": [ "application/json" ],
        "Content-Length": [ "63" ]
      }
    },
    "Response": {
      "StatusCode": 400,
      "Headers": {
        "Cache-Control": [ "no-cache" ],
        "Pragma": [ "no-cache" ],
        "x-ms-operation-identifier": [ "tenantId=888d76fa-54b2-4ced-8ee5-aac1585adee7,objectId=5cd9a09c-ba05-4fc8-8c8a-6d4d17e49a6e/eastus/bc915d32-0b50-4494-90b1-86d5423933a1" ],
        "x-ms-providerhub-traffic": [ "True" ],
        "Request-Context": [ "appId=cid-v1:fab059ea-d726-424a-9451-6beb3dc74944" ],
        "mise-correlation-id": [ "b5fb4ac7-cd7d-4b70-9b41-1f4acfb8b135" ],
        "Strict-Transport-Security": [ "max-age=31536000; includeSubDomains" ],
        "X-Content-Type-Options": [ "nosniff" ],
        "x-ms-failure-cause": [ "service" ],
        "x-ms-request-id": [ "ec9ee420-b4a5-4f0f-b2fc-b4b8a721b9a8" ],
        "x-ms-correlation-request-id": [ "89d89113-62fe-4b26-8280-95c78ec22019" ],
        "x-ms-ratelimit-remaining-subscription-writes": [ "199" ],
        "x-ms-ratelimit-remaining-subscription-global-writes": [ "2999" ],
        "x-ms-routing-request-id": [ "EASTUS:20251111T183509Z:89d89113-62fe-4b26-8280-95c78ec22019" ],
        "X-Cache": [ "CONFIG_NOCACHE" ],
        "X-MSEdge-Ref": [ "Ref A: 5E5CF27891B64F47B66CBC3818050A91 Ref B: JKT201051407052 Ref C: 2025-11-11T18:35:07Z" ],
        "Date": [ "Tue, 11 Nov 2025 18:35:09 GMT" ]
      },
      "ContentHeaders": {
        "Content-Length": [ "89" ],
        "Content-Type": [ "application/json" ],
        "Expires": [ "-1" ]
      },
      "Content": "{\"error\":{\"code\":\"BadRequest\",\"message\":\"ManageAgentInstallationList is empty or null.\"}}",
      "isContentBase64": false
    }
  },
  "Invoke-AzDynatraceManageMonitorAgentInstallation+Invalid action negative case+Throws for unsupported action value+$POST+https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrgj2ihkv/providers/Dynatrace.Observability/monitors/dyobj748u3/manageAgentInstallation?api-version=2024-04-24+1": {
    "Request": {
      "Method": "POST",
      "RequestUri": "https://management.azure.com/subscriptions/b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c/resourceGroups/dyobrgj2ihkv/providers/Dynatrace.Observability/monitors/dyobj748u3/manageAgentInstallation?api-version=2024-04-24",
      "Content": "{\n  \"action\": \"Reinstall\",\n  \"manageAgentInstallationList\": [\n    {\n      \"id\": \"/subscriptions//resourceGroups/dyobrgj2ihkv/providers/Microsoft.Compute/virtualMachines/sampleVM1\"\n    }\n  ]\n}",
      "isContentBase64": false,
      "Headers": {
      },
      "ContentHeaders": {
        "Content-Type": [ "application/json" ],
        "Content-Length": [ "191" ]
      }
    },
    "Response": {
      "StatusCode": 500,
      "Headers": {
        "Cache-Control": [ "no-cache" ],
        "Pragma": [ "no-cache" ],
        "x-ms-failure-cause": [ "gateway" ],
        "x-ms-request-id": [ "12621fd4-2ff7-4928-96af-d3409f8e73c5" ],
        "x-ms-correlation-request-id": [ "12621fd4-2ff7-4928-96af-d3409f8e73c5" ],
        "x-ms-routing-request-id": [ "EASTUS:20251111T183513Z:12621fd4-2ff7-4928-96af-d3409f8e73c5" ],
        "Strict-Transport-Security": [ "max-age=31536000; includeSubDomains" ],
        "X-Content-Type-Options": [ "nosniff" ],
        "X-Cache": [ "CONFIG_NOCACHE" ],
        "X-MSEdge-Ref": [ "Ref A: FB00DCF102FB4D9B9B272A7E54354D32 Ref B: JKT201051406054 Ref C: 2025-11-11T18:35:12Z" ],
        "Date": [ "Tue, 11 Nov 2025 18:35:12 GMT" ]
      },
      "ContentHeaders": {
        "Content-Length": [ "312" ],
        "Content-Type": [ "application/json; charset=utf-8" ],
        "Expires": [ "-1" ]
      },
      "Content": "{\"error\":{\"code\":\"InternalServerError\",\"message\":\"Encountered internal server error. Diagnostic information: timestamp \u002720251111T183513Z\u0027, subscription id \u0027b16e4b4e-2ed8-4f32-bac1-0e3eb56bef5c\u0027, tracking id \u002712621fd4-2ff7-4928-96af-d3409f8e73c5\u0027, request correlation id \u002712621fd4-2ff7-4928-96af-d3409f8e73c5\u0027.\"}}",
      "isContentBase64": false
    }
  }
}