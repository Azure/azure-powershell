# Regex for ResourceId verification and parsing
$labPlanRegex = "(?i)^/?subscriptions/(?<subscriptionId>[0-9a-f]{8}-([0-9a-f]{4}-){3}[0-9a-f]{12})/resourceGroups/(?<resourceGroupName>[-\w\._\(\)]{1,90})/providers/Microsoft.LabServices/labPlans/(?<labPlanName>[-\w\._\(\)]{1,100})$"
$labRegex = "(?i)^/?subscriptions/(?<subscriptionId>[0-9a-f]{8}-([0-9a-f]{4}-){3}[0-9a-f]{12})/resourceGroups/(?<resourceGroupName>[-\w\._\(\)]{1,90})/providers/Microsoft.LabServices/labs/(?<labName>[-\w\._\(\)]{1,100})$"
$userRegex = "(?i)^/?subscriptions/(?<subscriptionId>[0-9a-f]{8}-([0-9a-f]{4}-){3}[0-9a-f]{12})/resourceGroups/(?<resourceGroupName>[-\w\._\(\)]{1,90})/providers/Microsoft.LabServices/labs/(?<labName>[-\w\._\(\)]{1,100})/users/(?<userName>[-\w\._\(\)]{1,100})$"
$vmRegex = "(?i)^/?subscriptions/(?<subscriptionId>[0-9a-f]{8}-([0-9a-f]{4}-){3}[0-9a-f]{12})/resourceGroups/(?<resourceGroupName>[-\w\._\(\)]{1,90})/providers/Microsoft.LabServices/labs/(?<labName>[-\w\._\(\)]{1,100})/virtualMachines/(?<vmName>[-\w\._\(\)]{1,100})$"
$scheduleRegex = "(?i)^/?subscriptions/(?<subscriptionId>[0-9a-f]{8}-([0-9a-f]{4}-){3}[0-9a-f]{12})/resourceGroups/(?<resourceGroupName>[-\w\._\(\)]{1,90})/providers/Microsoft.LabServices/labs/(?<labName>[-\w\._\(\)]{1,100})/schedules/(?<scheduleName>[-\w\._\(\)]{1,100})$"
$imageRegex = "(?i)^/?subscriptions/(?<subscriptionId>[0-9a-f]{8}-([0-9a-f]{4}-){3}[0-9a-f]{12})/resourceGroups/(?<resourceGroupName>[-\w\._\(\)]{1,90})/providers/Microsoft.LabServices/labPlans/(?<labPlanName>[-\w\._\(\)]{1,100})/images/(?<imageName>[-\w\._\(\)]{1,100})$"